"use strict";(self.webpackChunkreview_forum=self.webpackChunkreview_forum||[]).push([[179],{2011:(it,ye,F)=>{F.d(ye,{Dh:()=>le,GT:()=>ie,cc:()=>Ce,hO:()=>xe,on:()=>W,pX:()=>re,xv:()=>ue});var l=F(4650),G=F(9260),M=F(2122);it=F.hmd(it);const ee=["ngOnDestroy"],re=(be,ve,Re,Ie={})=>new Proxy(be,{get:(Ne,Ee)=>Re.runOutsideAngular(()=>{var Ve;if(be[Ee])return!(null===(Ve=Ie?.spy)||void 0===Ve)&&Ve.get&&Ie.spy.get(Ee,be[Ee]),be[Ee];if(ee.indexOf(Ee)>-1)return()=>{};const Q=ve.toPromise().then(se=>{const pe=se&&se[Ee];return"function"==typeof pe?pe.bind(se):pe&&pe.then?pe.then(Be=>Re.run(()=>Be)):Re.run(()=>pe)});return new Proxy(()=>{},{get:(se,pe)=>Q[pe],apply:(se,pe,Be)=>Q.then(Me=>{var mt;const We=Me&&Me(...Be);return!(null===(mt=Ie?.spy)||void 0===mt)&&mt.apply&&Ie.spy.apply(Ee,Be,We),We})})})}),ie=(be,ve)=>{ve.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ie))})})};class fe{constructor(ve){return ve}}const le=new l.OlP("angularfire2.app.options"),ue=new l.OlP("angularfire2.app.name");function W(be,ve,Re){const Ne="object"==typeof Re&&Re||{};Ne.name=Ne.name||"string"==typeof Re&&Re||"[DEFAULT]";const Ve=G.Z.apps.filter(Q=>Q&&Q.name===Ne.name)[0]||ve.runOutsideAngular(()=>G.Z.initializeApp(be,Ne));try{JSON.stringify(be)!==JSON.stringify(Ve.options)&&z("error",`${Ve.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ve)}const z=(be,...ve)=>{(0,l.X6Q)()&&typeof console<"u"&&console[be](...ve)},Z={provide:fe,useFactory:W,deps:[le,l.R0b,[new l.FiY,ue]]};let xe=(()=>{class be{constructor(Re){G.Z.registerVersion("angularfire",M.q4.full,"core"),G.Z.registerVersion("angularfire",M.q4.full,"app-compat"),G.Z.registerVersion("angular",l.q4F.full,Re.toString())}static initializeApp(Re,Ie){return{ngModule:be,providers:[{provide:le,useValue:Re},{provide:ue,useValue:Ie}]}}}return be.\u0275fac=function(Re){return new(Re||be)(l.LFG(l.Lbi))},be.\u0275mod=l.oAB({type:be}),be.\u0275inj=l.cJS({providers:[Z]}),be})();function Ce(be,ve,Re,Ie,Ne){const[,Ee,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Q=>Q[0]===be)||[];if(Ee)return function Ge(be,ve){try{return be.toString()===ve.toString()}catch{return be===ve}}(Ne,Ve)||(he("error",`${ve} was already initialized on the ${Re} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ne,was:Ve})),Ee;{const Q=Ie();return globalThis.\u0275AngularfireInstanceCache.push([be,Q,Ne]),Q}}const et=!!it.hot,he=(be,...ve)=>{(0,l.X6Q)()&&typeof console<"u"&&console[be](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(it,ye,F)=>{F.d(ye,{q4:()=>br,iC:()=>Ti,HU:()=>xr,vb:()=>Zh,JM:()=>Uo});var l=F(4650),G=F(259),M=F(5861),ee=F(9681),re=F(2090),ie=F(4859),fe=F(1877),le=F(8766);const ue="@firebase/installations",W="0.6.4",z=1e4,Z=`w:${W}`,xe="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,ve=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Re(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function Ie({projectId:C}){return`${Ce}/projects/${C}/installations`}function Ne(C){return{token:C.token,requestStatus:2,expiresIn:Me(C.expiresIn),creationTime:Date.now()}}function Ee(C,w){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,M.Z)(function*(C,w){const B=(yield w.json()).error;return ve.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Q({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function pe(C){return Be.apply(this,arguments)}function Be(){return(Be=(0,M.Z)(function*(C){const w=yield C();return w.status>=500&&w.status<600?C():w})).apply(this,arguments)}function Me(C){return Number(C.replace("s","000"))}function oe(){return(oe=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:w},{fid:A}){const B=Ie(C),q=Q(C),ne=w.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ze={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:xe,appId:C.appId,sdkVersion:Z})},$e=yield pe(()=>fetch(B,Ze));if($e.ok){const ft=yield $e.json();return{fid:ft.fid||A,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ne(ft.authToken)}}throw yield Ee("Create Installation",$e)})).apply(this,arguments)}function ce(C){return new Promise(w=>{setTimeout(w,C)})}const Te=/^[cdef][\w-]{21}$/,Pe="";function ke(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const A=function ze(C){return function ge(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Te.test(A)?A:Pe}catch{return Pe}}function je(C){return`${C.appName}!${C.appId}`}const Kt=new Map;function lt(C,w){const A=je(C);jt(A,w),function wn(C,w){const A=function Jt(){return!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=C=>{jt(C.data.key,C.data.fid)}),Qt}();A&&A.postMessage({key:C,fid:w}),function zn(){0===Kt.size&&Qt&&(Qt.close(),Qt=null)}()}(A,w)}function jt(C,w){const A=Kt.get(C);if(A)for(const B of A)B(w)}let Qt=null;const bi="firebase-installations-database",pr=1,On="firebase-installations-store";let $i=null;function sr(){return $i||($i=(0,le.X3)(bi,pr,{upgrade:(C,w)=>{0===w&&C.createObjectStore(On)}})),$i}function on(C,w){return ei.apply(this,arguments)}function ei(){return(ei=(0,M.Z)(function*(C,w){const A=je(C),q=(yield sr()).transaction(On,"readwrite"),ne=q.objectStore(On),Se=yield ne.get(A);return yield ne.put(w,A),yield q.done,(!Se||Se.fid!==w.fid)&&lt(C,w.fid),w})).apply(this,arguments)}function Qe(C){return si.apply(this,arguments)}function si(){return(si=(0,M.Z)(function*(C){const w=je(C),B=(yield sr()).transaction(On,"readwrite");yield B.objectStore(On).delete(w),yield B.done})).apply(this,arguments)}function ai(C,w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,M.Z)(function*(C,w){const A=je(C),q=(yield sr()).transaction(On,"readwrite"),ne=q.objectStore(On),Se=yield ne.get(A),Ze=w(Se);return void 0===Ze?yield ne.delete(A):yield ne.put(Ze,A),yield q.done,Ze&&(!Se||Se.fid!==Ze.fid)&&lt(C,Ze.fid),Ze})).apply(this,arguments)}function Mn(C){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,M.Z)(function*(C){let w;const A=yield ai(C.appConfig,B=>{const q=function Ct(C){return Yn(C||{fid:ke(),registrationStatus:0})}(B),ne=function rt(C,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(ve.create("app-offline"))};const A={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},B=function Dt(C,w){return ln.apply(this,arguments)}(C,A);return{installationEntry:A,registrationPromise:B}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:In(C)}:{installationEntry:w}}(C,q);return w=ne.registrationPromise,ne.installationEntry});return A.fid===Pe?{installationEntry:yield w}:{installationEntry:A,registrationPromise:w}}),Mi.apply(this,arguments)}function ln(){return ln=(0,M.Z)(function*(C,w){try{const A=yield function We(C,w){return oe.apply(this,arguments)}(C,w);return on(C.appConfig,A)}catch(A){throw Re(A)&&409===A.customData.serverCode?yield Qe(C.appConfig):yield on(C.appConfig,{fid:w.fid,registrationStatus:0}),A}}),ln.apply(this,arguments)}function In(C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,M.Z)(function*(C){let w=yield ti(C.appConfig);for(;1===w.registrationStatus;)yield ce(100),w=yield ti(C.appConfig);if(0===w.registrationStatus){const{installationEntry:A,registrationPromise:B}=yield Mn(C);return B||A}return w})).apply(this,arguments)}function ti(C){return ai(C,w=>{if(!w)throw ve.create("installation-not-found");return Yn(w)})}function Yn(C){return function ar(C){return 1===C.registrationStatus&&C.registrationTime+z<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function lr(){return(lr=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:w},A){const B=function Mt(C,{fid:w}){return`${Ie(C)}/${w}/authTokens:generate`}(C,A),q=function se(C,{refreshToken:w}){const A=Q(C);return A.append("Authorization",function mt(C){return`${xe} ${C}`}(w)),A}(C,A),ne=w.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ze={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Z,appId:C.appId}})},$e=yield pe(()=>fetch(B,Ze));if($e.ok)return Ne(yield $e.json());throw yield Ee("Generate Auth Token",$e)})).apply(this,arguments)}function Pi(C){return kn.apply(this,arguments)}function kn(){return kn=(0,M.Z)(function*(C,w=!1){let A;const B=yield ai(C.appConfig,ne=>{if(!Vt(ne))throw ve.create("not-registered");const Se=ne.authToken;if(!w&&function xn(C){return 2===C.requestStatus&&!function $(C){const w=Date.now();return w<C.creationTime||C.creationTime+C.expiresIn<w+Ge}(C)}(Se))return ne;if(1===Se.requestStatus)return A=function Fe(C,w){return me.apply(this,arguments)}(C,w),ne;{if(!navigator.onLine)throw ve.create("app-offline");const Ze=function j(C){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:w})}(ne);return A=function ct(C,w){return bt.apply(this,arguments)}(C,Ze),Ze}});return A?yield A:B.authToken}),kn.apply(this,arguments)}function me(){return(me=(0,M.Z)(function*(C,w){let A=yield Ye(C.appConfig);for(;1===A.authToken.requestStatus;)yield ce(100),A=yield Ye(C.appConfig);const B=A.authToken;return 0===B.requestStatus?Pi(C,w):B})).apply(this,arguments)}function Ye(C){return ai(C,w=>{if(!Vt(w))throw ve.create("not-registered");return function P(C){return 1===C.requestStatus&&C.requestTime+z<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function bt(){return bt=(0,M.Z)(function*(C,w){try{const A=yield function St(C,w){return lr.apply(this,arguments)}(C,w),B=Object.assign(Object.assign({},w),{authToken:A});return yield on(C.appConfig,B),A}catch(A){if(!Re(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const B=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield on(C.appConfig,B)}else yield Qe(C.appConfig);throw A}}),bt.apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function O(){return(O=(0,M.Z)(function*(C){const w=C,{installationEntry:A,registrationPromise:B}=yield Mn(w);return B?B.catch(console.error):Pi(w).catch(console.error),A.fid})).apply(this,arguments)}function ae(){return ae=(0,M.Z)(function*(C,w=!1){const A=C;return yield function Xe(C){return gt.apply(this,arguments)}(A),(yield Pi(A,w)).token}),ae.apply(this,arguments)}function gt(){return(gt=(0,M.Z)(function*(C){const{registrationPromise:w}=yield Mn(C);w&&(yield w)})).apply(this,arguments)}function Ia(C){return ve.create("missing-app-config-values",{valueName:C})}const Ta="installations",ks=C=>{const w=C.getProvider("app").getImmediate(),A=function Ps(C){if(!C||!C.options)throw Ia("App Configuration");if(!C.name)throw Ia("App Name");const w=["projectId","apiKey","appId"];for(const A of w)if(!C.options[A])throw Ia(A);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(w);return{app:w,appConfig:A,heartbeatServiceProvider:(0,ee._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},ml=C=>{const w=C.getProvider("app").getImmediate(),A=(0,ee._getProvider)(w,Ta).getImmediate();return{getId:()=>function k(C){return O.apply(this,arguments)}(A),getToken:q=>function J(C){return ae.apply(this,arguments)}(A,q)}};(function vl(){(0,ee._registerComponent)(new ie.wA(Ta,ks,"PUBLIC")),(0,ee._registerComponent)(new ie.wA("installations-internal",ml,"PRIVATE"))})(),(0,ee.registerVersion)(ue,W),(0,ee.registerVersion)(ue,W,"esm2017");const Zt="@firebase/remote-config",fn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xr{constructor(w,A,B,q){this.client=w,this.storage=A,this.storageCache=B,this.logger=q}isCachedDataFresh(w,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-A,q=B<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${q}.`),q}fetch(w){var A=this;return(0,M.Z)(function*(){const[B,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(w.cacheMaxAgeMillis,B))return q;w.eTag=q&&q.eTag;const ne=yield A.client.fetch(w),Se=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Se.push(A.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Se),ne})()}}function ts(C=navigator){return C.languages&&C.languages[0]||C.language}class Yt{constructor(w,A,B,q,ne,Se){this.firebaseInstallations=w,this.sdkVersion=A,this.namespace=B,this.projectId=q,this.apiKey=ne,this.appId=Se}fetch(w){var A=this;return(0,M.Z)(function*(){const[B,q]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:B,app_instance_id_token:q,app_id:A.appId,language_code:ts()},ft={method:"POST",headers:Ze,body:JSON.stringify($e)},Ut=fetch(Se,ft),dt=new Promise((pi,qi)=>{w.signal.addEventListener(()=>{const xl=new Error("The operation was aborted.");xl.name="AbortError",qi(xl)})});let qn;try{yield Promise.race([Ut,dt]),qn=yield Ut}catch(pi){let qi="fetch-client-network";throw"AbortError"===pi?.name&&(qi="fetch-timeout"),fn.create(qi,{originalErrorMessage:pi?.message})}let mn=qn.status;const V=qn.headers.get("ETag")||void 0;let Bo,Es;if(200===qn.status){let pi;try{pi=yield qn.json()}catch(qi){throw fn.create("fetch-client-parse",{originalErrorMessage:qi?.message})}Bo=pi.entries,Es=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?mn=500:"NO_CHANGE"===Es?mn=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(Bo={}),304!==mn&&200!==mn)throw fn.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:V,config:Bo}})()}}class Sn{constructor(w,A){this.client=w,this.storage=A}fetch(w){var A=this;return(0,M.Z)(function*(){const B=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(w,B)})()}attemptFetch(w,{throttleEndTimeMillis:A,backoffCount:B}){var q=this;return(0,M.Z)(function*(){yield function Sr(C,w){return new Promise((A,B)=>{const q=Math.max(w-Date.now(),0),ne=setTimeout(A,q);C.addEventListener(()=>{clearTimeout(ne),B(fn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,A);try{const ne=yield q.client.fetch(w);return yield q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Dc(C){if(!(C instanceof re.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(ne))throw ne;const Se={throttleEndTimeMillis:Date.now()+(0,re.$s)(B),backoffCount:B+1};return yield q.storage.setThrottleMetadata(Se),q.attemptFetch(w,Se)}})()}}class is{constructor(w,A,B,q,ne){this.app=w,this._client=A,this._storageCache=B,this._storage=q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ln(C,w){const A=C.target.error||void 0;return fn.create(w,{originalErrorMessage:A&&A?.message})}const rs="app_namespace_store";class No{constructor(w,A,B,q=function yl(){return new Promise((C,w)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=B=>{w(Ln(B,"storage-open"))},A.onsuccess=B=>{C(B.target.result)},A.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(A){w(fn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=w,this.appName=A,this.namespace=B,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var A=this;return(0,M.Z)(function*(){const B=yield A.openDbPromise;return new Promise((q,ne)=>{const Ze=B.transaction([rs],"readonly").objectStore(rs),$e=A.createCompositeKey(w);try{const ft=Ze.get($e);ft.onerror=Ut=>{ne(Ln(Ut,"storage-get"))},ft.onsuccess=Ut=>{const dt=Ut.target.result;q(dt?dt.value:void 0)}}catch(ft){ne(fn.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(w,A){var B=this;return(0,M.Z)(function*(){const q=yield B.openDbPromise;return new Promise((ne,Se)=>{const $e=q.transaction([rs],"readwrite").objectStore(rs),ft=B.createCompositeKey(w);try{const Ut=$e.put({compositeKey:ft,value:A});Ut.onerror=dt=>{Se(Ln(dt,"storage-set"))},Ut.onsuccess=()=>{ne()}}catch(Ut){Se(fn.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(w){var A=this;return(0,M.Z)(function*(){const B=yield A.openDbPromise;return new Promise((q,ne)=>{const Ze=B.transaction([rs],"readwrite").objectStore(rs),$e=A.createCompositeKey(w);try{const ft=Ze.delete($e);ft.onerror=Ut=>{ne(Ln(Ut,"storage-delete"))},ft.onsuccess=()=>{q()}}catch(ft){ne(fn.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class Nr{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,M.Z)(function*(){const A=w.storage.getLastFetchStatus(),B=w.storage.getLastSuccessfulFetchTimestampMillis(),q=w.storage.getActiveConfig(),ne=yield A;ne&&(w.lastFetchStatus=ne);const Se=yield B;Se&&(w.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield q;Ze&&(w.activeConfig=Ze)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function kh(){return xs.apply(this,arguments)}function xs(){return(xs=(0,M.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function _r(){(0,ee._registerComponent)(new ie.wA("remote-config",function C(w,{instanceIdentifier:A}){const B=w.getProvider("app").getImmediate(),q=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fn.create("registration-window");if(!(0,re.hl)())throw fn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Se,appId:Ze}=B.options;if(!ne)throw fn.create("registration-project-id");if(!Se)throw fn.create("registration-api-key");if(!Ze)throw fn.create("registration-app-id");const $e=new No(Ze,B.name,A=A||"firebase"),ft=new Nr($e),Ut=new fe.Yd(Zt);Ut.logLevel=fe.in.ERROR;const dt=new Yt(q,ee.SDK_VERSION,A,ne,Se,Ze),qn=new Sn(dt,$e),mn=new Xr(qn,$e,ft,Ut),V=new is(B,mn,ft,$e,Ut);return function Io(C){const w=(0,re.m9)(C);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(V),V},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Zt,"0.4.4"),(0,ee.registerVersion)(Zt,"0.4.4","esm2017")}();const eo="/firebase-messaging-sw.js",Fs="/firebase-cloud-messaging-push-scope",Ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xh="https://fcmregistrations.googleapis.com/v1",Cc="google.c.a.c_id",Fh="google.c.a.c_l",Ku="google.c.a.ts",Vs="google.c.a.e";var Ar=(()=>{return(C=Ar||(Ar={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ar;var C})();function Ao(C){const w=new Uint8Array(C);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Lh(C){const A=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(A),q=new Uint8Array(B.length);for(let ne=0;ne<B.length;++ne)q[ne]=B.charCodeAt(ne);return q}const ss="fcm_token_details_db",Fi=5,wc="fcm_token_object_Store";function Ra(){return Ra=(0,M.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ss))return null;let w=null;return(yield(0,le.X3)(ss,Fi,{upgrade:(B=(0,M.Z)(function*(q,ne,Se,Ze){var $e;if(ne<2||!q.objectStoreNames.contains(wc))return;const ft=Ze.objectStore(wc),Ut=yield ft.index("fcmSenderId").get(C);if(yield ft.clear(),Ut)if(2===ne){const dt=Ut;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;w={token:dt.fcmToken,createTime:null!==($e=dt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:Ao(dt.vapidKey)}}}else if(3===ne){const dt=Ut;w={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Ao(dt.auth),p256dh:Ao(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Ao(dt.vapidKey)}}}else if(4===ne){const dt=Ut;w={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Ao(dt.auth),p256dh:Ao(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Ao(dt.vapidKey)}}}}),function(ne,Se,Ze,$e){return B.apply(this,arguments)})})).close(),yield(0,le.Lj)(ss),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),function Rr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:w}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var B}),Ra.apply(this,arguments)}const Ic="firebase-messaging-database",bl=1,Ro="firebase-messaging-store";let Oa=null;function Us(){return Oa||(Oa=(0,le.X3)(Ic,bl,{upgrade:(C,w)=>{0===w&&C.createObjectStore(Ro)}})),Oa}function Bs(C){return to.apply(this,arguments)}function to(){return to=(0,M.Z)(function*(C){const w=no(C),B=yield(yield Us()).transaction(Ro).objectStore(Ro).get(w);if(B)return B;{const q=yield function Vh(C){return Ra.apply(this,arguments)}(C.appConfig.senderId);if(q)return yield Hs(C,q),q}}),to.apply(this,arguments)}function Hs(C,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,M.Z)(function*(C,w){const A=no(C),q=(yield Us()).transaction(Ro,"readwrite");return yield q.objectStore(Ro).put(w,A),yield q.done,w})).apply(this,arguments)}function Li(){return(Li=(0,M.Z)(function*(C){const w=no(C),B=(yield Us()).transaction(Ro,"readwrite");yield B.objectStore(Ro).delete(w),yield B.done})).apply(this,arguments)}function no({appConfig:C}){return C.appId}const Ht=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tc(C,w){return io.apply(this,arguments)}function io(){return(io=(0,M.Z)(function*(C,w){const A=yield Pa(C),B=ka(w),q={method:"POST",headers:A,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(Ci(C.appConfig),q)).json()}catch(Se){throw Ht.create("token-subscribe-failed",{errorInfo:Se?.toString()})}if(ne.error)throw Ht.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ht.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function js(){return(js=(0,M.Z)(function*(C,w){const A=yield Pa(C),B=ka(w.subscriptionOptions),q={method:"PATCH",headers:A,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(`${Ci(C.appConfig)}/${w.token}`,q)).json()}catch(Se){throw Ht.create("token-update-failed",{errorInfo:Se?.toString()})}if(ne.error)throw Ht.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ht.create("token-update-no-token");return ne.token})).apply(this,arguments)}function as(C,w){return Or.apply(this,arguments)}function Or(){return(Or=(0,M.Z)(function*(C,w){const B={method:"DELETE",headers:yield Pa(C)};try{const ne=yield(yield fetch(`${Ci(C.appConfig)}/${w}`,B)).json();if(ne.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(q){throw Ht.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Ci({projectId:C}){return`${xh}/projects/${C}/registrations`}function Pa(C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,M.Z)(function*({appConfig:C,installations:w}){const A=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function ka({p256dh:C,auth:w,endpoint:A,vapidKey:B}){const q={web:{endpoint:A,auth:w,p256dh:C}};return B!==Ls&&(q.web.applicationPubKey=B),q}const mr=6048e5;function ls(){return ls=(0,M.Z)(function*(C){const w=yield function Ac(C,w){return zs.apply(this,arguments)}(C.swRegistration,C.vapidKey),A={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:w.endpoint,auth:Ao(w.getKey("auth")),p256dh:Ao(w.getKey("p256dh"))},B=yield Bs(C.firebaseDependencies);if(B){if(function Qu(C,w){return w.vapidKey===C.vapidKey&&w.endpoint===C.endpoint&&w.auth===C.auth&&w.p256dh===C.p256dh}(B.subscriptionOptions,A))return Date.now()>=B.createTime+mr?function Uh(C,w){return $s.apply(this,arguments)}(C,{token:B.token,createTime:Date.now(),subscriptionOptions:A}):B.token;try{yield as(C.firebaseDependencies,B.token)}catch(q){console.warn(q)}return Nc(C.firebaseDependencies,A)}return Nc(C.firebaseDependencies,A)}),ls.apply(this,arguments)}function cs(){return cs=(0,M.Z)(function*(C){const w=yield Bs(C.firebaseDependencies);w&&(yield as(C.firebaseDependencies,w.token),yield function El(C){return Li.apply(this,arguments)}(C.firebaseDependencies));const A=yield C.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),cs.apply(this,arguments)}function $s(){return $s=(0,M.Z)(function*(C,w){try{const A=yield function ii(C,w){return js.apply(this,arguments)}(C.firebaseDependencies,w),B=Object.assign(Object.assign({},w),{token:A,createTime:Date.now()});return yield Hs(C.firebaseDependencies,B),A}catch(A){throw yield function It(C){return cs.apply(this,arguments)}(C),A}}),$s.apply(this,arguments)}function Nc(C,w){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,M.Z)(function*(C,w){const B={token:yield Tc(C,w),createTime:Date.now(),subscriptionOptions:w};return yield Hs(C,B),B.token})).apply(this,arguments)}function zs(){return(zs=(0,M.Z)(function*(C,w){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lh(w)})})).apply(this,arguments)}function we(C){const w={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function $t(C,w){if(!w.notification)return;C.notification={};const A=w.notification.title;A&&(C.notification.title=A);const B=w.notification.body;B&&(C.notification.body=B);const q=w.notification.image;q&&(C.notification.image=q);const ne=w.notification.icon;ne&&(C.notification.icon=ne)}(w,C),function vn(C,w){w.data&&(C.data=w.data)}(w,C),function Dl(C,w){var A,B,q,ne,Se;if(!(w.fcmOptions||null!==(A=w.notification)&&void 0!==A&&A.click_action))return;C.fcmOptions={};const Ze=null!==(q=null===(B=w.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==q?q:null===(ne=w.notification)||void 0===ne?void 0:ne.click_action;Ze&&(C.fcmOptions.link=Ze);const $e=null===(Se=w.fcmOptions)||void 0===Se?void 0:Se.analytics_label;$e&&(C.fcmOptions.analyticsLabel=$e)}(w,C),w}function Rc(C,w){const A=[];for(let B=0;B<C.length;B++)A.push(C.charAt(B)),B<w.length&&A.push(w.charAt(B));return A.join("")}function vr(C){return Ht.create("missing-app-config-values",{valueName:C})}Rc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xa{constructor(w,A,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function us(C){if(!C||!C.options)throw vr("App Configuration Object");if(!C.name)throw vr("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:A}=C;for(const B of w)if(!A[B])throw vr(B);return{appName:C.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:q,installations:A,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Fa(C){return La.apply(this,arguments)}function La(){return(La=(0,M.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(eo,{scope:Fs}),C.swRegistration.update().catch(()=>{})}catch(w){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function Ys(){return(Ys=(0,M.Z)(function*(C,w){if(!w&&!C.swRegistration&&(yield Fa(C)),w||!C.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");C.swRegistration=w}})).apply(this,arguments)}function zi(){return(zi=(0,M.Z)(function*(C,w){w?C.vapidKey=w:C.vapidKey||(C.vapidKey=Ls)})).apply(this,arguments)}function cr(){return cr=(0,M.Z)(function*(C,w){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield function di(C,w){return zi.apply(this,arguments)}(C,w?.vapidKey),yield function hg(C,w){return Ys.apply(this,arguments)}(C,w?.serviceWorkerRegistration),function Sc(C){return ls.apply(this,arguments)}(C)}),cr.apply(this,arguments)}function Va(){return(Va=(0,M.Z)(function*(C,w,A){const B=function Xu(C){switch(C){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:A[Cc],message_name:A[Fh],message_time:A[Ku],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zs(){return Zs=(0,M.Z)(function*(C,w){const A=w.data;if(!A.isFirebaseMessaging)return;C.onMessageHandler&&A.messageType===Ar.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(we(A)):C.onMessageHandler.next(we(A)));const B=A.data;(function ui(C){return"object"==typeof C&&!!C&&Cc in C})(B)&&"1"===B[Vs]&&(yield function Yi(C,w,A){return Va.apply(this,arguments)}(C,A.messageType,B))}),Zs.apply(this,arguments)}const qs="@firebase/messaging",Oo=C=>{const w=new xa(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Oc(C,w){return Zs.apply(this,arguments)}(w,A)),w},Ks=C=>{const w=C.getProvider("messaging").getImmediate();return{getToken:B=>function Cl(C,w){return cr.apply(this,arguments)}(w,B)}};function Mc(){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,M.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bh(){(0,ee._registerComponent)(new ie.wA("messaging",Oo,"PUBLIC")),(0,ee._registerComponent)(new ie.wA("messaging-internal",Ks,"PRIVATE")),(0,ee.registerVersion)(qs,"0.12.4"),(0,ee.registerVersion)(qs,"0.12.4","esm2017")}();const ro="analytics",yn="firebase_id",Tl="origin",ds=6e4,Pc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js",hi=new fe.Yd("@firebase/analytics");function rd(C){return Promise.all(C.map(w=>w.catch(A=>A)))}function Ba(){return(Ba=(0,M.Z)(function*(C,w,A,B,q,ne){const Se=B[q];try{if(Se)yield w[Se];else{const $e=(yield rd(A)).find(ft=>ft.measurementId===q);$e&&(yield w[$e.appId])}}catch(Ze){hi.error(Ze)}C("config",q,ne)})).apply(this,arguments)}function Ga(){return(Ga=(0,M.Z)(function*(C,w,A,B,q){try{let ne=[];if(q&&q.send_to){let Se=q.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield rd(A);for(const $e of Se){const ft=Ze.find(dt=>dt.measurementId===$e),Ut=ft&&w[ft.appId];if(!Ut){ne=[];break}ne.push(Ut)}}0===ne.length&&(ne=Object.values(w)),yield Promise.all(ne),C("event",B,q||{})}catch(ne){hi.error(ne)}})).apply(this,arguments)}const fi=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jh=30,ad=new class sd{constructor(w={},A=1e3){this.throttleMetadata=w,this.intervalMillis=A}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,A){this.throttleMetadata[w]=A}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function ja(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function un(){return(un=(0,M.Z)(function*(C){var w;const{appId:A,apiKey:B}=C,q={method:"GET",headers:ja(B)},ne=Pc.replace("{app-id}",A),Se=yield fetch(ne,q);if(200!==Se.status&&304!==Se.status){let Ze="";try{const $e=yield Se.json();null!==(w=$e.error)&&void 0!==w&&w.message&&(Ze=$e.error.message)}catch{}throw fi.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function Mr(){return(Mr=(0,M.Z)(function*(C,w=ad,A){const{appId:B,apiKey:q,measurementId:ne}=C.options;if(!B)throw fi.create("no-app-id");if(!q){if(ne)return{measurementId:ne,appId:B};throw fi.create("no-api-key")}const Se=w.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new ps;return setTimeout((0,M.Z)(function*(){Ze.abort()}),void 0!==A?A:ds),Mo({appId:B,apiKey:q,measurementId:ne},Se,Ze,w)})).apply(this,arguments)}function Mo(C,w,A){return so.apply(this,arguments)}function so(){return so=(0,M.Z)(function*(C,{throttleEndTimeMillis:w,backoffCount:A},B,q=ad){var ne;const{appId:Se,measurementId:Ze}=C;try{yield function fs(C,w){return new Promise((A,B)=>{const q=Math.max(w-Date.now(),0),ne=setTimeout(A,q);C.addEventListener(()=>{clearTimeout(ne),B(fi.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(B,w)}catch($e){if(Ze)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:Se,measurementId:Ze};throw $e}try{const $e=yield function hs(C){return un.apply(this,arguments)}(C);return q.deleteThrottleMetadata(Se),$e}catch($e){const ft=$e;if(!function xc(C){if(!(C instanceof re.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(ft)){if(q.deleteThrottleMetadata(Se),Ze)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Se,measurementId:Ze};throw $e}const Ut=503===Number(null===(ne=ft?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,re.$s)(A,q.intervalMillis,jh):(0,re.$s)(A,q.intervalMillis),dt={throttleEndTimeMillis:Date.now()+Ut,backoffCount:A+1};return q.setThrottleMetadata(Se,dt),hi.debug(`Calling attemptFetch again in ${Ut} millis`),Mo(C,dt,B,q)}}),so.apply(this,arguments)}class ps{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let Xs,Fo;function Rl(){return(Rl=(0,M.Z)(function*(C,w,A,B,q){if(q&&q.global)C("event",A,B);else{const ne=yield w;C("event",A,Object.assign(Object.assign({},B),{send_to:ne}))}})).apply(this,arguments)}function _s(){return(_s=(0,M.Z)(function*(){if(!(0,re.hl)())return hi.warn(fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return hi.warn(fi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function na(){return na=(0,M.Z)(function*(C,w,A,B,q,ne,Se){var Ze;const $e=function Al(C){return Mr.apply(this,arguments)}(C);$e.then(mn=>{A[mn.measurementId]=mn.appId,C.options.measurementId&&mn.measurementId!==C.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>hi.error(mn)),w.push($e);const ft=function Ml(){return _s.apply(this,arguments)}().then(mn=>{if(mn)return B.getId()}),[Ut,dt]=yield Promise.all([$e,ft]);(function od(C){const w=window.document.getElementsByTagName("script");for(const A of Object.values(w))if(A.src&&A.src.includes(id)&&A.src.includes(C))return A;return null})(ne)||function Sl(C,w){const A=document.createElement("script");A.src=`${id}?l=${C}&id=${w}`,A.async=!0,document.head.appendChild(A)}(ne,Ut.measurementId),Fo&&(q("consent","default",Fo),function ta(C){Fo=C}(void 0)),q("js",new Date);const qn=null!==(Ze=Se?.config)&&void 0!==Ze?Ze:{};return qn[Tl]="firebase",qn.update=!0,null!=dt&&(qn[yn]=dt),q("config",Ut.measurementId,qn),Xs&&(q("set",Xs),function Fc(C){Xs=C}(void 0)),Ut.measurementId}),na.apply(this,arguments)}class cd{constructor(w){this.app=w}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},ao=[];const ia={};let lo,yr,ra="dataLayer",Vc="gtag",$a=!1;function oa(C,w,A){!function ud(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const w=C.map((B,q)=>`(${q+1}) ${B}`).join(" "),A=fi.create("invalid-analytics-context",{errorInfo:w});hi.warn(A.message)}}();const B=C.options.appId;if(!B)throw fi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw fi.create("no-api-key");hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[B])throw fi.create("already-exists",{id:B});if(!$a){!function Js(C){let w=[];Array.isArray(window[C])?w=window[C]:window[C]=w}(ra);const{wrappedGtag:ne,gtagCore:Se}=function Gr(C,w,A,B,q){let ne=function(...Se){window[B].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ne=window[q]),window[q]=function oo(C,w,A,B){function ne(){return ne=(0,M.Z)(function*(Se,Ze,$e){try{"event"===Se?yield function Ha(C,w,A,B,q){return Ga.apply(this,arguments)}(C,w,A,Ze,$e):"config"===Se?yield function Qs(C,w,A,B,q,ne){return Ba.apply(this,arguments)}(C,w,A,B,Ze,$e):"consent"===Se?C("consent","update",$e):C("set",Ze)}catch(ft){hi.error(ft)}}),ne.apply(this,arguments)}return function q(Se,Ze,$e){return ne.apply(this,arguments)}}(ne,C,w,A),{gtagCore:ne,wrappedGtag:window[q]}}(Vi,ao,ia,ra,Vc);yr=ne,lo=Se,$a=!0}return Vi[B]=function Lc(C,w,A,B,q,ne,Se){return na.apply(this,arguments)}(C,ao,ia,w,lo,ra,A),new cd(C)}function Vo(){return jr.apply(this,arguments)}function jr(){return(jr=(0,M.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const kr="@firebase/analytics";!function Gc(){(0,ee._registerComponent)(new ie.wA(ro,(w,{options:A})=>oa(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ee._registerComponent)(new ie.wA("analytics-internal",function C(w){try{const A=w.getProvider(ro).getImmediate();return{logEvent:(B,q,ne)=>function Xt(C,w,A,B){C=(0,re.m9)(C),function Po(C,w,A,B,q){return Rl.apply(this,arguments)}(yr,Vi[C.app.options.appId],w,A,B).catch(q=>hi.error(q))}(A,B,q,ne)}}catch(A){throw fi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ee.registerVersion)(kr,"0.9.4"),(0,ee.registerVersion)(kr,"0.9.4","esm2017")}();var jc=F(4408),$c=F(7565);const fg=new class ms extends $c.v{}(class Pl extends jc.o{constructor(w,A){super(w,A),this.scheduler=w,this.work=A}schedule(w,A=0){return A>0?super.schedule(w,A):(this.delay=A,this.state=w,this.scheduler.flush(this),this)}execute(w,A){return A>0||this.closed?super.execute(w,A):this._execute(w,A)}requestAsyncId(w,A,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(w,A,B):(w.flush(this),0)}});var Zn=F(4986),co=F(8505),vs=F(9468),zh=F(5363);const br=new l.GfV("7.5.0"),$r="__angularfire_symbol__analyticsIsSupportedValue",aa="__angularfire_symbol__analyticsIsSupported",ys="__angularfire_symbol__remoteConfigIsSupportedValue",bs="__angularfire_symbol__remoteConfigIsSupported",Wc="__angularfire_symbol__messagingIsSupportedValue",kl="__angularfire_symbol__messagingIsSupported";function Uo(C,w,A){if(w){if(1===w.length)return w[0];const ne=w.filter(Se=>Se.app===A);if(1===ne.length)return ne[0]}return A.container.getProvider(C).getImmediate({optional:!0})}globalThis[aa]||(globalThis[aa]=Vo().then(C=>globalThis[$r]=C).catch(()=>globalThis[$r]=!1)),globalThis[kl]||(globalThis[kl]=Mc().then(C=>globalThis[Wc]=C).catch(()=>globalThis[Wc]=!1)),globalThis[bs]||(globalThis[bs]=kh().then(C=>globalThis[ys]=C).catch(()=>globalThis[ys]=!1));const Zh=(C,w)=>{const A=w?[w]:(0,G.C6)(),B=[];return A.forEach(q=>{q.container.getProvider(C).instances.forEach(Se=>{B.includes(Se)||B.push(Se)})}),B};function Nn(){}class za{constructor(w,A=fg){this.zone=w,this.delegate=A}now(){return this.delegate.now()}schedule(w,A,B){const q=this.zone;return this.delegate.schedule(function(Se){q.runGuarded(()=>{w.apply(this,[Se])})},A,B)}}class Ii{constructor(w){this.zone=w,this.task=null}call(w,A){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nn,{},Nn,Nn)),A.pipe((0,co.b)({next:B,complete:B,error:B})).subscribe(w).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xr=(()=>{class C{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new za(Zone.current)),this.insideAngular=A.run(()=>new za(Zone.current,Zn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(A){return new(A||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function en(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ti(C){return en(),function bn(C){return function(A){return(A=A.lift(new Ii(C.ngZone))).pipe((0,vs.R)(C.outsideAngular),(0,zh.Q)(C.insideAngular))}}(en())(C)}},8401:(it,ye,F)=>{F.d(ye,{$:()=>Ci,A:()=>z,B:()=>Ce,G:()=>ml,H:()=>Wi,J:()=>Sn,L:()=>xn,M:()=>xs,N:()=>xh,P:()=>Zn,Q:()=>Cc,R:()=>Cv,T:()=>Fh,U:()=>Ls,V:()=>Ar,W:()=>Ao,X:()=>Vh,Y:()=>Ma,Z:()=>Tc,_:()=>ii,a:()=>Nl,a0:()=>Sc,a1:()=>It,a2:()=>Uh,a3:()=>Nc,a4:()=>Ac,a5:()=>Qu,a6:()=>$t,a7:()=>vn,a8:()=>ui,a9:()=>Rc,aA:()=>$,aB:()=>$e,aC:()=>ut,aD:()=>Fr,aE:()=>li,aI:()=>ja,aL:()=>Vs,aa:()=>Fa,ab:()=>hg,ac:()=>di,af:()=>Yi,ag:()=>Xu,ah:()=>Oc,ak:()=>Ro,al:()=>Il,an:()=>id,ao:()=>Ba,ap:()=>pe,aq:()=>xt,ar:()=>Xe,as:()=>Re,at:()=>Kn,au:()=>pi,av:()=>_t,aw:()=>Ie,ax:()=>Q,ay:()=>mn,az:()=>Me,b:()=>fi,c:()=>Wc,d:()=>Er,e:()=>zc,f:()=>bn,g:()=>B,h:()=>C,i:()=>_s,j:()=>Se,k:()=>ef,l:()=>hd,m:()=>md,o:()=>le,r:()=>jc,s:()=>Wh,u:()=>fg});var l=F(5861),G=F(2090),M=F(9681),ee=F(1877),re=F(655),ie=F(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new ee.Yd("@firebase/auth");function ve(v,...p){be.logLevel<=ee.in.ERROR&&be.error(`Auth (${M.SDK_VERSION}): ${v}`,...p)}function Re(v,...p){throw Ve(v,...p)}function Ie(v,...p){return Ve(v,...p)}function Ne(v,p,g){const E=Object.assign(Object.assign({},Ge()),{[p]:g});return new G.LL("auth","Firebase",E).create(p,{appName:v.name})}function Ee(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Re(v,"argument-error"),Ne(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(v,...p){if("string"!=typeof v){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return et.create(v,...p)}function Q(v,p,...g){if(!v)throw Ve(p,...g)}function se(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ve(p),new Error(p)}function pe(v,p){v||se(p)}const Be=new Map;function Me(v){pe(v instanceof Function,"Expected a class definition");let p=Be.get(v);return p?(pe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Be.set(v,p),p)}function oe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ce(){return"http:"===ge()||"https:"===ge()}function ge(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ke{constructor(p,g){this.shortDelay=p,this.longDelay=g,pe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Te(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(v,p){pe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class je{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},lt=new ke(3e4,6e4);function st(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Je(v,p,g,E){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(v,p,g,E,N={}){return wn(v,N,(0,l.Z)(function*(){let x={},X={};E&&("GET"===p?X=E:x={body:JSON.stringify(E)});const De=(0,G.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),Ke=yield v._getAdditionalHeaders();return Ke["Content-Type"]="application/json",v.languageCode&&(Ke["X-Firebase-Locale"]=v.languageCode),je.fetch()(bi(v,v.config.apiHost,g,De),Object.assign({method:p,headers:Ke,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function wn(v,p,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(v,p,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Kt),p);try{const N=new pr(v),x=yield Promise.race([g(),N.promise]);N.clearNetworkTimeout();const X=yield x.json();if("needConfirmation"in X)throw On(v,"account-exists-with-different-credential",X);if(x.ok&&!("errorMessage"in X))return X;{const De=x.ok?X.errorMessage:X.error.message,[Ke,ht]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw On(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ke)throw On(v,"email-already-in-use",X);if("USER_DISABLED"===Ke)throw On(v,"user-disabled",X);const Rt=E[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw Ne(v,Rt,ht);Re(v,Rt)}}catch(N){if(N instanceof G.ZR)throw N;Re(v,"internal-error",{message:String(N)})}})).apply(this,arguments)}function Jt(v,p,g,E){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(v,p,g,E,N={}){const x=yield Je(v,p,g,E,N);return"mfaPendingCredential"in x&&Re(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function bi(v,p,g,E){const N=`${p}${g}?${E}`;return v.config.emulator?ze(v.config,N):`${v.config.apiScheme}://${N}`}class pr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Ie(this.auth,"network-request-failed")),lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(v,p,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const N=Ie(v,p,E);return N.customData._tokenResponse=g,N}function sr(){return(sr=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ai(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Mi(){return(Mi=(0,l.Z)(function*(v,p=!1){const g=(0,G.m9)(v),E=yield g.getIdToken(p),N=rt(E);Q(N&&N.exp&&N.auth_time&&N.iat,g.auth,"internal-error");const x="object"==typeof N.firebase?N.firebase:void 0,X=x?.sign_in_provider;return{claims:N,token:E,authTime:ai(Ct(N.auth_time)),issuedAtTime:ai(Ct(N.iat)),expirationTime:ai(Ct(N.exp)),signInProvider:X||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(v){return 1e3*Number(v)}function rt(v){const[p,g,E]=v.split(".");if(void 0===p||void 0===g||void 0===E)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,G.tV)(g);return N?JSON.parse(N):(ve("Failed to decode base64 JWT payload"),null)}catch(N){return ve("Caught error parsing JWT payload as JSON",N?.toString()),null}}function ln(v,p){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof G.ZR&&function Pn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class ti{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Yn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(v){return St.apply(this,arguments)}function St(){return St=(0,l.Z)(function*(v){var p;const g=v.auth,E=yield v.getIdToken(),N=yield ln(v,function Qe(v,p){return si.apply(this,arguments)}(g,{idToken:E}));Q(N?.users.length,g,"internal-error");const x=N.users[0];v._notifyReloadListener(x);const X=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?function kn(v){return v.map(p=>{var{providerId:g}=p,E=(0,re._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(x.providerUserInfo):[],De=function Pi(v,p){return[...v.filter(E=>!p.some(N=>N.providerId===E.providerId)),...p]}(v.providerData,X),Rt=!!v.isAnonymous&&!(v.email&&x.passwordHash||De?.length),hn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:De,metadata:new Yn(x.createdAt,x.lastLoginAt),isAnonymous:Rt};Object.assign(v,hn)}),St.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(v){const p=(0,G.m9)(v);yield ar(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(v,p){const g=yield wn(v,{},(0,l.Z)(function*(){const E=(0,G.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:x}=v.config,X=bi(v,N,"/v1/token",`key=${x}`),De=yield v._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(X,{method:"POST",headers:De,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Q(p.idToken,"internal-error"),Q(typeof p.idToken<"u","internal-error"),Q(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Dt(v){const p=rt(v);return Q(p,"internal-error"),Q(typeof p.exp<"u","internal-error"),Q(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,l.Z)(function*(){return Q(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:x,expiresIn:X}=yield function Fe(v,p){return me.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(N,x,Number(X))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:N,expirationTime:x}=g,X=new Ye;return E&&(Q("string"==typeof E,"internal-error",{appName:p}),X.refreshToken=E),N&&(Q("string"==typeof N,"internal-error",{appName:p}),X.accessToken=N),x&&(Q("number"==typeof x,"internal-error",{appName:p}),X.expirationTime=x),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ye,this.toJSON())}_performRefresh(){return se("not implemented")}}function ct(v,p){Q("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class bt{constructor(p){var{uid:g,auth:E,stsTokenManager:N}=p,x=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Yn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const E=yield ln(g,g.stsTokenManager.getToken(g.auth,p));return Q(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function Mn(v){return Mi.apply(this,arguments)}(this,p)}reload(){return function lr(v){return Mt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new bt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,l.Z)(function*(){let N=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),N=!0),g&&(yield ar(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield ln(p,function $i(v,p){return sr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,N,x,X,De,Ke,ht,Rt;const hn=null!==(E=g.displayName)&&void 0!==E?E:void 0,Dr=null!==(N=g.email)&&void 0!==N?N:void 0,Ki=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Cs=null!==(X=g.photoURL)&&void 0!==X?X:void 0,vd=null!==(De=g.tenantId)&&void 0!==De?De:void 0,yd=null!==(Ke=g._redirectEventId)&&void 0!==Ke?Ke:void 0,Bl=null!==(ht=g.createdAt)&&void 0!==ht?ht:void 0,af=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:bd,emailVerified:lf,isAnonymous:Ed,providerData:eu,stsTokenManager:Dd}=g;Q(bd&&Dd,p,"internal-error");const cf=Ye.fromJSON(this.name,Dd);Q("string"==typeof bd,p,"internal-error"),ct(hn,p.name),ct(Dr,p.name),Q("boolean"==typeof lf,p,"internal-error"),Q("boolean"==typeof Ed,p,"internal-error"),ct(Ki,p.name),ct(Cs,p.name),ct(vd,p.name),ct(yd,p.name),ct(Bl,p.name),ct(af,p.name);const Hl=new bt({uid:bd,auth:p,email:Dr,emailVerified:lf,displayName:hn,isAnonymous:Ed,photoURL:Cs,phoneNumber:Ki,tenantId:vd,stsTokenManager:cf,createdAt:Bl,lastLoginAt:af});return eu&&Array.isArray(eu)&&(Hl.providerData=eu.map(uf=>Object.assign({},uf))),yd&&(Hl._redirectEventId=yd),Hl}static _fromIdTokenResponse(p,g,E=!1){return(0,l.Z)(function*(){const N=new Ye;N.updateFromServerResponse(g);const x=new bt({uid:g.localId,auth:p,stsTokenManager:N,isAnonymous:E});return yield ar(x),x})()}}const xn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,E){var N=this;return(0,l.Z)(function*(){N.storage[g]=E})()}_get(g){var E=this;return(0,l.Z)(function*(){const N=E.storage[g];return void 0===N?null:N})()}_remove(g){var E=this;return(0,l.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function $(v,p,g){return`firebase:${v}:${p}:${g}`}class j{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:N,name:x}=this.auth;this.fullUserKey=$(this.userKey,N.apiKey,x),this.fullPersistenceKey=$("persistence",N.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?bt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,l.Z)(function*(){if(!g.length)return new j(Me(xn),p,E);const N=(yield Promise.all(g.map(function(){var ht=(0,l.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let x=N[0]||Me(xn);const X=$(E,p.config.apiKey,p.name);let De=null;for(const ht of g)try{const Rt=yield ht._get(X);if(Rt){const hn=bt._fromJSON(p,Rt);ht!==x&&(De=hn),x=ht;break}}catch{}const Ke=N.filter(ht=>ht._shouldAllowMigration);return x._shouldAllowMigration&&Ke.length?(x=Ke[0],De&&(yield x._set(X,De.toJSON())),yield Promise.all(g.map(function(){var ht=(0,l.Z)(function*(Rt){if(Rt!==x)try{yield Rt._remove(X)}catch{}});return function(Rt){return ht.apply(this,arguments)}}())),new j(x,p,E)):new j(x,p,E)})()}}function P(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ae(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(gt(p))return"Blackberry";if(Et(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||J(p))&&!p.includes("edge/"))return"Chrome";if(Xe(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function k(v=(0,G.z$)()){return/firefox\//i.test(v)}function O(v=(0,G.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function J(v=(0,G.z$)()){return/crios\//i.test(v)}function ae(v=(0,G.z$)()){return/iemobile/i.test(v)}function Xe(v=(0,G.z$)()){return/android/i.test(v)}function gt(v=(0,G.z$)()){return/blackberry/i.test(v)}function Et(v=(0,G.z$)()){return/webos/i.test(v)}function xt(v=(0,G.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function _t(v=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ei(v=(0,G.z$)()){return xt(v)||Xe(v)||Et(v)||gt(v)||/windows phone/i.test(v)||ae(v)}function Ps(v,p=[]){let g;switch(v){case"Browser":g=P((0,G.z$)());break;case"Worker":g=`${P((0,G.z$)())}-${v}`;break;default:g=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${M.SDK_VERSION}/${E}`}class Ia{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=x=>new Promise((X,De)=>{try{X(p(x))}catch(Ke){De(Ke)}});E.onAbort=g,this.queue.push(E);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const N of g.queue)yield N(p),N.onAbort&&E.push(N.onAbort)}catch(N){E.reverse();for(const x of E)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class Ta{constructor(p,g,E){this.app=p,this.heartbeatServiceProvider=g,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ks(this),this.idTokenSubscription=new ks(this),this.beforeStateQueue=new Ia(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Me(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,x;if(!E._deleted&&(E.persistenceManager=yield j.create(E,p),!E._deleted)){if(null!==(N=E._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var E;const N=yield g.assertedPersistence.getCurrentUser();let x=N,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const De=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Ke=x?._redirectEventId,ht=yield g.tryRedirectSignIn(p);(!De||De===Ke)&&ht?.user&&(x=ht.user,X=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(x)}catch(De){x=N,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(De))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return Q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield ar(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const E=p?(0,G.m9)(p):null;return E&&Q(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return p&&Q(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(Me(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new G.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,l.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(g);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Me(p)||g._popupRedirectResolver;Q(E,g,"argument-error"),g.redirectPersistenceManager=yield j.create(g,[Me(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var E,N;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(N=g.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,N){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(X,this,"internal-error"),X.then(()=>x(this.currentUser)),"function"==typeof g?p.addObserver(g,E,N):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function li(v){return(0,G.m9)(v)}class ks{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,G.ne)(g=>this.observer=g)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ml(v,p,g){const E=li(v);Q(E._canInitEmulator,E,"emulator-config-failed"),Q(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const N=!!g?.disableWarnings,x=vl(p),{host:X,port:De}=function Zt(v){const p=vl(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const x=N[1];return{host:x,port:Fn(E.substr(x.length+1))}}{const[x,X]=E.split(":");return{host:x,port:Fn(X)}}}(p);E.config.emulator={url:`${x}//${X}${null===De?"":`:${De}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:De,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function ni(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function vl(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Fn(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Wi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return se("not implemented")}_getIdTokenResponse(p){return se("not implemented")}_linkToIdToken(p,g){return se("not implemented")}_getReauthenticationResolver(p){return se("not implemented")}}function ki(v,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:resetPassword",st(v,p))})).apply(this,arguments)}function qe(v,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",st(v,p))})).apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithPassword",st(v,p))})).apply(this,arguments)}function Ur(v,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:sendOobCode",st(v,p))})).apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(v,p){return Ur(v,p)})).apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(v,p){return Ur(v,p)})).apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(v,p){return Ur(v,p)})).apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(v,p){return Ur(v,p)})).apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",st(v,p))})).apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",st(v,p))})).apply(this,arguments)}class ts extends Wi{constructor(p,g,E,N=null){super("password",E),this._email=p,this._password=g,this._tenantId=N}static _fromEmailAndPassword(p,g){return new ts(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new ts(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function wo(v,p){return Tn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Qr(v,p){return So.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Re(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return qe(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Br(v,p){return Xr.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Re(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yt(v,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithIdp",st(v,p))})).apply(this,arguments)}class Sn extends Wi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Sn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Re("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N}=g,x=(0,re._T)(g,["providerId","signInMethod"]);if(!E||!N)return null;const X=new Sn(E,N);return X.idToken=x.idToken||void 0,X.accessToken=x.accessToken||void 0,X.secret=x.secret,X.nonce=x.nonce,X.pendingToken=x.pendingToken||null,X}_getIdTokenResponse(p){return Yt(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Yt(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,G.xO)(g)}return p}}function ns(){return(ns=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:sendVerificationCode",st(v,p))})).apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",st(v,p))})).apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(v,p){const g=yield Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",st(v,p));if(g.temporaryProof)throw On(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const gr={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",st(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gr)})).apply(this,arguments)}class Nr extends Wi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Nr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Nr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function is(v,p){return Ln.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function rs(v,p){return Di.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function yl(v,p){return No.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:N}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:N,temporaryProof:x}=p;return E||g||N||x?new Nr({verificationId:g,verificationCode:E,phoneNumber:N,temporaryProof:x}):null}}class os{constructor(p){var g,E,N,x,X,De;const Ke=(0,G.zd)((0,G.pd)(p)),ht=null!==(g=Ke.apiKey)&&void 0!==g?g:null,Rt=null!==(E=Ke.oobCode)&&void 0!==E?E:null,hn=function _r(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Ke.mode)&&void 0!==N?N:null);Q(ht&&Rt&&hn,"argument-error"),this.apiKey=ht,this.operation=hn,this.code=Rt,this.continueUrl=null!==(x=Ke.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(X=Ke.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(De=Ke.tenantId)&&void 0!==De?De:null}static parseLink(p){const g=function Ph(v){const p=(0,G.zd)((0,G.pd)(v)).link,g=p?(0,G.zd)((0,G.pd)(p)).deep_link_id:null,E=(0,G.zd)((0,G.pd)(v)).deep_link_id;return(E?(0,G.zd)((0,G.pd)(E)).link:null)||E||g||p||v}(p);try{return new os(g)}catch{return null}}}let xs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return ts._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const N=os.parseLink(E);return Q(N,"argument-error"),ts._fromEmailAndCode(g,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class eo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Fs extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ls extends Fs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Q("providerId"in g&&"signInMethod"in g,"argument-error"),Sn._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Q(p.idToken||p.accessToken,"argument-error"),Sn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ls.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ls.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:x,nonce:X,providerId:De}=p;if(!E&&!N&&!g&&!x||!De)return null;try{return new Ls(De)._credential({idToken:g,accessToken:E,nonce:X,pendingToken:x})}catch{return null}}}let xh=(()=>{class v extends Fs{constructor(){super("facebook.com")}static credential(g){return Sn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Cc=(()=>{class v extends Fs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Sn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:N}=g;if(!E&&!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Fh=(()=>{class v extends Fs{constructor(){super("github.com")}static credential(g){return Sn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vs extends Wi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Yt(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Yt(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N,pendingToken:x}=g;return E&&N&&x&&E===N?new Vs(E,x):null}static _create(p,g){return new Vs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends eo{constructor(p){Q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ar.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ar.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Vs.fromJSON(p);return Q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Vs._create(E,g)}catch{return null}}}let Ao=(()=>{class v extends Fs{constructor(){super("twitter.com")}static credential(g,E){return Sn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=g;if(!E||!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Lh(v,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signUp",st(v,p))})).apply(this,arguments)}class Fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,N=!1){return(0,l.Z)(function*(){const x=yield bt._fromIdTokenResponse(p,E,N),X=wc(E);return new Fi({user:x,providerId:X,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const N=wc(E);return new Fi({user:p,providerId:N,_tokenResponse:E,operationType:g})})()}}function wc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Vh(v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v){var p;const g=li(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Fi({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Lh(g,{returnSecureToken:!0}),N=yield Fi._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(N.user),N})).apply(this,arguments)}class Rr extends G.ZR{constructor(p,g,E,N){var x;super(g.code,g.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,Rr.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,N){return new Rr(p,g,E,N)}}function Ic(v,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Rr._fromErrorAndOperation(v,x,p,E):x})}function bl(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Ro(v,p){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,l.Z)(function*(v,p){const g=(0,G.m9)(v);yield to(!0,g,p);const{providerUserInfo:E}=yield function on(v,p){return ei.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),N=bl(E||[]);return g.providerData=g.providerData.filter(x=>N.has(x.providerId)),N.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Oa.apply(this,arguments)}function Us(v,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(v,p,g=!1){const E=yield ln(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Fi._forOperation(v,"link",E)})).apply(this,arguments)}function to(v,p,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(v,p,g){yield ar(p);const N=!1===v?"provider-already-linked":"no-such-provider";Q(bl(p.providerData).has(g)===v,p.auth,N)})).apply(this,arguments)}function Gs(v,p){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(v,p,g=!1){const{auth:E}=v,N="reauthenticate";try{const x=yield ln(v,Ic(E,N,p,v),g);Q(x.idToken,E,"internal-error");const X=rt(x.idToken);Q(X,E,"internal-error");const{sub:De}=X;return Q(v.uid===De,E,"user-mismatch"),Fi._forOperation(v,N,x)}catch(x){throw"auth/user-not-found"===x?.code&&Re(E,"user-mismatch"),x}})).apply(this,arguments)}function Li(v,p){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(v,p,g=!1){const E="signIn",N=yield Ic(v,E,p),x=yield Fi._fromIdTokenResponse(v,E,N);return g||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Ma(v,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(v,p){return Li(li(v),p)})).apply(this,arguments)}function Tc(v,p){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(v,p){const g=(0,G.m9)(v);return yield to(!1,g,p.providerId),Us(g,p)})).apply(this,arguments)}function ii(v,p){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(v,p){return Gs((0,G.m9)(v),p)})).apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(v,p){return Jt(v,"POST","/v1/accounts:signInWithCustomToken",st(v,p))})).apply(this,arguments)}function Ci(v,p){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,l.Z)(function*(v,p){const g=li(v),E=yield function as(v,p){return Or.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),N=yield Fi._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(N.user),N}),Pa.apply(this,arguments)}class Hr{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ka._fromServerResponse(p,g):Re(p,"internal-error")}}class ka extends Hr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ka(g)}}function mr(v,p,g){var E;Q((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),Q(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Q(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Q(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Sc(v,p,g){return ls.apply(this,arguments)}function ls(){return ls=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v),N={requestType:"PASSWORD_RESET",email:p};g&&mr(E,N,g),yield function Pt(v,p){return jn.apply(this,arguments)}(E,N)}),ls.apply(this,arguments)}function It(v,p,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,p,g){yield ki((0,G.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Uh(v,p){return $s.apply(this,arguments)}function $s(){return $s=(0,l.Z)(function*(v,p){yield function pn(v,p){return xi.apply(this,arguments)}((0,G.m9)(v),{oobCode:p})}),$s.apply(this,arguments)}function Nc(v,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v,p){const g=(0,G.m9)(v),E=yield ki(g,{oobCode:p}),N=E.requestType;switch(Q(N,g,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(E.mfaInfo,g,"internal-error");default:Q(E.email,g,"internal-error")}let x=null;return E.mfaInfo&&(x=Hr._fromServerResponse(li(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:N}})).apply(this,arguments)}function Ac(v,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(v,p){const{data:g}=yield Nc((0,G.m9)(v),p);return g.email})).apply(this,arguments)}function Qu(v,p,g){return we.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(v,p,g){const E=li(v),N=yield Lh(E,{returnSecureToken:!0,email:p,password:g}),x=yield Fi._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function $t(v,p,g){return Ma((0,G.m9)(v),xs.credential(p,g))}function vn(v,p,g){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v),N={requestType:"EMAIL_SIGNIN",email:p};Q(g.handleCodeInApp,E,"argument-error"),g&&mr(E,N,g),yield function Sa(v,p){return Na.apply(this,arguments)}(E,N)}),Dl.apply(this,arguments)}function ui(v,p){return"EMAIL_SIGNIN"===os.parseLink(p)?.operation}function Rc(v,p,g){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v),N=xs.credentialWithLink(p,g||oe());return Q(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ma(E,N)})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:createAuthUri",st(v,p))})).apply(this,arguments)}function Fa(v,p){return La.apply(this,arguments)}function La(){return La=(0,l.Z)(function*(v,p){const E={identifier:p,continueUri:ce()?oe():"http://localhost"},{signinMethods:N}=yield function vr(v,p){return xa.apply(this,arguments)}((0,G.m9)(v),E);return N||[]}),La.apply(this,arguments)}function hg(v,p){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,l.Z)(function*(v,p){const g=(0,G.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&mr(g.auth,N,p);const{email:x}=yield function ci(v,p){return Io.apply(this,arguments)}(g.auth,N);x!==v.email&&(yield v.reload())}),Ys.apply(this,arguments)}function di(v,p,g){return zi.apply(this,arguments)}function zi(){return zi=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&mr(E.auth,x,g);const{email:X}=yield function To(v,p){return $n.apply(this,arguments)}(E.auth,x);X!==v.email&&(yield v.reload())}),zi.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yi(v,p){return Va.apply(this,arguments)}function Va(){return Va=(0,l.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,G.m9)(v),x={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield ln(E,function Cl(v,p){return cr.apply(this,arguments)}(E.auth,x));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const De=E.providerData.find(({providerId:Ke})=>"password"===Ke);De&&(De.displayName=E.displayName,De.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)}),Va.apply(this,arguments)}function Xu(v,p){return Zs((0,G.m9)(v),p,null)}function Oc(v,p){return Zs((0,G.m9)(v),null,p)}function Zs(v,p,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(v,p,g){const{auth:E}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(x.email=p),g&&(x.password=g);const X=yield ln(v,qe(E,x));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Oo{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Ks extends Oo{constructor(p,g,E,N){super(p,g,E),this.username=N}}class Bh extends Oo{constructor(p,g){super(p,"facebook.com",g)}}class Mc extends Ks{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ua extends Oo{constructor(p,g){super(p,"google.com",g)}}class ed extends Ks{constructor(p,g,E){super(p,"twitter.com",g,E)}}function Il(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function wl(v){var p,g;if(!v)return null;const{providerId:E}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const X=null===(g=null===(p=rt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new Oo(x,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Bh(x,N);case"github.com":return new Mc(x,N);case"google.com":return new Ua(x,N);case"twitter.com":return new ed(x,N,v.screenName||null);case"custom":case"anonymous":return new Oo(x,null);default:return new Oo(x,E,N)}}(g)}class ds{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new ds("enroll",p,g)}static _fromMfaPendingCredential(p){return new ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Pc{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=li(p),N=g.customData._serverResponse,x=(N.mfaInfo||[]).map(De=>Hr._fromServerResponse(E,De));Q(N.mfaPendingCredential,E,"internal-error");const X=ds._fromMfaPendingCredential(N.mfaPendingCredential);return new Pc(X,x,function(){var De=(0,l.Z)(function*(Ke){const ht=yield Ke._process(E,X);delete N.mfaInfo,delete N.mfaPendingCredential;const Rt=Object.assign(Object.assign({},N),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(g.operationType){case"signIn":const hn=yield Fi._fromIdTokenResponse(E,g.operationType,Rt);return yield E._updateCurrentUser(hn.user),hn;case"reauthenticate":return Q(g.user,E,"internal-error"),Fi._forOperation(g.user,g.operationType,Rt);default:Re(E,"internal-error")}});return function(Ke){return De.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function id(v,p){var g;const E=(0,G.m9)(v),N=p;return Q(p.customData.operationType,E,"argument-error"),Q(null===(g=N.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Pc._fromError(E,N)}class Js{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Hr._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Js(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ds._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,l.Z)(function*(){const N=p,x=yield E.getSession(),X=yield ln(E.user,N._process(E.user.auth,x,g));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const E="string"==typeof p?p:p.uid,N=yield g.user.getIdToken();try{const x=yield ln(g.user,function Sl(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:withdraw",st(v,p))}(g.user.auth,{idToken:N,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==E),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const Qs=new WeakMap;function Ba(v){const p=(0,G.m9)(v);return Qs.has(p)||Qs.set(p,Js._fromUser(p)),Qs.get(p)}const Ha="__sak";class Ga{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fi=(()=>{class v extends Ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function oo(){const v=(0,G.z$)();return O(v)||xt(v)}()&&function _l(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ei(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),x=this.localCache[E];N!==x&&g(E,x,N)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((De,Ke,ht)=>{this.notifyListeners(De,ht)});const N=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(N);if(g.newValue!==De)null!==g.newValue?this.storage.setItem(N,g.newValue):this.storage.removeItem(N);else if(this.localCache[N]===g.newValue&&!E)return}const x=()=>{const De=this.storage.getItem(N);!E&&this.localCache[N]===De||this.notifyListeners(N,De)},X=this.storage.getItem(N);!function At(){return(0,G.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,E){this.localCache[g]=E;const N=this.listeners[g];if(N)for(const x of Array.from(N))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var N=()=>super._set,x=this;return(0,l.Z)(function*(){yield N().call(x,g,E),x.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,N=this;return(0,l.Z)(function*(){const x=yield E().call(N,g);return N.localCache[g]=JSON.stringify(x),x})()}_remove(g){var E=()=>super._remove,N=this;return(0,l.Z)(function*(){yield E().call(N,g),delete N.localCache[g]})()}}return v.type="LOCAL",v})(),Nl=(()=>{class v extends Ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let ad=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(x=>x.isListeningto(g));if(E)return E;const N=new v(g);return this.receivers.push(N),N}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,l.Z)(function*(){const N=g,{eventId:x,eventType:X,data:De}=N.data,Ke=E.handlersMap[X];if(!Ke?.size)return;N.ports[0].postMessage({status:"ack",eventId:x,eventType:X});const ht=Array.from(Ke).map(function(){var hn=(0,l.Z)(function*(Dr){return Dr(N.origin,De)});return function(Dr){return hn.apply(this,arguments)}}()),Rt=yield function sd(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(ht);N.ports[0].postMessage({status:"done",eventId:x,eventType:X,response:Rt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ja(v="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return v+g}class hs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var N=this;return(0,l.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let X,De;return new Promise((Ke,ht)=>{const Rt=ja("",20);x.port1.start();const hn=setTimeout(()=>{ht(new Error("unsupported_event"))},E);De={messageChannel:x,onMessage(Dr){const Ki=Dr;if(Ki.data.eventId===Rt)switch(Ki.data.status){case"ack":clearTimeout(hn),X=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ke(Ki.data.response);break;default:clearTimeout(hn),clearTimeout(X),ht(new Error("invalid_response"))}}},N.handlers.add(De),x.port1.addEventListener("message",De.onMessage),N.target.postMessage({eventType:p,eventId:Rt,data:g},[x.port2])}).finally(()=>{De&&N.removeMessageHandler(De)})})()}}function un(){return window}function Mr(){return typeof un().WorkerGlobalScope<"u"&&"function"==typeof un().importScripts}function so(){return(so=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ps="firebaseLocalStorageDb",Xs=1,Po="firebaseLocalStorage",Rl="fbase_key";class ko{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function xo(v,p){return v.transaction([Po],p?"readwrite":"readonly").objectStore(Po)}function wi(){const v=indexedDB.open(ps,Xs);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Po,{keyPath:Rl})}catch(N){g(N)}}),v.addEventListener("success",(0,l.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Po)?p(E):(E.close(),yield function ld(){const v=indexedDB.deleteDatabase(ps);return new ko(v).toPromise()}(),p(yield wi()))}))})}function Ol(v,p,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(v,p,g){const E=xo(v,!0).put({[Rl]:p,value:g});return new ko(E).toPromise()})).apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(v,p){const g=xo(v,!1).get(p),E=yield new ko(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Fo(v,p){const g=xo(v,!0).delete(p);return new ko(g).toPromise()}const _s=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield wi()),g.db})()}_withRetries(g){var E=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const x=yield E._openDb();return yield g(x)}catch(x){if(N++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Mr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=ad._getInstance(function xc(){return Mr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(N,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(N,x){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(N,x){return["keyChanged"]});return function(N,x){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var E,N;if(g.activeServiceWorker=yield function Mo(){return so.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new hs(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(E=x[0])&&void 0!==E&&E.fulfilled&&null!==(N=x[0])&&void 0!==N&&N.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function fs(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wi();return yield Ol(g,Ha,"1"),yield Fo(g,Ha),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(x=>Ol(x,g,E)),N.localCache[g]=E,N.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,l.Z)(function*(){const N=yield E._withRetries(x=>function ea(v,p){return gs.apply(this,arguments)}(x,g));return E.localCache[g]=N,N})()}_remove(g){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(N=>Fo(N,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const E=yield g._withRetries(X=>{const De=xo(X,!1).getAll();return new ko(De).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const N=[],x=new Set;for(const{fbase_key:X,value:De}of E)x.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(De)&&(g.notifyListeners(X,De),N.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!x.has(X)&&(g.notifyListeners(X,null),N.push(X));return N})()}notifyListeners(g,E){this.localCache[g]=E;const N=this.listeners[g];if(N)for(const x of Array.from(N))x(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Vi(){return(Vi=(0,l.Z)(function*(v){return(yield Je(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ia(v){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=N=>{const x=Ie("internal-error");x.customData=N,g(x)},E.type="text/javascript",E.charset="UTF-8",function ao(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function ra(v){return`__${v}${Math.floor(1e6*Math.random())}`}const yr=1e12;class $a{constructor(p){this.auth=p,this.counter=yr,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Uc(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||yr;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||yr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var E;return null===(E=g._widgets.get(p||yr))||void 0===E||E.execute(),""})()}}class Uc{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;Q(N,"argument-error",{appName:g}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ud(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=ra("rcb"),Bc=new ke(3e4,6e4);class Vo{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=un().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return Q(function jr(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(un().grecaptcha):new Promise((E,N)=>{const x=un().setTimeout(()=>{N(Ie(p,"network-request-failed"))},Bc.get());un()[oa]=()=>{un().clearTimeout(x),delete un()[oa];const De=un().grecaptcha;if(!De)return void N(Ie(p,"internal-error"));const Ke=De.render;De.render=(ht,Rt)=>{const hn=Ke(ht,Rt);return this.counter++,hn},this.hostLanguage=g,E(De)},ia(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:oa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),N(Ie(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=un().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dd{load(p){return(0,l.Z)(function*(){return new $a(p)})()}clearedOneInstance(){}}const Hc="recaptcha",sa={theme:"light",type:"image"};class Cv{constructor(p,g=Object.assign({},sa),E){this.parameters=g,this.type=Hc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=li(E),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;Q(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dd:new Vo,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(x=>{const X=De=>{De&&(p.tokenChangeListeners.delete(X),x(De))};p.tokenChangeListeners.add(X),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=un()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){Q(ce()&&!Mr(),p.auth,"internal-error"),yield function $h(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function cd(v){return Vi.apply(this,arguments)}(p.auth);Q(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xt{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Nr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Wh(v,p,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(v,p,g){const E=li(v),N=yield $c(E,p,(0,G.m9)(g));return new Xt(N,x=>Ma(E,x))})).apply(this,arguments)}function hd(v,p,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v);yield to(!1,E,"phone");const N=yield $c(E.auth,p,(0,G.m9)(g));return new Xt(N,x=>Tc(E,x))})).apply(this,arguments)}function jc(v,p,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v),N=yield $c(E.auth,p,(0,G.m9)(g));return new Xt(N,x=>ii(E,x))})).apply(this,arguments)}function $c(v,p,g){return ms.apply(this,arguments)}function ms(){return ms=(0,l.Z)(function*(v,p,g){var E;const N=yield g.verify();try{let x;if(Q("string"==typeof N,v,"argument-error"),Q(g.type===Hc,v,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const X=x.session;if("phoneNumber"in x)return Q("enroll"===X.type,v,"internal-error"),(yield function hi(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:start",st(v,p))}(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Q("signin"===X.type,v,"internal-error");const De=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return Q(De,v,"missing-multi-factor-info"),(yield function Lc(v,p){return Je(v,"POST","/v2/accounts/mfaSignIn:start",st(v,p))}(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Aa(v,p){return ns.apply(this,arguments)}(v,{phoneNumber:x.phoneNumber,recaptchaToken:N});return X}}finally{g._reset()}}),ms.apply(this,arguments)}function fg(v,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,l.Z)(function*(v,p){yield Us((0,G.m9)(v),p)})).apply(this,arguments)}let Zn=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=li(g)}verifyPhoneNumber(g,E){return $c(this.auth,g,(0,G.m9)(E))}static credential(g,E){return Nr._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:N}=g;return E&&N?Nr._fromTokenResponse(E,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function co(v,p){return p?Me(p):(Q(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class vs extends Wi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Yt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Yt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function zh(v){return Li(v.auth,new vs(v),v.bypassAuthState)}function br(v){const{auth:p,user:g}=v;return Q(g,p,"internal-error"),Gs(g,new vs(v),v.bypassAuthState)}function $r(v){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(v){const{auth:p,user:g}=v;return Q(g,p,"internal-error"),Us(g,new vs(v),v.bypassAuthState)})).apply(this,arguments)}class ys{constructor(p,g,E,N,x=!1){this.auth=p,this.resolver=E,this.user=N,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(E,N){p.pendingPromise={resolve:E,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(E,N){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:x,tenantId:X,error:De,type:Ke}=p;if(De)return void g.reject(De);const ht={auth:g.auth,requestUri:E,sessionId:N,tenantId:X||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ke)(ht))}catch(Rt){g.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return zh;case"linkViaPopup":case"linkViaRedirect":return $r;case"reauthViaPopup":case"reauthViaRedirect":return br;default:Re(this.auth,"internal-error")}}resolve(p){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bs=new ke(2e3,1e4);function Wc(v,p,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(v,p,g){const E=li(v);Ee(v,p,eo);const N=co(E,g);return new Uo(E,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function zc(v,p,g){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v);Ee(E.auth,p,eo);const N=co(E.auth,g);return new Uo(E.auth,"reauthViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}function Er(v,p,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v);Ee(E.auth,p,eo);const N=co(E.auth,g);return new Uo(E.auth,"linkViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}let Uo=(()=>{class v extends ys{constructor(g,E,N,x,X){super(g,E,x,X),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const E=yield g.execute();return Q(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,l.Z)(function*(){pe(1===g.filter.length,"Popup operations only handle one event");const E=ja();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(N=>{g.reject(N)}),g.resolver._isIframeWebStorageSupported(g.auth,N=>{N||g.reject(Ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,N;this.pollId=null!==(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,bs.get())};g()}}return v.currentPopupAction=null,v})();const Zh="pendingRedirect",Nn=new Map;class za extends ys{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let E=Nn.get(g.auth._key());if(!E){try{const x=(yield function Ii(v,p){return xr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(x)}catch(N){E=()=>Promise.reject(N)}Nn.set(g.auth._key(),E)}return g.bypassAuthState||Nn.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const N=yield E.auth._redirectUserForId(p.eventId);if(N)return E.user=N,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function xr(){return(xr=(0,l.Z)(function*(v,p){const g=Ti(p),E=la(v);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(g));return yield E._remove(g),N})).apply(this,arguments)}function en(v,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(v,p){return la(v)._set(Ti(p),"true")})).apply(this,arguments)}function Fr(){Nn.clear()}function ut(v,p){Nn.set(v._key(),p)}function la(v){return Me(v._redirectPersistence)}function Ti(v){return $(Zh,v.config.apiKey,v.name)}function bn(v,p,g){return function _n(v,p,g){return sn.apply(this,arguments)}(v,p,g)}function sn(){return(sn=(0,l.Z)(function*(v,p,g){const E=li(v);Ee(v,p,eo),yield E._initializationPromise;const N=co(E,g);return yield en(N,E),N._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function C(v,p,g){return function w(v,p,g){return A.apply(this,arguments)}(v,p,g)}function A(){return(A=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v);Ee(E.auth,p,eo),yield E.auth._initializationPromise;const N=co(E.auth,g);yield en(N,E.auth);const x=yield Ut(E);return N._openRedirect(E.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function B(v,p,g){return function q(v,p,g){return ne.apply(this,arguments)}(v,p,g)}function ne(){return(ne=(0,l.Z)(function*(v,p,g){const E=(0,G.m9)(v);Ee(E.auth,p,eo),yield E.auth._initializationPromise;const N=co(E.auth,g);yield to(!1,E,p.providerId),yield en(N,E.auth);const x=yield Ut(E);return N._openRedirect(E.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function Se(v,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(v,p){return yield li(v)._initializationPromise,$e(v,p,!1)})).apply(this,arguments)}function $e(v,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(v,p,g=!1){const E=li(v),N=co(E,p),X=yield new za(E,N,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,p)),X})).apply(this,arguments)}function Ut(v){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(v){const p=ja(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class mn{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Es(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!Bo(p)){const N=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Ie(this.auth,N))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(V(p))}saveEventToCache(p){this.cachedEventUids.add(V(p)),this.lastProcessedEventTime=Date.now()}}function V(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Bo({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function pi(v){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(v,p={}){return Je(v,"GET","/v1/projects",p)})).apply(this,arguments)}const xl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qh=/^https?/;function Fl(){return(Fl=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield pi(v);for(const g of p)try{if(Ya(g))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function Ya(v){const p=oe(),{protocol:g,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===E}if(!qh.test(g))return!1;if(xl.test(v))return E===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const pd=new ke(3e4,6e4);function ca(){const v=un().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Zc=null;const Ho=new ke(5e3,15e3),pg="__/auth/iframe",gg="emulator/auth/iframe",Si={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kh(v){const p=v.config;Q(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?ze(p,gg):`https://${v.config.authDomain}/${pg}`,E={apiKey:p.apiKey,appName:v.name,v:M.SDK_VERSION},N=Kc.get(v.config.apiHost);N&&(E.eid=N);const x=v._getFrameworks();return x.length&&(E.fw=x.join(",")),`${g}?${(0,G.xO)(E).slice(1)}`}function ri(){return ri=(0,l.Z)(function*(v){const p=yield function qc(v){return Zc=Zc||function Yc(v){return new Promise((p,g)=>{var E,N,x;function X(){ca(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ca(),g(Ie(v,"network-request-failed"))},timeout:pd.get()})}if(null!==(N=null===(E=un().gapi)||void 0===E?void 0:E.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(x=un().gapi)||void 0===x||!x.load){const De=ra("iframefcb");return un()[De]=()=>{gapi.load?X():g(Ie(v,"network-request-failed"))},ia(`https://apis.google.com/js/api.js?onload=${De}`).catch(Ke=>g(Ke))}X()}}).catch(p=>{throw Zc=null,p})}(v),Zc}(v),g=un().gapi;return Q(g,v,"internal-error"),p.open({where:document.body,url:Kh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Si,dontclear:!0},E=>new Promise(function(){var N=(0,l.Z)(function*(x,X){yield E.restyle({setHideOnLeave:!1});const De=Ie(v,"network-request-failed"),Ke=un().setTimeout(()=>{X(De)},Ho.get());function ht(){un().clearTimeout(Ke),x(E)}E.ping(ht).then(ht,()=>{X(De)})});return function(x,X){return N.apply(this,arguments)}}()))}),ri.apply(this,arguments)}const gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ll=500,Jh=600,Go="_blank",gi="http://localhost";class Ds{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Jc="__/auth/handler",Qc="emulator/auth/handler";function Kn(v,p,g,E,N,x){Q(v.config.authDomain,v,"auth-domain-config-required"),Q(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:M.SDK_VERSION,eventId:N};if(p instanceof eo){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,G.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ke,ht]of Object.entries(x||{}))X[Ke]=ht}if(p instanceof Fs){const Ke=p.getScopes().filter(ht=>""!==ht);Ke.length>0&&(X.scopes=Ke.join(","))}v.tenantId&&(X.tid=v.tenantId);const De=X;for(const Ke of Object.keys(De))void 0===De[Ke]&&delete De[Ke];return`${function Qh({config:v}){return v.emulator?ze(v,Qc):`https://${v.authDomain}/${Jc}`}(v)}?${(0,G.xO)(De).slice(1)}`}const _d="webStorageSupport",ef=class Xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nl,this._completeRedirectFn=$e,this._overrideRedirectResult=ut}_openPopup(p,g,E,N){var x=this;return(0,l.Z)(function*(){var X;pe(null===(X=x.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const De=Kn(p,g,E,oe(),N);return function _g(v,p,g,E=Ll,N=Jh){const x=Math.max((window.screen.availHeight-N)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let De="";const Ke=Object.assign(Object.assign({},gd),{width:E.toString(),height:N.toString(),top:x,left:X}),ht=(0,G.z$)().toLowerCase();g&&(De=J(ht)?Go:g),k(ht)&&(p=p||gi,Ke.scrollbars="yes");const Rt=Object.entries(Ke).reduce((Dr,[Ki,Cs])=>`${Dr}${Ki}=${Cs},`,"");if(function cn(v=(0,G.z$)()){var p;return xt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ht)&&"_self"!==De)return function Vl(v,p){const g=document.createElement("a");g.href=v,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",De),new Ds(null);const hn=window.open(p||"",De,Rt);Q(hn,v,"popup-blocked");try{hn.focus()}catch{}return new Ds(hn)}(p,De,ja())})()}_openRedirect(p,g,E,N){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(p),function Al(v){un().location.href=v}(Kn(p,g,E,oe(),N)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:N,promise:x}=this.eventManagers[g];return N?Promise.resolve(N):(pe(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const E=yield function uo(v){return ri.apply(this,arguments)}(p),N=new mn(p);return E.register("authEvent",x=>(Q(x?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:N},g.iframes[p._key()]=E,N})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(_d,{type:_d},N=>{var x;const X=null===(x=N?.[0])||void 0===x?void 0:x[_d];void 0!==X&&g(!!X),Re(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wv(v){return Fl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ei()||O()||xt()}};class mg{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return se("unexpected MultiFactorSessionType")}}}class Ui extends mg{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ui(p)}_finalizeEnroll(p,g,E){return function rd(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:finalize",st(v,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function na(v,p){return Je(v,"POST","/v2/accounts/mfaSignIn:finalize",st(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let md=(()=>{class v{constructor(){}static assertion(g){return Ui._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Xc="@firebase/auth";class Bi{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function tf(v){(0,M._registerComponent)(new ie.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:x,authDomain:X}=E.options;return((De,Ke)=>{Q(x&&!x.includes(":"),"invalid-api-key",{appName:De.name}),Q(!X?.includes(":"),"argument-error",{appName:De.name});const ht={apiKey:x,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ps(v)},Rt=new Ta(De,Ke,ht);return function We(v,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(Me);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(Rt,g),Rt})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new ie.wA("auth-internal",p=>{const g=li(p.getProvider("auth").getImmediate());return new Bi(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(Xc,"0.21.4",function $o(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,M.registerVersion)(Xc,"0.21.4","esm2017")}("Browser")},2090:(it,ye,F)=>{F.d(ye,{$s:()=>ct,BH:()=>Ee,DV:()=>$i,Dv:()=>Pn,GJ:()=>pr,L:()=>ue,LL:()=>lt,Pz:()=>Ne,Sg:()=>Ve,UG:()=>pe,UI:()=>on,US:()=>ie,Wj:()=>ar,Wl:()=>wn,Yr:()=>ge,ZB:()=>Z,ZR:()=>Kt,aH:()=>Ie,b$:()=>mt,cI:()=>jt,dS:()=>lr,eu:()=>ke,g5:()=>M,gK:()=>ti,gQ:()=>Mi,h$:()=>le,hl:()=>Pe,hu:()=>G,jU:()=>Be,lb:()=>St,m9:()=>xn,ne:()=>Ct,p$:()=>z,pd:()=>Mn,r3:()=>On,ru:()=>Me,tV:()=>W,uI:()=>se,ug:()=>Mt,vZ:()=>ei,w1:()=>oe,w9:()=>bi,xO:()=>ai,xb:()=>sr,z$:()=>Q,zI:()=>ze,zd:()=>Gn});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},G=function($,j){if(!$)throw M(j)},M=function($){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},ee=function($){const j=[];let P=0;for(let k=0;k<$.length;k++){let O=$.charCodeAt(k);O<128?j[P++]=O:O<2048?(j[P++]=O>>6|192,j[P++]=63&O|128):55296==(64512&O)&&k+1<$.length&&56320==(64512&$.charCodeAt(k+1))?(O=65536+((1023&O)<<10)+(1023&$.charCodeAt(++k)),j[P++]=O>>18|240,j[P++]=O>>12&63|128,j[P++]=O>>6&63|128,j[P++]=63&O|128):(j[P++]=O>>12|224,j[P++]=O>>6&63|128,j[P++]=63&O|128)}return j},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let O=0;O<$.length;O+=3){const J=$[O],ae=O+1<$.length,Xe=ae?$[O+1]:0,gt=O+2<$.length,Et=gt?$[O+2]:0;let cn=(15&Xe)<<2|Et>>6,At=63&Et;gt||(At=64,ae||(cn=64)),k.push(P[J>>2],P[(3&J)<<4|Xe>>4],P[cn],P[At])}return k.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ee($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let P=0,k=0;for(;P<$.length;){const O=$[P++];if(O<128)j[k++]=String.fromCharCode(O);else if(O>191&&O<224){const J=$[P++];j[k++]=String.fromCharCode((31&O)<<6|63&J)}else if(O>239&&O<365){const gt=((7&O)<<18|(63&$[P++])<<12|(63&$[P++])<<6|63&$[P++])-65536;j[k++]=String.fromCharCode(55296+(gt>>10)),j[k++]=String.fromCharCode(56320+(1023&gt))}else{const J=$[P++],ae=$[P++];j[k++]=String.fromCharCode((15&O)<<12|(63&J)<<6|63&ae)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const P=j?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let O=0;O<$.length;){const J=P[$.charAt(O++)],Xe=O<$.length?P[$.charAt(O)]:0;++O;const Et=O<$.length?P[$.charAt(O)]:64;++O;const _t=O<$.length?P[$.charAt(O)]:64;if(++O,null==J||null==Xe||null==Et||null==_t)throw new fe;k.push(J<<2|Xe>>4),64!==Et&&(k.push(Xe<<4&240|Et>>2),64!==_t&&k.push(Et<<6&192|_t))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function($){const j=ee($);return ie.encodeByteArray(j,!0)},ue=function($){return le($).replace(/\./g,"")},W=function($){try{return ie.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function z($){return Z(void 0,$)}function Z($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const P in j)!j.hasOwnProperty(P)||!xe(P)||($[P]=Z($[P],j[P]));return $}function xe($){return"__proto__"!==$}const be=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&W($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ie=()=>{var $;return null===($=be())||void 0===$?void 0:$.config},Ne=$=>{var j;return null===(j=be())||void 0===j?void 0:j[`_${$}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,P)=>{this.resolve=j,this.reject=P})}wrapCallback(j){return(P,k)=>{P?this.reject(P):this.resolve(k),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(P):j(P,k))}}}function Ve($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=j||"demo-project",O=$.iat||0,J=$.sub||$.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:O,exp:O+3600,auth_time:O,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ae)),""].join(".")}function Q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function pe(){var $;const j=null===($=be())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function Me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const $=Q();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ge(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise(($,j)=>{try{let P=!0;const k="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(k);O.onsuccess=()=>{O.result.close(),P||self.indexedDB.deleteDatabase(k),$(!0)},O.onupgradeneeded=()=>{P=!1},O.onerror=()=>{var J;j((null===(J=O.error)||void 0===J?void 0:J.message)||"")}}catch(P){j(P)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Kt extends Error{constructor(j,P,k){super(P),this.code=j,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(j,P,k){this.service=j,this.serviceName=P,this.errors=k}create(j,...P){const k=P[0]||{},O=`${this.service}/${j}`,J=this.errors[j],ae=J?function st($,j){return $.replace(Je,(P,k)=>{const O=j[k];return null!=O?String(O):`<${k}?>`})}(J,k):"Error";return new Kt(O,`${this.serviceName}: ${ae} (${O}).`,k)}}const Je=/\{\$([^}]+)}/g;function jt($){return JSON.parse($)}function wn($){return JSON.stringify($)}const Qt=function($){let j={},P={},k={},O="";try{const J=$.split(".");j=jt(W(J[0])||""),P=jt(W(J[1])||""),O=J[2],k=P.d||{},delete P.d}catch{}return{header:j,claims:P,data:k,signature:O}},bi=function($){const P=Qt($).claims;return!!P&&"object"==typeof P&&P.hasOwnProperty("iat")},pr=function($){const j=Qt($).claims;return"object"==typeof j&&!0===j.admin};function On($,j){return Object.prototype.hasOwnProperty.call($,j)}function $i($,j){if(Object.prototype.hasOwnProperty.call($,j))return $[j]}function sr($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function on($,j,P){const k={};for(const O in $)Object.prototype.hasOwnProperty.call($,O)&&(k[O]=j.call(P,$[O],O,$));return k}function ei($,j){if($===j)return!0;const P=Object.keys($),k=Object.keys(j);for(const O of P){if(!k.includes(O))return!1;const J=$[O],ae=j[O];if(Qe(J)&&Qe(ae)){if(!ei(J,ae))return!1}else if(J!==ae)return!1}for(const O of k)if(!P.includes(O))return!1;return!0}function Qe($){return null!==$&&"object"==typeof $}function ai($){const j=[];for(const[P,k]of Object.entries($))Array.isArray(k)?k.forEach(O=>{j.push(encodeURIComponent(P)+"="+encodeURIComponent(O))}):j.push(encodeURIComponent(P)+"="+encodeURIComponent(k));return j.length?"&"+j.join("&"):""}function Gn($){const j={};return $.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[O,J]=k.split("=");j[decodeURIComponent(O)]=decodeURIComponent(J)}}),j}function Mn($){const j=$.indexOf("?");if(!j)return"";const P=$.indexOf("#",j);return $.substring(j,P>0?P:void 0)}class Mi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,P){P||(P=0);const k=this.W_;if("string"==typeof j)for(let _t=0;_t<16;_t++)k[_t]=j.charCodeAt(P)<<24|j.charCodeAt(P+1)<<16|j.charCodeAt(P+2)<<8|j.charCodeAt(P+3),P+=4;else for(let _t=0;_t<16;_t++)k[_t]=j[P]<<24|j[P+1]<<16|j[P+2]<<8|j[P+3],P+=4;for(let _t=16;_t<80;_t++){const cn=k[_t-3]^k[_t-8]^k[_t-14]^k[_t-16];k[_t]=4294967295&(cn<<1|cn>>>31)}let Et,xt,O=this.chain_[0],J=this.chain_[1],ae=this.chain_[2],Xe=this.chain_[3],gt=this.chain_[4];for(let _t=0;_t<80;_t++){_t<40?_t<20?(Et=Xe^J&(ae^Xe),xt=1518500249):(Et=J^ae^Xe,xt=1859775393):_t<60?(Et=J&ae|Xe&(J|ae),xt=2400959708):(Et=J^ae^Xe,xt=3395469782);const cn=(O<<5|O>>>27)+Et+gt+xt+k[_t]&4294967295;gt=Xe,Xe=ae,ae=4294967295&(J<<30|J>>>2),J=O,O=cn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+ae&4294967295,this.chain_[3]=this.chain_[3]+Xe&4294967295,this.chain_[4]=this.chain_[4]+gt&4294967295}update(j,P){if(null==j)return;void 0===P&&(P=j.length);const k=P-this.blockSize;let O=0;const J=this.buf_;let ae=this.inbuf_;for(;O<P;){if(0===ae)for(;O<=k;)this.compress_(j,O),O+=this.blockSize;if("string"==typeof j){for(;O<P;)if(J[ae]=j.charCodeAt(O),++ae,++O,ae===this.blockSize){this.compress_(J),ae=0;break}}else for(;O<P;)if(J[ae]=j[O],++ae,++O,ae===this.blockSize){this.compress_(J),ae=0;break}}this.inbuf_=ae,this.total_+=P}digest(){const j=[];let P=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&P,P/=256;this.compress_(this.buf_);let k=0;for(let O=0;O<5;O++)for(let J=24;J>=0;J-=8)j[k]=this.chain_[O]>>J&255,++k;return j}}function Ct($,j){const P=new rt($,j);return P.subscribe.bind(P)}class rt{constructor(j,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{j(this)}).catch(k=>{this.error(k)})}next(j){this.forEachObserver(P=>{P.next(j)})}error(j){this.forEachObserver(P=>{P.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,P,k){let O;if(void 0===j&&void 0===P&&void 0===k)throw new Error("Missing Observer.");O=function ln($,j){if("object"!=typeof $||null===$)return!1;for(const P of j)if(P in $&&"function"==typeof $[P])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:P,complete:k},void 0===O.next&&(O.next=In),void 0===O.error&&(O.error=In),void 0===O.complete&&(O.complete=In);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),J}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,j)}sendOne(j,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{P(this.observers[j])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const Pn=function($,j,P,k){let O;if(k<j?O="at least "+j:k>P&&(O=0===P?"none":"no more than "+P),O)throw new Error($+" failed: Was called with "+k+(1===k?" argument.":" arguments.")+" Expects "+O+".")};function ti($,j){return`${$} failed: ${j} argument `}function ar($,j,P,k){if((!k||P)&&"function"!=typeof P)throw new Error(ti($,j)+"must be a valid function.")}function St($,j,P,k){if((!k||P)&&("object"!=typeof P||null===P))throw new Error(ti($,j)+"must be a valid context object.")}const lr=function($){const j=[];let P=0;for(let k=0;k<$.length;k++){let O=$.charCodeAt(k);if(O>=55296&&O<=56319){const J=O-55296;k++,G(k<$.length,"Surrogate pair missing trail surrogate."),O=65536+(J<<10)+($.charCodeAt(k)-56320)}O<128?j[P++]=O:O<2048?(j[P++]=O>>6|192,j[P++]=63&O|128):O<65536?(j[P++]=O>>12|224,j[P++]=O>>6&63|128,j[P++]=63&O|128):(j[P++]=O>>18|240,j[P++]=O>>12&63|128,j[P++]=O>>6&63|128,j[P++]=63&O|128)}return j},Mt=function($){let j=0;for(let P=0;P<$.length;P++){const k=$.charCodeAt(P);k<128?j++:k<2048?j+=2:k>=55296&&k<=56319?(j+=4,P++):j+=3}return j},kn=1e3,Fe=2,me=144e5,Ye=.5;function ct($,j=kn,P=Fe){const k=j*Math.pow(P,$),O=Math.round(Ye*k*(Math.random()-.5)*2);return Math.min(me,k+O)}function xn($){return $&&$._delegate?$._delegate:$}},8299:(it,ye,F)=>{var l=F(4650);let G=null;function M(){return G}class re{}const ie=new l.OlP("DocumentToken");let fe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function le(){return(0,l.LFG)(W)}()},providedIn:"platform"}),t})();const ue=new l.OlP("Location Initialized");let W=(()=>{class t extends fe{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(e){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,s){z()?this._history.pushState(e,i,s):this._location.hash=s}replaceState(e,i,s){z()?this._history.replaceState(e,i,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Z(){return new W((0,l.LFG)(ie))}()},providedIn:"platform"}),t})();function z(){return!!window.history.pushState}function xe(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Ce(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ge(t){return t&&"?"!==t[0]?"?"+t:t}let et=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(be)},providedIn:"root"}),t})();const he=new l.OlP("appBaseHref");let be=(()=>{class t extends et{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,c){const h=this.prepareExternalUrl(s+Ge(c));this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){const h=this.prepareExternalUrl(s+Ge(c));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(fe),l.LFG(he,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ve=(()=>{class t extends et{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,c){let h=this.prepareExternalUrl(s+Ge(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){let h=this.prepareExternalUrl(s+Ge(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(fe),l.LFG(he,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Re=(()=>{class t{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ve(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Ce(Ee(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ge(i))}normalize(e){return t.stripTrailingSlash(function Ne(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,Ee(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return t.normalizeQueryParams=Ge,t.joinWithSlash=xe,t.stripTrailingSlash=Ce,t.\u0275fac=function(e){return new(e||t)(l.LFG(et))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Ie(){return new Re((0,l.LFG)(et))}()},providedIn:"root"}),t})();function Ee(t){return t.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Be=(()=>((Be=Be||{})[Be.Format=0]="Format",Be[Be.Standalone=1]="Standalone",Be))(),Me=(()=>((Me=Me||{})[Me.Narrow=0]="Narrow",Me[Me.Abbreviated=1]="Abbreviated",Me[Me.Wide=2]="Wide",Me[Me.Short=3]="Short",Me))(),mt=(()=>((mt=mt||{})[mt.Short=0]="Short",mt[mt.Medium=1]="Medium",mt[mt.Long=2]="Long",mt[mt.Full=3]="Full",mt))(),We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Group=1]="Group",We[We.List=2]="List",We[We.PercentSign=3]="PercentSign",We[We.PlusSign=4]="PlusSign",We[We.MinusSign=5]="MinusSign",We[We.Exponential=6]="Exponential",We[We.SuperscriptingExponent=7]="SuperscriptingExponent",We[We.PerMille=8]="PerMille",We[We.Infinity=9]="Infinity",We[We.NaN=10]="NaN",We[We.TimeSeparator=11]="TimeSeparator",We[We.CurrencyDecimal=12]="CurrencyDecimal",We[We.CurrencyGroup=13]="CurrencyGroup",We))();function ge(t,n,e){const i=(0,l.cg1)(t),c=on([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],n);return on(c,e)}function Te(t,n,e){const i=(0,l.cg1)(t),c=on([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],n);return on(c,e)}function Pe(t,n,e){const i=(0,l.cg1)(t),c=on([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],n);return on(c,e)}function Kt(t,n){return on((0,l.cg1)(t)[l.wAp.DateFormat],n)}function lt(t,n){return on((0,l.cg1)(t)[l.wAp.TimeFormat],n)}function st(t,n){return on((0,l.cg1)(t)[l.wAp.DateTimeFormat],n)}function Je(t,n){const e=(0,l.cg1)(t),i=e[l.wAp.NumberSymbols][n];if(typeof i>"u"){if(n===We.CurrencyDecimal)return e[l.wAp.NumberSymbols][We.Decimal];if(n===We.CurrencyGroup)return e[l.wAp.NumberSymbols][We.Group]}return i}function pr(t){if(!t[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function on(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function ei(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Gn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mn={},Mi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),rt=(()=>((rt=rt||{})[rt.FullYear=0]="FullYear",rt[rt.Month=1]="Month",rt[rt.Date=2]="Date",rt[rt.Hours=3]="Hours",rt[rt.Minutes=4]="Minutes",rt[rt.Seconds=5]="Seconds",rt[rt.FractionalSeconds=6]="FractionalSeconds",rt[rt.Day=7]="Day",rt))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function ln(t,n,e,i){let s=function O(t){if(ae(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[s,c=1,h=1]=t.split("-").map(m=>+m);return In(s,c-1,h)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Gn))return function J(t){const n=new Date(0);let e=0,i=0;const s=t[8]?n.setUTCFullYear:n.setFullYear,c=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),s.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const h=Number(t[4]||0)-e,m=Number(t[5]||0)-i,b=Number(t[6]||0),I=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return c.call(n,h,m,b,I),n}(i)}const n=new Date(t);if(!ae(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Pn(e,n)||n;let m,h=[];for(;n;){if(m=Mi.exec(n),!m){h.push(n);break}{h=h.concat(m.slice(1));const S=h.pop();if(!S)break;n=S}}let b=s.getTimezoneOffset();i&&(b=j(i,b),s=function k(t,n,e){const i=e?-1:1,s=t.getTimezoneOffset();return function P(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(j(n,s)-s))}(s,i,!0));let I="";return h.forEach(S=>{const L=function $(t){if(xn[t])return xn[t];let n;switch(t){case"G":case"GG":case"GGG":n=Mt(Dt.Eras,Me.Abbreviated);break;case"GGGG":n=Mt(Dt.Eras,Me.Wide);break;case"GGGGG":n=Mt(Dt.Eras,Me.Narrow);break;case"y":n=St(rt.FullYear,1,0,!1,!0);break;case"yy":n=St(rt.FullYear,2,0,!0,!0);break;case"yyy":n=St(rt.FullYear,3,0,!1,!0);break;case"yyyy":n=St(rt.FullYear,4,0,!1,!0);break;case"Y":n=Vt(1);break;case"YY":n=Vt(2,!0);break;case"YYY":n=Vt(3);break;case"YYYY":n=Vt(4);break;case"M":case"L":n=St(rt.Month,1,1);break;case"MM":case"LL":n=St(rt.Month,2,1);break;case"MMM":n=Mt(Dt.Months,Me.Abbreviated);break;case"MMMM":n=Mt(Dt.Months,Me.Wide);break;case"MMMMM":n=Mt(Dt.Months,Me.Narrow);break;case"LLL":n=Mt(Dt.Months,Me.Abbreviated,Be.Standalone);break;case"LLLL":n=Mt(Dt.Months,Me.Wide,Be.Standalone);break;case"LLLLL":n=Mt(Dt.Months,Me.Narrow,Be.Standalone);break;case"w":n=bt(1);break;case"ww":n=bt(2);break;case"W":n=bt(1,!0);break;case"d":n=St(rt.Date,1);break;case"dd":n=St(rt.Date,2);break;case"c":case"cc":n=St(rt.Day,1);break;case"ccc":n=Mt(Dt.Days,Me.Abbreviated,Be.Standalone);break;case"cccc":n=Mt(Dt.Days,Me.Wide,Be.Standalone);break;case"ccccc":n=Mt(Dt.Days,Me.Narrow,Be.Standalone);break;case"cccccc":n=Mt(Dt.Days,Me.Short,Be.Standalone);break;case"E":case"EE":case"EEE":n=Mt(Dt.Days,Me.Abbreviated);break;case"EEEE":n=Mt(Dt.Days,Me.Wide);break;case"EEEEE":n=Mt(Dt.Days,Me.Narrow);break;case"EEEEEE":n=Mt(Dt.Days,Me.Short);break;case"a":case"aa":case"aaa":n=Mt(Dt.DayPeriods,Me.Abbreviated);break;case"aaaa":n=Mt(Dt.DayPeriods,Me.Wide);break;case"aaaaa":n=Mt(Dt.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":n=Mt(Dt.DayPeriods,Me.Abbreviated,Be.Standalone,!0);break;case"bbbb":n=Mt(Dt.DayPeriods,Me.Wide,Be.Standalone,!0);break;case"bbbbb":n=Mt(Dt.DayPeriods,Me.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":n=Mt(Dt.DayPeriods,Me.Abbreviated,Be.Format,!0);break;case"BBBB":n=Mt(Dt.DayPeriods,Me.Wide,Be.Format,!0);break;case"BBBBB":n=Mt(Dt.DayPeriods,Me.Narrow,Be.Format,!0);break;case"h":n=St(rt.Hours,1,-12);break;case"hh":n=St(rt.Hours,2,-12);break;case"H":n=St(rt.Hours,1);break;case"HH":n=St(rt.Hours,2);break;case"m":n=St(rt.Minutes,1);break;case"mm":n=St(rt.Minutes,2);break;case"s":n=St(rt.Seconds,1);break;case"ss":n=St(rt.Seconds,2);break;case"S":n=St(rt.FractionalSeconds,1);break;case"SS":n=St(rt.FractionalSeconds,2);break;case"SSS":n=St(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=kn(Ct.Short);break;case"ZZZZZ":n=kn(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=kn(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=kn(Ct.Long);break;default:return null}return xn[t]=n,n}(S);I+=L?L(s,e,b):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function In(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Pn(t,n){const e=function ce(t){return(0,l.cg1)(t)[l.wAp.LocaleId]}(t);if(Mn[e]=Mn[e]||{},Mn[e][n])return Mn[e][n];let i="";switch(n){case"shortDate":i=Kt(t,mt.Short);break;case"mediumDate":i=Kt(t,mt.Medium);break;case"longDate":i=Kt(t,mt.Long);break;case"fullDate":i=Kt(t,mt.Full);break;case"shortTime":i=lt(t,mt.Short);break;case"mediumTime":i=lt(t,mt.Medium);break;case"longTime":i=lt(t,mt.Long);break;case"fullTime":i=lt(t,mt.Full);break;case"short":const s=Pn(t,"shortTime"),c=Pn(t,"shortDate");i=ti(st(t,mt.Short),[s,c]);break;case"medium":const h=Pn(t,"mediumTime"),m=Pn(t,"mediumDate");i=ti(st(t,mt.Medium),[h,m]);break;case"long":const b=Pn(t,"longTime"),I=Pn(t,"longDate");i=ti(st(t,mt.Long),[b,I]);break;case"full":const S=Pn(t,"fullTime"),L=Pn(t,"fullDate");i=ti(st(t,mt.Full),[S,L])}return i&&(Mn[e][n]=i),i}function ti(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Yn(t,n,e="-",i,s){let c="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,c=e));let h=String(t);for(;h.length<n;)h="0"+h;return i&&(h=h.slice(h.length-n)),c+h}function St(t,n,e=0,i=!1,s=!1){return function(c,h){let m=function lr(t,n){switch(t){case rt.FullYear:return n.getFullYear();case rt.Month:return n.getMonth();case rt.Date:return n.getDate();case rt.Hours:return n.getHours();case rt.Minutes:return n.getMinutes();case rt.Seconds:return n.getSeconds();case rt.FractionalSeconds:return n.getMilliseconds();case rt.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,c);if((e>0||m>-e)&&(m+=e),t===rt.Hours)0===m&&-12===e&&(m=12);else if(t===rt.FractionalSeconds)return function ar(t,n){return Yn(t,3).substring(0,n)}(m,n);const b=Je(h,We.MinusSign);return Yn(m,n,b,i,s)}}function Mt(t,n,e=Be.Format,i=!1){return function(s,c){return function Pi(t,n,e,i,s,c){switch(e){case Dt.Months:return Pe(n,s,i)[t.getMonth()];case Dt.Days:return Te(n,s,i)[t.getDay()];case Dt.DayPeriods:const h=t.getHours(),m=t.getMinutes();if(c){const I=function On(t){const n=(0,l.cg1)(t);return pr(n),(n[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?ei(i):[ei(i[0]),ei(i[1])])}(n),S=function $i(t,n,e){const i=(0,l.cg1)(t);pr(i);const c=on([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],n)||[];return on(c,e)||[]}(n,s,i),L=I.findIndex(H=>{if(Array.isArray(H)){const[K,_e]=H,Ae=h>=K.hours&&m>=K.minutes,Ue=h<_e.hours||h===_e.hours&&m<_e.minutes;if(K.hours<_e.hours){if(Ae&&Ue)return!0}else if(Ae||Ue)return!0}else if(H.hours===h&&H.minutes===m)return!0;return!1});if(-1!==L)return S[L]}return ge(n,s,i)[h<12?0:1];case Dt.Eras:return function ke(t,n){return on((0,l.cg1)(t)[l.wAp.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,c,t,n,e,i)}}function kn(t){return function(n,e,i){const s=-1*i,c=Je(e,We.MinusSign),h=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case Ct.Short:return(s>=0?"+":"")+Yn(h,2,c)+Yn(Math.abs(s%60),2,c);case Ct.ShortGMT:return"GMT"+(s>=0?"+":"")+Yn(h,1,c);case Ct.Long:return"GMT"+(s>=0?"+":"")+Yn(h,2,c)+":"+Yn(Math.abs(s%60),2,c);case Ct.Extended:return 0===i?"Z":(s>=0?"+":"")+Yn(h,2,c)+":"+Yn(Math.abs(s%60),2,c);default:throw new Error(`Unknown zone width "${t}"`)}}}const Fe=0,me=4;function ct(t){return In(t.getFullYear(),t.getMonth(),t.getDate()+(me-t.getDay()))}function bt(t,n=!1){return function(e,i){let s;if(n){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();s=1+Math.floor((h+c)/7)}else{const c=ct(e),h=function Ye(t){const n=In(t,Fe,1).getDay();return In(t,0,1+(n<=me?me:me+7)-n)}(c.getFullYear()),m=c.getTime()-h.getTime();s=1+Math.round(m/6048e5)}return Yn(s,t,Je(i,We.MinusSign))}}function Vt(t,n=!1){return function(e,i){return Yn(ct(e).getFullYear(),t,Je(i,We.MinusSign),n)}}const xn={};function j(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function ae(t){return t instanceof Date&&!isNaN(t.valueOf())}const Xe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gt=22,Et=".",xt="0",_t=";",cn=",",At="#";function Fn(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}class gn{constructor(n,e,i,s){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ci=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,c,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new gn(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===c?void 0:c);else if(null!==c){const m=i.get(c);i.move(m,h),Io(m,s)}});for(let s=0,c=i.length;s<c;s++){const m=i.get(s).context;m.index=s,m.count=c,m.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Io(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Io(t,n){t.context.$implicit=n.item}let jn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Sa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Na("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Na("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Sa{constructor(){this.$implicit=null,this.ngIf=null}}function Na(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(n)}'.`)}let Sr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:c,ngTemplateOutletInjector:h}=this;this._viewRef=i.createEmbeddedView(s,c,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),t})();let Ku=(()=>{class t{constructor(e){this._locale=e}transform(e,i,s){if(!function Ju(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale;try{return function Ta(t,n,e){return function Ps(t,n,e,i,s,c,h=!1){let m="",b=!1;if(isFinite(t)){let I=function vl(t){let i,s,c,h,m,n=Math.abs(t)+"",e=0;for((s=n.indexOf(Et))>-1&&(n=n.replace(Et,"")),(c=n.search(/e/i))>0?(s<0&&(s=c),s+=+n.slice(c+1),n=n.substring(0,c)):s<0&&(s=n.length),c=0;n.charAt(c)===xt;c++);if(c===(m=n.length))i=[0],s=1;else{for(m--;n.charAt(m)===xt;)m--;for(s-=c,i=[],h=0;c<=m;c++,h++)i[h]=Number(n.charAt(c))}return s>gt&&(i=i.splice(0,gt-1),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(t);h&&(I=function ml(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(I));let S=n.minInt,L=n.minFrac,H=n.maxFrac;if(c){const ot=c.match(Xe);if(null===ot)throw new Error(`${c} is not a valid digit info`);const Lt=ot[1],pt=ot[3],Nt=ot[5];null!=Lt&&(S=Fn(Lt)),null!=pt&&(L=Fn(pt)),null!=Nt?H=Fn(Nt):null!=pt&&L>H&&(H=L)}!function Zt(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,s=i.length-t.integerLen;const c=Math.min(Math.max(n,s),e);let h=c+t.integerLen,m=i[h];if(h>0){i.splice(Math.max(t.integerLen,h));for(let L=h;L<i.length;L++)i[L]=0}else{s=Math.max(0,s),t.integerLen=1,i.length=Math.max(1,h=c+1),i[0]=0;for(let L=1;L<h;L++)i[L]=0}if(m>=5)if(h-1<0){for(let L=0;L>h;L--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[h-1]++;for(;s<Math.max(0,c);s++)i.push(0);let b=0!==c;const I=n+t.integerLen,S=i.reduceRight(function(L,H,K,_e){return _e[K]=(H+=L)<10?H:H-10,b&&(0===_e[K]&&K>=I?_e.pop():b=!1),H>=10?1:0},0);S&&(i.unshift(S),t.integerLen++)}(I,L,H);let K=I.digits,_e=I.integerLen;const Ae=I.exponent;let Ue=[];for(b=K.every(ot=>!ot);_e<S;_e++)K.unshift(0);for(;_e<0;_e++)K.unshift(0);_e>0?Ue=K.splice(_e,K.length):(Ue=K,K=[0]);const at=[];for(K.length>=n.lgSize&&at.unshift(K.splice(-n.lgSize,K.length).join(""));K.length>n.gSize;)at.unshift(K.splice(-n.gSize,K.length).join(""));K.length&&at.unshift(K.join("")),m=at.join(Je(e,i)),Ue.length&&(m+=Je(e,s)+Ue.join("")),Ae&&(m+=Je(e,We.Exponential)+"+"+Ae)}else m=Je(e,We.Infinity);return m=t<0&&!b?n.negPre+m+n.negSuf:n.posPre+m+n.posSuf,m}(t,function ks(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(_t),s=i[0],c=i[1],h=-1!==s.indexOf(Et)?s.split(Et):[s.substring(0,s.lastIndexOf(xt)+1),s.substring(s.lastIndexOf(xt)+1)],m=h[0],b=h[1]||"";e.posPre=m.substring(0,m.indexOf(At));for(let S=0;S<b.length;S++){const L=b.charAt(S);L===xt?e.minFrac=e.maxFrac=S+1:L===At?e.maxFrac=S+1:e.posSuf+=L}const I=m.split(cn);if(e.gSize=I[1]?I[1].length:0,e.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,c){const S=s.length-e.posPre.length-e.posSuf.length,L=c.indexOf(At);e.negPre=c.substring(0,L).replace(/'/g,""),e.negSuf=c.slice(L+S).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function jt(t,n){return(0,l.cg1)(t)[l.wAp.NumberFormats][n]}(n,se.Percent),Je(n,We.MinusSign)),n,We.Group,We.Decimal,e,!0).replace(new RegExp("%","g"),Je(n,We.PercentSign))}(function Ar(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),s,i)}catch(c){throw function Sn(t,n){return new l.vHH(2100,!1)}()}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.soG,16))},t.\u0275pipe=l.Yjl({name:"percent",type:t,pure:!0,standalone:!0}),t})();let ss=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const Fi="browser";let Us=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new Bs((0,l.LFG)(ie),window)}),t})();class Bs{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Hs(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const h=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(h)return h}s=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=to(this.window.history)||to(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function to(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ga extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oo extends Ga{static makeCurrent(){!function ee(t){G||(G=t)}(new oo)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function od(){return Gr=Gr||document.querySelector("base"),Gr?Gr.getAttribute("href"):null}();return null==e?null:function fi(t){kc=kc||document.createElement("a"),kc.setAttribute("href",t);const n=kc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Gr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function qe(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[s,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===n)return decodeURIComponent(c)}return null}(document.cookie,n)}}let kc,Gr=null;const jh=new l.OlP("TRANSITION_ID"),sd=[{provide:l.ip1,useFactory:function Nl(t,n,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=M(),s=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<s.length;c++)i.remove(s[c])})}},deps:[jh,ie,l.zs3],multi:!0}];let ja=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const hs=new l.OlP("EventManagerPlugins");let un=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let c=0;c<s.length;c++){const h=s[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(hs),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class Al{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const s=M().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Mr=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const s=this.usageCount;let c=s.get(e)??0;return c+=i,c>0?s.set(e,c):s.delete(e),c}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Mo=(()=>{class t extends Mr{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(c=>c.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const s=this.doc.createElement("style");s.textContent=i,e.appendChild(s);const c=this.styleRef.get(i);c?c.push(s):this.styleRef.set(i,[s])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const so={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fs=/%COMP%/g,ko=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wi(t,n){return n.flat(100).map(e=>e.replace(fs,t))}function Ol(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Pr=(()=>{class t{constructor(e,i,s,c){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=c,this.rendererByCompId=new Map,this.defaultRenderer=new ea(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const s=this.getOrCreateRenderer(e,i);return s instanceof _s?s.applyToHost(e):s instanceof Ml&&s.applyStyles(),s}getOrCreateRenderer(e,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const h=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:c=new _s(h,m,i,this.appId,b);break;case l.ifc.ShadowDom:return new Fc(h,m,e,i);default:c=new Ml(h,m,i,b)}c.onDestroy=()=>s.delete(i.id),s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(un),l.LFG(Mo),l.LFG(l.AFp),l.LFG(ko))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class ea{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(so[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(ta(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(ta(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,s){if(s){e=s+":"+e;const c=so[s];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const s=so[i];s?n.removeAttributeNS(s,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,s){s&(l.JOm.DashCase|l.JOm.Important)?n.style.setProperty(e,i,s&l.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&l.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Ol(i)):this.eventManager.addEventListener(n,e,Ol(i))}}function ta(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Fc extends ea{constructor(n,e,i,s){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=wi(s.id,s.styles);for(const h of c){const m=document.createElement("style");m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ml extends ea{constructor(n,e,i,s,c=i.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=wi(c,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _s extends Ml{constructor(n,e,i,s,c){const h=s+"-"+i.id;super(n,e,i,c,h),this.contentAttr=function xo(t){return"_ngcontent-%COMP%".replace(fs,t)}(h),this.hostAttr=function ld(t){return"_nghost-%COMP%".replace(fs,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Lc=(()=>{class t extends Al{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const na=["alt","control","meta","shift"],cd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vi={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ao=(()=>{class t extends Al{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,s){const c=t.parseEventName(i),h=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=t._normalizeKey(i.pop());let h="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),h="code."),na.forEach(I=>{const S=i.indexOf(I);S>-1&&(i.splice(S,1),h+=I+".")}),h+=c,0!=i.length||0===c.length)return null;const b={};return b.domEventName=s,b.fullKey=h,b}static matchEventFullKeyCode(e,i){let s=cd[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(s=e.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),na.forEach(h=>{h!==s&&(0,Vi[h])(e)&&(c+=h+".")}),c+=s,c===i)}static eventCallback(e,i,s){return c=>{t.matchEventFullKeyCode(c,e)&&s.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Bc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Fi},{provide:l.g9A,useValue:function $a(){oo.makeCurrent()},multi:!0},{provide:ie,useFactory:function ud(){return(0,l.RDi)(document),document},deps:[]}]),Lo=new l.OlP(""),Vo=[{provide:l.rWj,useClass:class ad{addToWindow(n){l.dqk.getAngularTestability=(i,s=!0)=>{const c=n.findTestabilityInTree(i,s);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const s=l.dqk.getAllAngularTestabilities();let c=s.length,h=!1;const m=function(b){h=h||b,c--,0==c&&i(h)};s.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?M().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],jr=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Uc(){return new l.qLn},deps:[]},{provide:hs,useClass:Lc,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:hs,useClass:ao,multi:!0,deps:[ie]},{provide:Pr,useClass:Pr,deps:[un,Mo,l.AFp,ko]},{provide:l.FYo,useExisting:Pr},{provide:Mr,useExisting:Mo},{provide:Mo,useClass:Mo,deps:[ie]},{provide:un,useClass:un,deps:[hs,l.R0b]},{provide:class El{},useClass:ja,deps:[]},[]];let dd=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId},{provide:jh,useExisting:l.AFp},sd]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Lo,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[...jr,...Vo],imports:[ss,l.hGG]}),t})(),Xt=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function $h(){return new Xt((0,l.LFG)(ie))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;const Zh_firebaseConfig={apiKey:"AIzaSyAFjbPemhTfv30n1B72MxCK7ld8-Ypr2jk",authDomain:"csc-510-ba9f8.firebaseapp.com",projectId:"csc-510-ba9f8",storageBucket:"csc-510-ba9f8.appspot.com",messagingSenderId:"302445210600",appId:"1:302445210600:web:c8429cf1dc0a2aadead25d"};var Nn=F(2011),za=F(4986),Ii=F(9751),xr=F(3269),en=F(8996);function nt(...t){const n=(0,xr.yG)(t);return(0,en.D)(t,n)}var Fr=F(6451),ut=F(4004),la=F(3099),Ti=F(8421),bn=F(4482),_n=F(5403);function sn(t,n){return(0,bn.e)((e,i)=>{let s=null,c=0,h=!1;const m=()=>h&&!s&&i.complete();e.subscribe((0,_n.x)(i,b=>{s?.unsubscribe();let I=0;const S=c++;(0,Ti.Xf)(t(b,S)).subscribe(s=(0,_n.x)(i,L=>i.next(n?n(b,L,S,I++):L),()=>{s=null,m()}))},()=>{h=!0,m()}))})}function w(t,n){return(0,bn.e)(function C(t,n,e,i,s){return(c,h)=>{let m=e,b=n,I=0;c.subscribe((0,_n.x)(h,S=>{const L=I++;b=m?t(b,S,L):(m=!0,S),i&&h.next(b)},s&&(()=>{m&&h.next(b),h.complete()})))}}(t,n,arguments.length>=2,!0))}var A=F(4671);function B(t,n=A.y){return t=t??q,(0,bn.e)((e,i)=>{let s,c=!0;e.subscribe((0,_n.x)(i,h=>{const m=n(h);(c||!t(s,m))&&(c=!1,s=m,i.next(h))}))})}function q(t,n){return t===n}var ne=F(5032);function Se(...t){const n=(0,xr.jO)(t);return(0,bn.e)((e,i)=>{const s=t.length,c=new Array(s);let h=t.map(()=>!1),m=!1;for(let b=0;b<s;b++)(0,Ti.Xf)(t[b]).subscribe((0,_n.x)(i,I=>{c[b]=I,!m&&!h[b]&&(h[b]=!0,(m=h.every(A.y))&&(h=null))},ne.Z));e.subscribe((0,_n.x)(i,b=>{if(m){const I=[b,...c];i.next(n?n(...I):I)}}))})}var $e=F(2122),Ut=(F(9568),F(3942)),dt=F(4859),qn=F(5861),mn=F(9681),V=F(2090),Bo=F(1877);const Es="@firebase/database";let qi="";function xl(t){qi=t}class qh{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,V.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,V.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class wv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,V.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Fl=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new qh(n)}}catch{}return new wv},Ya=Fl("localStorage"),pd=Fl("sessionStorage"),ca=new Bo.Yd("@firebase/database"),Yc=function(){let t=1;return function(){return t++}}(),Zc=function(t){const n=(0,V.dS)(t),e=new V.gQ;e.update(n);const i=e.digest();return V.US.encodeByteArray(i)},qc=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=qc.apply(null,i):n+="object"==typeof i?(0,V.Wl)(i):i,n+=" "}return n};let Ho=null,pg=!0;const gg=function(t,n){(0,V.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ca.logLevel=Bo.in.VERBOSE,Ho=ca.log.bind(ca),n&&pd.set("logging_enabled",!0)):"function"==typeof t?Ho=t:(Ho=null,pd.remove("logging_enabled"))},Si=function(...t){if(!0===pg&&(pg=!1,null===Ho&&!0===pd.get("logging_enabled")&&gg(!0)),Ho){const n=qc.apply(null,t);Ho(n)}},Kc=function(t){return function(...n){Si(t,...n)}},Kh=function(...t){const n="FIREBASE INTERNAL ERROR: "+qc(...t);ca.error(n)},uo=function(...t){const n=`FIREBASE FATAL ERROR: ${qc(...t)}`;throw ca.error(n),new Error(n)},ri=function(...t){const n="FIREBASE WARNING: "+qc(...t);ca.warn(n)},Ll=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Go="[MIN_NAME]",gi="[MAX_NAME]",Ds=function(t,n){if(t===n)return 0;if(t===Go||n===gi)return-1;if(n===Go||t===gi)return 1;{const e=Xc(t),i=Xc(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},_g=function(t,n){return t===n?0:t<n?-1:1},Vl=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,V.Wl)(n))},Jc=function(t){if("object"!=typeof t||null===t)return(0,V.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,V.Wl)(n[i]),e+=":",e+=Jc(t[n[i]]);return e+="}",e},Qc=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let s=0;s<e;s+=n)i.push(t.substring(s,s+n>e?e:s+n));return i};function Kn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Qh=function(t){(0,V.hu)(!Ll(t),"Invalid JSON number");const i=1023;let s,c,h,m,b;0===t?(c=0,h=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=m+i,h=Math.round(t*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,h=Math.round(t/Math.pow(2,-1074))));const I=[];for(b=52;b;b-=1)I.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)I.push(c%2?1:0),c=Math.floor(c/2);I.push(s?1:0),I.reverse();const S=I.join("");let L="";for(b=0;b<64;b+=8){let H=parseInt(S.substr(b,8),2).toString(16);1===H.length&&(H="0"+H),L+=H}return L.toLowerCase()},mg=new RegExp("^-?(0*)\\d{1,10}$"),Xc=function(t){if(mg.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},jo=function(t){try{t()}catch(n){setTimeout(()=>{throw ri("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Bi=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$o=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class tf{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nf{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ri(n)}}let Ul=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const g=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x="ac",X="websocket",De="long_polling";class Ke{constructor(n,e,i,s,c=!1,h="",m=!1,b=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=b,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ya.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ya.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Rt(t,n,e){let i;if((0,V.hu)("string"==typeof n,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),n===X)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==De)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ht(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const s=[];return Kn(e,(c,h)=>{s.push(c+"="+h)}),i+s.join("&")}class hn{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,V.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,V.p$)(this.counters_)}}const Dr={},Ki={};function Cs(t){const n=t.toString();return Dr[n]||(Dr[n]=new hn),Dr[n]}class yd{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&jo(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ua{constructor(n,e,i,s,c,h,m){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(n),this.stats_=Cs(e),this.urlFn=b=>(this.appCheckToken&&(b[x]=this.appCheckToken),Rt(e,De,b))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new yd(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,V.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bg((...c)=>{const[h,m,b,I,S]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=m,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i[x]=this.appCheckToken),typeof location<"u"&&location.hostname&&g.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ua.forceAllow_=!0}static forceDisallow(){ua.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!ua.forceAllow_&&(ua.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,V.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,V.h$)(e),s=Qc(i,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,V.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class bg{constructor(n,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Yc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=bg.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){Si("frame writing exception"),m.stack&&Si(m.stack),Si(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Si("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+s+"="+h.seg+"&ts"+s+"="+h.ts+"&d"+s+"="+h.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(s),i()})}addTag(n,e){(0,V.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Si("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let hf=null;typeof MozWebSocket<"u"?hf=MozWebSocket:typeof WebSocket<"u"&&(hf=WebSocket);let jl=(()=>{class t{constructor(e,i,s,c,h,m,b){this.connId=e,this.applicationId=s,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=Cs(i),this.connURL=t.connectionURL_(i,m,b,c,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,c,h){const m={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&g.test(location.hostname)&&(m.r="f"),i&&(m.s=i),s&&(m.ls=s),c&&(m[x]=c),h&&(m.p=h),Rt(e,X,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ya.set("previous_websocket_failure",!0);try{let s;if((0,V.Yr)()){s={headers:{"User-Agent":`Firebase/5/${qi}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,m=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;m&&(s.proxy={origin:m})}this.mySock=new hf(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==hf&&!t.forceDisallow_}static previouslyFailed(){return Ya.isInMemoryStorage||!0===Ya.get("previous_websocket_failure")}markConnectionHealthy(){Ya.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,V.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,V.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Qc(i,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),Eg=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ua,jl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=jl&&jl.isAvailable();let s=i&&!jl.previouslyFailed();if(e.webSocketOnly&&(i||ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[jl];else{const c=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Mv{constructor(n,e,i,s,c,h,m,b,I,S){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=b,this.onKill_=I,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new Eg(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=$o(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Vl("t",n),i=Vl("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Vl("t",n),i=Vl("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Vl("t",n);if("d"in n){const i=n.d;if("h"===e){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Kh("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kh("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),$o(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$o(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ya.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Sg{put(n,e,i,s){}merge(n,e,i,s){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Ng{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,V.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const s=this.getInitialEvent(n);s&&e.apply(i,s)}off(n,e,i){this.validateEventType_(n);const s=this.listeners_[n]||[];for(let c=0;c<s.length;c++)if(s[c].callback===e&&(!i||i===s[c].context))return void s.splice(c,1)}validateEventType_(n){(0,V.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class $l extends Ng{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $l}getInitialEvent(n){return(0,V.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const gf=32,Wl=768;class an{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function nn(){return new an("")}function Wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qa(t){return t.pieces_.length-t.pieceNum_}function dn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new an(t.pieces_,n)}function Ag(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ka(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function _f(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new an(n,0)}function An(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof an)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new an(e,0)}function Bt(t){return t.pieceNum_>=t.pieces_.length}function ur(t,n){const e=Wt(t),i=Wt(n);if(null===e)return n;if(e===i)return ur(dn(t),dn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function kv(t,n){const e=Ka(t,0),i=Ka(n,0);for(let s=0;s<e.length&&s<i.length;s++){const c=Ds(e[s],i[s]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function Rg(t,n){if(qa(t)!==qa(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function ho(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(qa(t)>qa(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class nD{constructor(n,e){this.errorPrefix_=e,this.parts_=Ka(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);da(this)}}function da(t){if(t.byteLength_>Wl)throw new Error(t.errorPrefix_+"has a key path longer than "+Wl+" bytes ("+t.byteLength_+").");if(t.parts_.length>gf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gf+") or object contains a cycle "+Wo(t))}function Wo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Og extends Ng{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Og}getInitialEvent(n){return(0,V.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const mf=1e3;let iu,zl=(()=>{class t extends Sg{constructor(e,i,s,c,h,m,b,I){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=b,this.authOverride_=I,this.id=t.nextPersistentConnectionId_++,this.log_=Kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Og.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&$l.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const c=++this.requestNumber_,h={r:c,a:e,b:i};this.log_((0,V.Wl)(h)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),s&&(this.requestCBHash_[c]=s)}get(e){this.initConnection_();const i=new V.BH,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const b=m.d;"ok"===m.s?i.resolve(b):i.reject(b)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,s,c){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:i,query:e,tag:s};this.listens.get(m).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+s+" for "+c);const h={p:s};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const I=b.d,S=b.s;t.warnOnListenWarnings_(I,i),(this.listens.get(s)&&this.listens.get(s).get(c))===e&&(this.log_("listen response",b),"ok"!==S&&this.removeListen_(s,c),e.onComplete&&e.onComplete(S,I))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const s=(0,V.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,V.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,c=>{const h=c.s,m=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,e._queryObject,i)}sendUnlisten_(e,i,s,c){this.log_("Unlisten on "+e+" for "+i);const h={p:e};c&&(h.q=s,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,c){const h={p:i,d:s};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,i,s,c){this.putInternal("p",e,i,s,c)}merge(e,i,s,c){this.putInternal("m",e,i,s,c)}putInternal(e,i,s,c,h){this.initConnection_();const m={p:i,d:s};void 0!==h&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Wl)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Kh("Unrecognized action received from server: "+(0,V.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,qn.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,m=e.lastSessionId;let b=!1,I=null;const S=function(){I?I.close():(b=!0,c())};e.realtime_={close:S,sendRequest:function(K){(0,V.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(K)}};const H=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,_e]=yield Promise.all([e.authTokenProvider_.getToken(H),e.appCheckTokenProvider_.getToken(H)]);b?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=_e&&_e.token,I=new Mv(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,c,Ae=>{ri(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(K){e.log_("Failed to get token: "+K),b||(e.repoInfo_.nodeAdmin&&ri(K),S())}}})()}interrupt(e){Si("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Si("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(h=>Jc(h)).join("$"):"default";const c=this.removeListen_(e,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const s=new an(e).toString();let c;if(this.listens.has(s)){const h=this.listens.get(s);c=h.get(i),h.delete(i),0===h.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(e,i){Si("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Si("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+qi.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$l.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class zt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new zt(n,e)}}class vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new zt(Go,n),s=new zt(Go,e);return 0!==this.compare(i,s)}minPost(){return zt.MIN}}class ws extends vf{static get __EMPTY_NODE(){return iu}static set __EMPTY_NODE(n){iu=n}compare(n,e){return Ds(n.name,e.name)}isDefinedOn(n){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return zt.MIN}maxPost(){return new zt(gi,iu)}makePost(n,e){return(0,V.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new zt(n,iu)}toString(){return".key"}}const Lr=new ws;class Cd{constructor(n,e,i,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,s&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let wd,fo=(()=>{class t{constructor(e,i,s,c,h){this.key=e,this.value=i,this.color=s??t.RED,this.left=c??Wr.EMPTY_NODE,this.right=h??Wr.EMPTY_NODE}copy(e,i,s,c,h){return new t(e??this.key,i??this.value,s??this.color,c??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let c=this;const h=s(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,i,s),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,c;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return Wr.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Wr{constructor(n,e=Wr.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Wr(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,fo.BLACK,null,null))}remove(n){return new Wr(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,fo.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Cd(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Cd(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Cd(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Cd(this.root_,null,this.comparator_,!0,n)}}function VI(t,n){return Ds(t.name,n.name)}function Vv(t,n){return Ds(t,n)}Wr.EMPTY_NODE=new class Lv{copy(n,e,i,s,c){return this}insert(n,e,i){return new fo(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sD=function(t){return"number"==typeof t?"number:"+Qh(t):"string:"+t},aD=function(t){if(t.isLeafNode()){const n=t.val();(0,V.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,V.r3)(n,".sv"),"Priority must be a string or number.")}else(0,V.hu)(t===wd||t.isEmpty(),"priority of unexpected type.");(0,V.hu)(t===wd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pg,Uv,Bv,ru=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),aD(this.priorityNode_)}static set __childrenNodeConstructor(e){Pg=e}static get __childrenNodeConstructor(){return Pg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bt(e)?this:".priority"===Wt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=Wt(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,V.hu)(".priority"!==s||1===qa(e),".priority must be the last token in a path"),this.updateImmediateChild(s,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sD(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Qh(this.value_):this.value_,this.lazyHash_=Zc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(s);return(0,V.hu)(c>=0,"Unknown leaf type: "+i),(0,V.hu)(h>=0,"Unknown leaf type: "+s),c===h?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const En=new class yf extends vf{compare(n,e){const i=n.node.getPriority(),s=e.node.getPriority(),c=i.compareTo(s);return 0===c?Ds(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(gi,new ru("[PRIORITY-POST]",Bv))}makePost(n,e){const i=Uv(n);return new zt(e,new ru("[PRIORITY-POST]",i))}toString(){return".priority"}},kg=Math.log(2);class cD{constructor(n){this.count=parseInt(Math.log(n+1)/kg,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&s}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Wn=function(t,n,e,i){t.sort(n);const s=function(b,I){const S=I-b;let L,H;if(0===S)return null;if(1===S)return L=t[b],H=e?e(L):L,new fo(H,L.node,fo.BLACK,null,null);{const K=parseInt(S/2,10)+b,_e=s(b,K),Ae=s(K+1,I);return L=t[K],H=e?e(L):L,new fo(H,L.node,fo.BLACK,_e,Ae)}},m=function(b){let I=null,S=null,L=t.length;const H=function(_e,Ae){const Ue=L-_e,at=L;L-=_e;const ot=s(Ue+1,at),Lt=t[Ue],pt=e?e(Lt):Lt;K(new fo(pt,Lt.node,Ae,null,ot))},K=function(_e){I?(I.left=_e,I=_e):(S=_e,I=_e)};for(let _e=0;_e<b.count;++_e){const Ae=b.nextBitIsOne(),Ue=Math.pow(2,b.count-(_e+1));Ae?H(Ue,fo.BLACK):(H(Ue,fo.BLACK),H(Ue,fo.RED))}return S}(new cD(t.length));return new Wr(i||n,m)};let xg;const ou={};class Is{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,V.hu)(ou&&En,"ChildrenNode.ts has not been loaded"),xg=xg||new Is({".priority":ou},{".priority":En}),xg}get(n){const e=(0,V.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Wr?e:null}hasIndex(n){return(0,V.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,V.hu)(n!==Lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const c=e.getIterator(zt.Wrap);let m,h=c.getNext();for(;h;)s=s||n.isDefinedOn(h.node),i.push(h),h=c.getNext();m=s?Wn(i,n.getCompare()):ou;const b=n.toString(),I=Object.assign({},this.indexSet_);I[b]=n;const S=Object.assign({},this.indexes_);return S[b]=m,new Is(S,I)}addToIndexes(n,e){const i=(0,V.UI)(this.indexes_,(s,c)=>{const h=(0,V.DV)(this.indexSet_,c);if((0,V.hu)(h,"Missing index implementation for "+c),s===ou){if(h.isDefinedOn(n.node)){const m=[],b=e.getIterator(zt.Wrap);let I=b.getNext();for(;I;)I.name!==n.name&&m.push(I),I=b.getNext();return m.push(n),Wn(m,h.getCompare())}return ou}{const m=e.get(n.name);let b=s;return m&&(b=b.remove(new zt(n.name,m))),b.insert(n,n.node)}});return new Is(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,V.UI)(this.indexes_,s=>{if(s===ou)return s;{const c=e.get(n.name);return c?s.remove(new zt(n.name,c)):s}});return new Is(i,this.indexSet_)}}let su,kt=(()=>{class t{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&aD(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return su||(su=new t(new Wr(Vv),null,Is.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||su}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?su:i}}getChild(e){const i=Wt(e);return null===i?this:this.getImmediateChild(i).getChild(dn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new zt(e,i);let c,h;i.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(s,this.children_));const m=c.isEmpty()?su:this.priorityNode_;return new t(c,m,h)}}updateChild(e,i){const s=Wt(e);if(null===s)return i;{(0,V.hu)(".priority"!==Wt(e)||1===qa(e),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(dn(e),i);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,c=0,h=!0;if(this.forEachChild(En,(m,b)=>{i[m]=b.val(e),s++,h&&t.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):h=!1}),!e&&h&&c<2*s){const m=[];for(const b in i)m[b]=i[b];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sD(this.getPriority().val())+":"),this.forEachChild(En,(i,s)=>{const c=s.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":Zc(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const c=this.resolveIndex_(s);if(c){const h=c.getPredecessorKey(new zt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new zt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new zt(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,zt.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,zt.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Id?-1:0}withIndex(e){if(e===Lr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Lr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(En),c=i.getIterator(En);let h=s.getNext(),m=c.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=s.getNext(),m=c.getNext()}return null===h&&null===m}return!1}return!1}}resolveIndex_(e){return e===Lr?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Id=new class uD extends kt{constructor(){super(new Wr(Vv),kt.EMPTY_NODE,Is.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return kt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(zt,{MIN:{value:new zt(Go,kt.EMPTY_NODE)},MAX:{value:new zt(gi,Id)}}),ws.__EMPTY_NODE=kt.EMPTY_NODE,ru.__childrenNodeConstructor=kt,function Mg(t){wd=t}(Id),function Hv(t){Bv=t}(Id);const dD=!0;function Vn(t,n=null){if(null===t)return kt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,V.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ru(t,Vn(n));if(t instanceof Array||!dD){let e=kt.EMPTY_NODE;return Kn(t,(i,s)=>{if((0,V.r3)(t,i)&&"."!==i.substring(0,1)){const c=Vn(s);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(Vn(n))}{const e=[];let i=!1;if(Kn(t,(h,m)=>{if("."!==h.substring(0,1)){const b=Vn(m);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new zt(h,b)))}}),0===e.length)return kt.EMPTY_NODE;const c=Wn(e,VI,h=>h.name,Vv);if(i){const h=Wn(e,En.getCompare());return new kt(c,Vn(n),new Is({".priority":h},{".priority":En}))}return new kt(c,Vn(n),Is.Default)}}!function lD(t){Uv=t}(Vn);class Gv extends vf{constructor(n){super(),this.indexPath_=n,(0,V.hu)(!Bt(n)&&".priority"!==Wt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),s=this.extractChild(e.node),c=i.compareTo(s);return 0===c?Ds(n.name,e.name):c}makePost(n,e){const i=Vn(n),s=kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new zt(e,s)}maxPost(){const n=kt.EMPTY_NODE.updateChild(this.indexPath_,Id);return new zt(gi,n)}toString(){return Ka(this.indexPath_,0).join("/")}}const Yl=new class UI extends vf{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Ds(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(n,e){const i=Vn(n);return new zt(e,i)}toString(){return".value"}};function bf(t){return{type:"value",snapshotNode:t}}function Zl(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function au(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function lu(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class Fg{constructor(n){this.index_=n}updateChild(n,e,i,s,c,h){(0,V.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(e);return m.getChild(s).equals(i.getChild(s))&&m.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(au(e,m)):(0,V.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Zl(e,i)):h.trackChildChange(lu(e,i,m))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(En,(s,c)=>{e.hasChild(s)||i.trackChildChange(au(s,c))}),e.isLeafNode()||e.forEachChild(En,(s,c)=>{if(n.hasChild(s)){const h=n.getImmediateChild(s);h.equals(c)||i.trackChildChange(lu(s,c,h))}else i.trackChildChange(Zl(s,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?kt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cu{constructor(n){this.indexedFilter_=new Fg(n.getIndex()),this.index_=n.getIndex(),this.startPost_=cu.getStartPost_(n),this.endPost_=cu.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,s,c,h){return this.matches(new zt(e,i))||(i=kt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,s,c,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=kt.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(kt.EMPTY_NODE);const c=this;return e.forEachChild(En,(h,m)=>{c.matches(new zt(h,m))||(s=s.updateImmediateChild(h,kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class jv{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new cu(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,s,c,h){return this.rangedFilter_.matches(new zt(e,i))||(i=kt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,s,c,h):this.fullLimitUpdateChild_(n,e,i,c,h)}updateFullNode(n,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;s=kt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;s=s.updateImmediateChild(m.name,m.node),h++}}}else{let c;s=e.withIndex(this.index_),s=s.updatePriority(kt.EMPTY_NODE),c=this.reverse_?s.getReverseIterator(this.index_):s.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:s=s.updateImmediateChild(m.name,kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,s,c){let h;if(this.reverse_){const L=this.index_.getCompare();h=(H,K)=>L(K,H)}else h=this.index_.getCompare();const m=n;(0,V.hu)(m.numChildren()===this.limit_,"");const b=new zt(e,i),I=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(b);if(m.hasChild(e)){const L=m.getImmediateChild(e);let H=s.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=H&&(H.name===e||m.hasChild(H.name));)H=s.getChildAfterChild(this.index_,H,this.reverse_);const K=null==H?1:h(H,b);if(S&&!i.isEmpty()&&K>=0)return c?.trackChildChange(lu(e,i,L)),m.updateImmediateChild(e,i);{c?.trackChildChange(au(e,L));const Ae=m.updateImmediateChild(e,kt.EMPTY_NODE);return null!=H&&this.rangedFilter_.matches(H)?(c?.trackChildChange(Zl(H.name,H.node)),Ae.updateImmediateChild(H.name,H.node)):Ae}}return i.isEmpty()?n:S&&h(I,b)>=0?(null!=c&&(c.trackChildChange(au(I.name,I.node)),c.trackChildChange(Zl(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(I.name,kt.EMPTY_NODE)):n}}class uu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Go}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const n=new uu;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Td(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ef(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Df(t,n){const e=t.copy();return e.index_=n,e}function Cf(t){const n={};if(t.isDefault())return n;let e;if(t.index_===En?e="$priority":t.index_===Yl?e="$value":t.index_===Lr?e="$key":((0,V.hu)(t.index_ instanceof Gv,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,V.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,V.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,V.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,V.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,V.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function Sd(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==En&&(n.i=t.index_.toString()),n}class wf extends Sg{constructor(n,e,i,s){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Kc("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,V.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,s){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const h=wf.getListenId_(n,i),m={};this.listens_[h]=m;const b=Cf(n._queryParams);this.restRequest_(c+".json",b,(I,S)=>{let L=S;if(404===I&&(L=null,I=null),null===I&&this.onDataUpdate_(c,L,!1,i),(0,V.DV)(this.listens_,h)===m){let H;H=I?401===I?"permission_denied":"rest_error:"+I:"ok",s(H,null)}})}unlisten(n,e){const i=wf.getListenId_(n,e);delete this.listens_[i]}get(n){const e=Cf(n._queryParams),i=n._path.toString(),s=new V.BH;return this.restRequest_(i+".json",e,(c,h)=>{let m=h;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(i,m,!1,null),s.resolve(m)):s.reject(new Error(m))}),s.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(e.auth=s.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let b=null;if(m.status>=200&&m.status<300){try{b=(0,V.cI)(m.responseText)}catch{ri("Failed to parse JSON response for "+h+": "+m.responseText)}i(null,b)}else 401!==m.status&&404!==m.status&&ri("Got unsuccessful REST response for "+h+" Status: "+m.status),i(m.status);i=null}},m.open("GET",h,!0),m.send()})}}class Vg{constructor(){this.rootNode_=kt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function Kl(){return{value:null,children:new Map}}function po(t,n,e){if(Bt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Wt(n);t.children.has(i)||t.children.set(i,Kl()),po(t.children.get(i),n=dn(n),e)}}function If(t,n){if(Bt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(En,(i,s)=>{po(t,new an(i),s)}),If(t,n)}}if(t.children.size>0){const e=Wt(n);return n=dn(n),t.children.has(e)&&If(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function Nd(t,n,e){null!==t.value?e(n,t.value):function fD(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,s)=>{Nd(s,new an(n.toString()+"/"+i),e)})}class pD{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Kn(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=n,e}}class _D{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new pD(n);const i=1e4+2e4*Math.random();$o(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Kn(n,(s,c)=>{c>0&&(0,V.r3)(this.statsToReport_,s)&&(e[s]=c,i=!0)}),i&&this.server_.reportStats(e),$o(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var go=(()=>{return(t=go||(go={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",go;var t})();function Tf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Sf{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=go.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Bt(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new an(n));return new Sf(nn(),e,this.revert)}}return(0,V.hu)(Wt(this.path)===n,"operationForChild called for unrelated child."),new Sf(dn(this.path),this.affectedTree,this.revert)}}class hu{constructor(n,e){this.source=n,this.path=e,this.type=go.LISTEN_COMPLETE}operationForChild(n){return Bt(this.path)?new hu(this.source,nn()):new hu(this.source,dn(this.path))}}class fu{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=go.OVERWRITE}operationForChild(n){return Bt(this.path)?new fu(this.source,nn(),this.snap.getImmediateChild(n)):new fu(this.source,dn(this.path),this.snap)}}class pu{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=go.MERGE}operationForChild(n){if(Bt(this.path)){const e=this.children.subtree(new an(n));return e.isEmpty()?null:e.value?new fu(this.source,nn(),e.value):new pu(this.source,nn(),e)}return(0,V.hu)(Wt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new pu(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _o{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Bt(n))return this.isFullyInitialized()&&!this.filtered_;const e=Wt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class mD{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function ha(t,n,e,i,s,c){const h=i.filter(m=>m.type===e);h.sort((m,b)=>function Wv(t,n,e){if(null==n.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new zt(n.childName,n.snapshotNode),s=new zt(e.childName,e.snapshotNode);return t.index_.compare(i,s)}(t,m,b)),h.forEach(m=>{const b=function vD(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,m,c);s.forEach(I=>{I.respondsTo(m.type)&&n.push(I.createEvent(b,t.query_))})})}function Nf(t,n){return{eventCache:t,serverCache:n}}function Rd(t,n,e,i){return Nf(new _o(n,e,i),t.serverCache)}function zv(t,n,e,i){return Nf(t.eventCache,new _o(n,e,i))}function Od(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ja(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Md;class Dn{constructor(n,e=(()=>(Md||(Md=new Wr(_g)),Md))()){this.value=n,this.children=e}static fromObject(n){let e=new Dn(null);return Kn(n,(i,s)=>{e=e.set(new an(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:nn(),value:this.value};if(Bt(n))return null;{const i=Wt(n),s=this.children.get(i);if(null!==s){const c=s.findRootMostMatchingPathAndValue(dn(n),e);return null!=c?{path:An(new an(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Bt(n))return this;{const e=Wt(n),i=this.children.get(e);return null!==i?i.subtree(dn(n)):new Dn(null)}}set(n,e){if(Bt(n))return new Dn(e,this.children);{const i=Wt(n),c=(this.children.get(i)||new Dn(null)).set(dn(n),e),h=this.children.insert(i,c);return new Dn(this.value,h)}}remove(n){if(Bt(n))return this.children.isEmpty()?new Dn(null):new Dn(null,this.children);{const e=Wt(n),i=this.children.get(e);if(i){const s=i.remove(dn(n));let c;return c=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&c.isEmpty()?new Dn(null):new Dn(this.value,c)}return this}}get(n){if(Bt(n))return this.value;{const e=Wt(n),i=this.children.get(e);return i?i.get(dn(n)):null}}setTree(n,e){if(Bt(n))return e;{const i=Wt(n),c=(this.children.get(i)||new Dn(null)).setTree(dn(n),e);let h;return h=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Dn(this.value,h)}}fold(n){return this.fold_(nn(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((s,c)=>{i[s]=c.fold_(An(n,s),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,nn(),e)}findOnPath_(n,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(Bt(n))return null;{const c=Wt(n),h=this.children.get(c);return h?h.findOnPath_(dn(n),An(e,c),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,nn(),e)}foreachOnPath_(n,e,i){if(Bt(n))return this;{this.value&&i(e,this.value);const s=Wt(n),c=this.children.get(s);return c?c.foreachOnPath_(dn(n),An(e,s),i):new Dn(null)}}foreach(n){this.foreach_(nn(),n)}foreach_(n,e){this.children.inorderTraversal((i,s)=>{s.foreach_(An(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class zr{constructor(n){this.writeTree_=n}static empty(){return new zr(new Dn(null))}}function fa(t,n,e){if(Bt(n))return new zr(new Dn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const s=i.path;let c=i.value;const h=ur(s,n);return c=c.updateChild(h,e),new zr(t.writeTree_.set(s,c))}{const s=new Dn(e),c=t.writeTree_.setTree(n,s);return new zr(c)}}}function Gg(t,n,e){let i=t;return Kn(e,(s,c)=>{i=fa(i,An(n,s),c)}),i}function Yv(t,n){if(Bt(n))return zr.empty();{const e=t.writeTree_.setTree(n,new Dn(null));return new zr(e)}}function jg(t,n){return null!=Jl(t,n)}function Jl(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(ur(e.path,n)):null}function Zv(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(En,(i,s)=>{n.push(new zt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&n.push(new zt(i,s.value))}),n}function Qa(t,n){if(Bt(n))return t;{const e=Jl(t,n);return new zr(null!=e?new Dn(e):t.writeTree_.subtree(n))}}function $g(t){return t.writeTree_.isEmpty()}function zo(t,n){return Ts(nn(),t.writeTree_,n)}function Ts(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((s,c)=>{".priority"===s?((0,V.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=Ts(An(t,s),c,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(An(t,".priority"),i)),e}}function Af(t,n){return Ot(n,t)}function $I(t,n){if(t.snap)return ho(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ho(An(t.path,e),n))return!0;return!1}function Jv(t){return t.visible}function Qv(t,n,e){let i=zr.empty();for(let s=0;s<t.length;++s){const c=t[s];if(n(c)){const h=c.path;let m;if(c.snap)ho(e,h)?(m=ur(e,h),i=fa(i,m,c.snap)):ho(h,e)&&(m=ur(h,e),i=fa(i,nn(),c.snap.getChild(m)));else{if(!c.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(ho(e,h))m=ur(e,h),i=Gg(i,m,c.children);else if(ho(h,e))if(m=ur(h,e),Bt(m))i=Gg(i,nn(),c.children);else{const b=(0,V.DV)(c.children,Wt(m));if(b){const I=b.getChild(dn(m));i=fa(i,nn(),I)}}}}}return i}function Wg(t,n,e,i,s){if(i||s){const c=Qa(t.visibleWrites,n);return!s&&$g(c)?e:s||null!=e||jg(c,nn())?zo(Qv(t.allWrites,function(I){return(I.visible||s)&&(!i||!~i.indexOf(I.writeId))&&(ho(I.path,n)||ho(n,I.path))},n),e||kt.EMPTY_NODE):null}{const c=Jl(t.visibleWrites,n);if(null!=c)return c;{const h=Qa(t.visibleWrites,n);return $g(h)?e:null!=e||jg(h,nn())?zo(h,e||kt.EMPTY_NODE):null}}}function Rf(t,n,e,i){return Wg(t.writeTree,t.treePath,n,e,i)}function zg(t,n){return function bD(t,n,e){let i=kt.EMPTY_NODE;const s=Jl(t.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(En,(c,h)=>{i=i.updateImmediateChild(c,h)}),i;if(e){const c=Qa(t.visibleWrites,n);return e.forEachChild(En,(h,m)=>{const b=zo(Qa(c,new an(h)),m);i=i.updateImmediateChild(h,b)}),Zv(c).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return Zv(Qa(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function ey(t,n,e,i){return function ED(t,n,e,i,s){(0,V.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const c=An(n,e);if(jg(t.visibleWrites,c))return null;{const h=Qa(t.visibleWrites,c);return $g(h)?s.getChild(e):zo(h,s.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function Pd(t,n){return function DD(t,n){return Jl(t.visibleWrites,n)}(t.writeTree,An(t.treePath,n))}function Yg(t,n,e){return function Yo(t,n,e,i){const s=An(n,e),c=Jl(t.visibleWrites,s);return null!=c?c:i.isCompleteForChild(e)?zo(Qa(t.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function ty(t,n){return Ot(An(t.treePath,n),t.writeTree)}function Ot(t,n){return{treePath:t,writeTree:n}}class ny{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const c=s.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,lu(i,n.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,au(i,s.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,Zl(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,V.g5)("Illegal combination of changes: "+n+" occurred after "+s);this.changeMap.set(i,lu(i,n.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const Zg=new class iy{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class qg{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new _o(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yg(this.writes_,n,i)}}getChildAfterChild(n,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ja(this.viewCache_),c=function wD(t,n,e,i,s,c){return function Xv(t,n,e,i,s,c,h){let m;const b=Qa(t.visibleWrites,n),I=Jl(b,nn());if(null!=I)m=I;else{if(null==e)return[];m=zo(b,e)}if(m=m.withIndex(h),m.isEmpty()||m.isLeafNode())return[];{const S=[],L=h.getCompare(),H=c?m.getReverseIteratorFrom(i,h):m.getIteratorFrom(i,h);let K=H.getNext();for(;K&&S.length<s;)0!==L(K,i)&&S.push(K),K=H.getNext();return S}}(t.writeTree,t.treePath,n,e,i,s,c)}(this.writes_,s,e,1,i,n);return 0===c.length?null:c[0]}}function sy(t,n,e,i,s,c){const h=n.eventCache;if(null!=Pd(i,e))return n;{let m,b;if(Bt(e))if((0,V.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=Ja(n),L=zg(i,I instanceof kt?I:kt.EMPTY_NODE);m=t.filter.updateFullNode(n.eventCache.getNode(),L,c)}else{const I=Rf(i,Ja(n));m=t.filter.updateFullNode(n.eventCache.getNode(),I,c)}else{const I=Wt(e);if(".priority"===I){(0,V.hu)(1===qa(e),"Can't have a priority with additional path components");const S=h.getNode();b=n.serverCache.getNode();const L=ey(i,e,S,b);m=null!=L?t.filter.updatePriority(S,L):h.getNode()}else{const S=dn(e);let L;if(h.isCompleteForChild(I)){b=n.serverCache.getNode();const H=ey(i,e,h.getNode(),b);L=null!=H?h.getNode().getImmediateChild(I).updateChild(S,H):h.getNode().getImmediateChild(I)}else L=Yg(i,I,n.serverCache);m=null!=L?t.filter.updateChild(h.getNode(),I,L,S,s,c):h.getNode()}}return Rd(n,m,h.isFullyInitialized()||Bt(e),t.filter.filtersNodes())}}function Of(t,n,e,i,s,c,h,m){const b=n.serverCache;let I;const S=h?t.filter:t.filter.getIndexedFilter();if(Bt(e))I=S.updateFullNode(b.getNode(),i,null);else if(S.filtersNodes()&&!b.isFiltered()){const K=b.getNode().updateChild(e,i);I=S.updateFullNode(b.getNode(),K,null)}else{const K=Wt(e);if(!b.isCompleteForPath(e)&&qa(e)>1)return n;const _e=dn(e),Ue=b.getNode().getImmediateChild(K).updateChild(_e,i);I=".priority"===K?S.updatePriority(b.getNode(),Ue):S.updateChild(b.getNode(),K,Ue,_e,Zg,null)}const L=zv(n,I,b.isFullyInitialized()||Bt(e),S.filtersNodes());return sy(t,L,e,s,new qg(s,L,c),m)}function ay(t,n,e,i,s,c,h){const m=n.eventCache;let b,I;const S=new qg(s,n,c);if(Bt(e))I=t.filter.updateFullNode(n.eventCache.getNode(),i,h),b=Rd(n,I,!0,t.filter.filtersNodes());else{const L=Wt(e);if(".priority"===L)I=t.filter.updatePriority(n.eventCache.getNode(),i),b=Rd(n,I,m.isFullyInitialized(),m.isFiltered());else{const H=dn(e),K=m.getNode().getImmediateChild(L);let _e;if(Bt(H))_e=i;else{const Ae=S.getCompleteChild(L);_e=null!=Ae?".priority"===Ag(H)&&Ae.getChild(_f(H)).isEmpty()?Ae:Ae.updateChild(H,i):kt.EMPTY_NODE}b=K.equals(_e)?n:Rd(n,t.filter.updateChild(m.getNode(),L,_e,H,S,h),m.isFullyInitialized(),t.filter.filtersNodes())}}return b}function Kg(t,n){return t.eventCache.isCompleteForChild(n)}function Xa(t,n,e){return e.foreach((i,s)=>{n=n.updateChild(i,s)}),n}function Jg(t,n,e,i,s,c,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let I,b=n;I=Bt(e)?i:new Dn(null).setTree(e,i);const S=n.serverCache.getNode();return I.children.inorderTraversal((L,H)=>{if(S.hasChild(L)){const _e=Xa(0,n.serverCache.getNode().getImmediateChild(L),H);b=Of(t,b,new an(L),_e,s,c,h,m)}}),I.children.inorderTraversal((L,H)=>{const K=!n.serverCache.isCompleteForChild(L)&&null===H.value;if(!S.hasChild(L)&&!K){const Ae=Xa(0,n.serverCache.getNode().getImmediateChild(L),H);b=Of(t,b,new an(L),Ae,s,c,h,m)}}),b}class WI{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Fg(i.getIndex()),c=function HI(t){return t.loadsAllData()?new Fg(t.getIndex()):t.hasLimit()?new jv(t):new cu(t)}(i);this.processor_=function ID(t){return{filter:t}}(c);const h=e.serverCache,m=e.eventCache,b=s.updateFullNode(kt.EMPTY_NODE,h.getNode(),null),I=c.updateFullNode(kt.EMPTY_NODE,m.getNode(),null),S=new _o(b,h.isFullyInitialized(),s.filtersNodes()),L=new _o(I,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=Nf(L,S),this.eventGenerator_=new mD(this.query_)}get query(){return this.query_}}function ND(t,n){const e=Ja(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Bt(n)&&!e.getImmediateChild(Wt(n)).isEmpty())?e.getChild(n):null}function e_(t){return 0===t.eventRegistrations_.length}function cy(t,n,e){const i=[];if(e){(0,V.hu)(null==n,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,s);h&&i.push(h)})}if(n){let s=[];for(let c=0;c<t.eventRegistrations_.length;++c){const h=t.eventRegistrations_[c];if(h.matches(n)){if(n.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(c+1));break}}else s.push(h)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Ql(t,n,e,i){n.type===go.MERGE&&null!==n.source.queryId&&((0,V.hu)(Ja(t.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(Od(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,c=function TD(t,n,e,i,s){const c=new ny;let h,m;if(e.type===go.OVERWRITE){const I=e;I.source.fromUser?h=ay(t,n,I.path,I.snap,i,s,c):((0,V.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||n.serverCache.isFiltered()&&!Bt(I.path),h=Of(t,n,I.path,I.snap,i,s,m,c))}else if(e.type===go.MERGE){const I=e;I.source.fromUser?h=function ly(t,n,e,i,s,c,h){let m=n;return i.foreach((b,I)=>{const S=An(e,b);Kg(n,Wt(S))&&(m=ay(t,m,S,I,s,c,h))}),i.foreach((b,I)=>{const S=An(e,b);Kg(n,Wt(S))||(m=ay(t,m,S,I,s,c,h))}),m}(t,n,I.path,I.children,i,s,c):((0,V.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||n.serverCache.isFiltered(),h=Jg(t,n,I.path,I.children,i,s,m,c))}else if(e.type===go.ACK_USER_WRITE){const I=e;h=I.revert?function SD(t,n,e,i,s,c){let h;if(null!=Pd(i,e))return n;{const m=new qg(i,n,s),b=n.eventCache.getNode();let I;if(Bt(e)||".priority"===Wt(e)){let S;if(n.serverCache.isFullyInitialized())S=Rf(i,Ja(n));else{const L=n.serverCache.getNode();(0,V.hu)(L instanceof kt,"serverChildren would be complete if leaf node"),S=zg(i,L)}I=t.filter.updateFullNode(b,S,c)}else{const S=Wt(e);let L=Yg(i,S,n.serverCache);null==L&&n.serverCache.isCompleteForChild(S)&&(L=b.getImmediateChild(S)),I=null!=L?t.filter.updateChild(b,S,L,dn(e),m,c):n.eventCache.getNode().hasChild(S)?t.filter.updateChild(b,S,kt.EMPTY_NODE,dn(e),m,c):b,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Rf(i,Ja(n)),h.isLeafNode()&&(I=t.filter.updateFullNode(I,h,c)))}return h=n.serverCache.isFullyInitialized()||null!=Pd(i,nn()),Rd(n,I,h,t.filter.filtersNodes())}}(t,n,I.path,i,s,c):function Qg(t,n,e,i,s,c,h){if(null!=Pd(s,e))return n;const m=n.serverCache.isFiltered(),b=n.serverCache;if(null!=i.value){if(Bt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Of(t,n,e,b.getNode().getChild(e),s,c,m,h);if(Bt(e)){let I=new Dn(null);return b.getNode().forEachChild(Lr,(S,L)=>{I=I.set(new an(S),L)}),Jg(t,n,e,I,s,c,m,h)}return n}{let I=new Dn(null);return i.foreach((S,L)=>{const H=An(e,S);b.isCompleteForPath(H)&&(I=I.set(S,b.getNode().getChild(H)))}),Jg(t,n,e,I,s,c,m,h)}}(t,n,I.path,I.affectedTree,i,s,c)}else{if(e.type!==go.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);h=function Xg(t,n,e,i,s){const c=n.serverCache;return sy(t,zv(n,c.getNode(),c.isFullyInitialized()||Bt(e),c.isFiltered()),e,i,Zg,s)}(t,n,e.path,i,c)}const b=c.getChanges();return function oy(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Od(t);(e.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(bf(Od(n)))}}(n,h,b),{viewCache:h,changes:b}}(t.processor_,s,n,e,i);return function ry(t,n){(0,V.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,V.hu)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,t_(t,c.changes,c.viewCache.eventCache.getNode(),null)}function t_(t,n,e,i){return function gu(t,n,e,i){const s=[],c=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function BI(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),ha(t,s,"child_removed",n,i,e),ha(t,s,"child_added",n,i,e),ha(t,s,"child_moved",c,i,e),ha(t,s,"child_changed",n,i,e),ha(t,s,"value",n,i,e),s}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let Xl,Pf;class uy{constructor(){this.views=new Map}}function n_(t,n,e,i){const s=n.source.queryId;if(null!==s){const c=t.views.get(s);return(0,V.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Ql(c,n,e,i)}{let c=[];for(const h of t.views.values())c=c.concat(Ql(h,n,e,i));return c}}function hy(t,n,e,i,s){const h=t.views.get(n._queryIdentifier);if(!h){let m=Rf(e,s?i:null),b=!1;m?b=!0:i instanceof kt?(m=zg(e,i),b=!1):(m=kt.EMPTY_NODE,b=!1);const I=Nf(new _o(m,b,!1),new _o(i,s,!1));return new WI(n,I)}return h}function py(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function pa(t,n){let e=null;for(const i of t.views.values())e=e||ND(i,n);return e}function i_(t,n){return n._queryParams.loadsAllData()?_u(t):t.views.get(n._queryIdentifier)}function Mf(t,n){return null!=i_(t,n)}function ec(t){return null!=_u(t)}function _u(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let gy=1;class _y{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Dn(null),this.pendingWriteTree_=function CD(){return{visibleWrites:zr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kf(t,n,e,i,s){return function yD(t,n,e,i,s){(0,V.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:s}),s&&(t.visibleWrites=fa(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,s),s?tc(t,new fu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function el(t,n,e=!1){const i=function jI(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function qv(t,n){const e=t.allWrites.findIndex(m=>m.writeId===n);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let s=i.visible,c=!1,h=t.allWrites.length-1;for(;s&&h>=0;){const m=t.allWrites[h];m.visible&&(h>=e&&$I(m,i.path)?s=!1:ho(i.path,m.path)&&(c=!0)),h--}return!!s&&(c?(function Kv(t){t.visibleWrites=Qv(t.allWrites,Jv,nn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Yv(t.visibleWrites,i.path):Kn(i.children,b=>{t.visibleWrites=Yv(t.visibleWrites,An(i.path,b))}),!0))}(t.pendingWriteTree_,n)){let c=new Dn(null);return null!=i.snap?c=c.set(nn(),!0):Kn(i.children,h=>{c=c.set(new an(h),!0)}),tc(t,new Sf(i.path,c,e))}return[]}function tl(t,n,e){return tc(t,new fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function yu(t,n,e,i,s=!1){const c=n._path,h=t.syncPointTree_.get(c);let m=[];if(h&&("default"===n._queryIdentifier||Mf(h,n))){const b=function fy(t,n,e,i){const s=n._queryIdentifier,c=[];let h=[];const m=ec(t);if("default"===s)for(const[b,I]of t.views.entries())h=h.concat(cy(I,e,i)),e_(I)&&(t.views.delete(b),I.query._queryParams.loadsAllData()||c.push(I.query));else{const b=t.views.get(s);b&&(h=h.concat(cy(b,e,i)),e_(b)&&(t.views.delete(s),b.query._queryParams.loadsAllData()||c.push(b.query)))}return m&&!ec(t)&&c.push(new(function RD(){return(0,V.hu)(Xl,"Reference.ts has not been loaded"),Xl}())(n._repo,n._path)),{removed:c,events:h}}(h,n,e,i);(function OD(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const I=b.removed;if(m=b.events,!s){const S=-1!==I.findIndex(H=>H._queryParams.loadsAllData()),L=t.syncPointTree_.findOnPath(c,(H,K)=>ec(K));if(S&&!L){const H=t.syncPointTree_.subtree(c);if(!H.isEmpty()){const K=function kD(t){return t.fold((n,e,i)=>{if(e&&ec(e))return[_u(e)];{let s=[];return e&&(s=py(e)),Kn(i,(c,h)=>{s=s.concat(h)}),s}})}(H);for(let _e=0;_e<K.length;++_e){const Ae=K[_e],Ue=Ae.query,at=yy(t,Ae);t.listenProvider_.startListening(Ji(Ue),Eu(t,Ue),at.hashFn,at.onComplete)}}}!L&&I.length>0&&!i&&(S?t.listenProvider_.stopListening(Ji(n),null):I.forEach(H=>{const K=t.queryToTagMap.get(Ff(H));t.listenProvider_.stopListening(Ji(H),K)}))}!function by(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const s=Ff(i),c=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(c)}}}(t,I)}return m}function xd(t,n,e,i){const s=Lf(t,i);if(null!=s){const c=Vf(s),h=c.path,m=c.queryId,b=ur(h,n);return s_(t,h,new fu(Tf(m),b,e))}return[]}function Fd(t,n,e,i=!1){const s=n._path;let c=null,h=!1;t.syncPointTree_.foreachOnPath(s,(H,K)=>{const _e=ur(H,s);c=c||pa(K,_e),h=h||ec(K)});let b,m=t.syncPointTree_.get(s);m?(h=h||ec(m),c=c||pa(m,nn())):(m=new uy,t.syncPointTree_=t.syncPointTree_.set(s,m)),null!=c?b=!0:(b=!1,c=kt.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((K,_e)=>{const Ae=pa(_e,nn());Ae&&(c=c.updateImmediateChild(K,Ae))}));const I=Mf(m,n);if(!I&&!n._queryParams.loadsAllData()){const H=Ff(n);(0,V.hu)(!t.queryToTagMap.has(H),"View does not exist, but we have a tag");const K=function xD(){return gy++}();t.queryToTagMap.set(H,K),t.tagToQueryMap.set(K,H)}let L=function MD(t,n,e,i,s,c){const h=hy(t,n,i,s,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function ZI(t,n){t.eventRegistrations_.push(n)}(h,e),function AD(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(En,(c,h)=>{i.push(Zl(c,h))}),e.isFullyInitialized()&&i.push(bf(e.getNode())),t_(t,i,e.getNode(),n)}(h,e)}(m,n,e,Af(t.pendingWriteTree_,s),c,b);if(!I&&!h&&!i){const H=i_(m,n);L=L.concat(function KI(t,n,e){const i=n._path,s=Eu(t,n),c=yy(t,e),h=t.listenProvider_.startListening(Ji(n),s,c.hashFn,c.onComplete),m=t.syncPointTree_.subtree(i);if(s)(0,V.hu)(!ec(m.value),"If we're adding a query, it shouldn't be shadowed");else{const b=m.fold((I,S,L)=>{if(!Bt(I)&&S&&ec(S))return[_u(S).query];{let H=[];return S&&(H=H.concat(py(S).map(K=>K.query))),Kn(L,(K,_e)=>{H=H.concat(_e)}),H}});for(let I=0;I<b.length;++I){const S=b[I];t.listenProvider_.stopListening(Ji(S),Eu(t,S))}}return h}(t,n,H))}return L}function bu(t,n,e){const s=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(h,m)=>{const I=pa(m,ur(h,n));if(I)return I});return Wg(s,n,c,e,!0)}function tc(t,n){return xf(n,t.syncPointTree_,null,Af(t.pendingWriteTree_,nn()))}function xf(t,n,e,i){if(Bt(t.path))return vy(t,n,e,i);{const s=n.get(nn());null==e&&null!=s&&(e=pa(s,nn()));let c=[];const h=Wt(t.path),m=t.operationForChild(h),b=n.children.get(h);if(b&&m){const I=e?e.getImmediateChild(h):null,S=ty(i,h);c=c.concat(xf(m,b,I,S))}return s&&(c=c.concat(n_(s,t,i,e))),c}}function vy(t,n,e,i){const s=n.get(nn());null==e&&null!=s&&(e=pa(s,nn()));let c=[];return n.children.inorderTraversal((h,m)=>{const b=e?e.getImmediateChild(h):null,I=ty(i,h),S=t.operationForChild(h);S&&(c=c.concat(vy(S,m,b,I)))}),s&&(c=c.concat(n_(s,t,i,e))),c}function yy(t,n){const e=n.query,i=Eu(t,e);return{hashFn:()=>(function zI(t){return t.viewCache_.serverCache.getNode()}(n)||kt.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function kd(t,n,e){const i=Lf(t,e);if(i){const s=Vf(i),c=s.path,h=s.queryId,m=ur(c,n);return s_(t,c,new hu(Tf(h),m))}return[]}(t,e._path,i):function r_(t,n){return tc(t,new hu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function ef(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(s,e);return yu(t,e,null,c)}}}}function Eu(t,n){const e=Ff(n);return t.queryToTagMap.get(e)}function Ff(t){return t._path.toString()+"$"+t._queryIdentifier}function Lf(t,n){return t.tagToQueryMap.get(n)}function Vf(t){const n=t.indexOf("$");return(0,V.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new an(t.substr(0,n))}}function s_(t,n,e){const i=t.syncPointTree_.get(n);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),n_(i,e,Af(t.pendingWriteTree_,n),null)}function Ji(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function mu(){return(0,V.hu)(Pf,"Reference.ts has not been loaded"),Pf}())(t._repo,t._path):t}class Ld{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new Ld(e)}node(){return this.node_}}class Uf{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=An(this.path_,n);return new Uf(this.syncTree_,e)}node(){return bu(this.syncTree_,this.path_)}}const FD=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Ey=function(t,n,e){return t&&"object"==typeof t?((0,V.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?LD(t[".sv"],n,e):"object"==typeof t[".sv"]?Dy(t[".sv"],n):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},LD=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+t)},Dy=function(t,n,e){t.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const s=n.node();if((0,V.hu)(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const h=s.getValue();return"number"!=typeof h?i:h+i},Cy=function(t,n,e,i){return Vd(n,new Uf(e,t),i)},a_=function(t,n,e){return Vd(t,new Ld(n),e)};function Vd(t,n,e){const i=t.getPriority().val(),s=Ey(i,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const h=t,m=Ey(h.getValue(),n,e);return m!==h.getValue()||s!==h.getPriority().val()?new ru(m,Vn(s)):t}{const h=t;return c=h,s!==h.getPriority().val()&&(c=c.updatePriority(new ru(s))),h.forEachChild(En,(m,b)=>{const I=Vd(b,n.getImmediateChild(m),e);I!==b&&(c=c.updateImmediateChild(m,I))}),c}}class l_{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function Bf(t,n){let e=n instanceof an?n:new an(n),i=t,s=Wt(e);for(;null!==s;){const c=(0,V.DV)(i.node.children,s)||{children:{},childCount:0};i=new l_(s,i,c),e=dn(e),s=Wt(e)}return i}function nc(t){return t.node.value}function c_(t,n){t.node.value=n,u_(t)}function wy(t){return t.node.childCount>0}function Du(t,n){Kn(t.node.children,(e,i)=>{n(new l_(e,t,i))})}function Iy(t,n,e,i){e&&!i&&n(t),Du(t,s=>{Iy(s,n,!0,i)}),e&&i&&n(t)}function Cu(t){return new an(null===t.parent?t.name:Cu(t.parent)+"/"+t.name)}function u_(t){null!==t.parent&&function UD(t,n,e){const i=function Ss(t){return void 0===nc(t)&&!wy(t)}(e),s=(0,V.r3)(t.node.children,n);i&&s?(delete t.node.children[n],t.node.childCount--,u_(t)):!i&&!s&&(t.node.children[n]=e.node,t.node.childCount++,u_(t))}(t.parent,t.name,t)}const BD=/[\[\].#$\/\u0000-\u001F\u007F]/,d_=/[\[\].#$\u0000-\u001F\u007F]/,h_=10485760,Hf=function(t){return"string"==typeof t&&0!==t.length&&!BD.test(t)},Ud=function(t){return"string"==typeof t&&0!==t.length&&!d_.test(t)},nl=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ll(t)||t&&"object"==typeof t&&(0,V.r3)(t,".sv")},ga=function(t,n,e,i){i&&void 0===n||ic((0,V.gK)(t,"value"),n,e)},ic=function(t,n,e){const i=e instanceof an?new nD(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Wo(i));if("function"==typeof n)throw new Error(t+"contains a function "+Wo(i)+" with contents = "+n.toString());if(Ll(n))throw new Error(t+"contains "+n.toString()+" "+Wo(i));if("string"==typeof n&&n.length>h_/3&&(0,V.ug)(n)>h_)throw new Error(t+"contains a string greater than "+h_+" utf8 bytes "+Wo(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let s=!1,c=!1;if(Kn(n,(h,m)=>{if(".value"===h)s=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!Hf(h)))throw new Error(t+" contains an invalid key ("+h+") "+Wo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function iD(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,V.ug)(n),da(t)})(i,h),ic(t,m,i),function rD(t){const n=t.parts_.pop();t.byteLength_-=(0,V.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),s&&c)throw new Error(t+' contains ".value" child '+Wo(i)+" in addition to actual children.")}},p_=function(t,n,e,i){if(i&&void 0===n)return;const s=(0,V.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");const c=[];Kn(n,(h,m)=>{const b=new an(h);if(ic(s,m,An(e,b)),".priority"===Ag(b)&&!nl(m))throw new Error(s+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const c=Ka(i);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!Hf(c[h]))throw new Error(t+"contains an invalid key ("+c[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(kv);let s=null;for(e=0;e<n.length;e++){if(i=n[e],null!==s&&ho(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,c)},Gf=function(t,n,e){if(!e||void 0!==n){if(Ll(n))throw new Error((0,V.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nl(n))throw new Error((0,V.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wu=function(t,n,e,i){if(!(i&&void 0===e||Hf(e)))throw new Error((0,V.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Iu=function(t,n,e,i){if(!(i&&void 0===e||Ud(e)))throw new Error((0,V.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},g_=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Iu(t,n,e,i)},_i=function(t,n){if(".info"===Wt(n))throw new Error(t+" failed = Can't modify data under /.info/")},Bd=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Hf(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ud(t)}(e))throw new Error((0,V.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function il(t,n){let e=null;for(let i=0;i<n.length;i++){const s=n[i],c=s.getPath();null!==e&&!Rg(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(s)}e&&t.eventLists_.push(e)}function Ty(t,n,e){il(t,e),__(t,i=>Rg(i,n))}function Vr(t,n,e){il(t,e),__(t,i=>ho(i,n)||ho(n,i))}function __(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];s&&(n(s.path)?(HD(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function HD(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();Ho&&Si("event: "+e.toString()),jo(i)}}}const Sy="repo_interrupt",Hd=25;class GD{constructor(n,e,i,s){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kl(),this.transactionQueueTree_=new l_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ny(t){const e=t.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gd(t){return FD({timestamp:Ny(t)})}function Ay(t,n,e,i,s){t.dataUpdateCount++;const c=new an(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(s)if(i){const b=(0,V.UI)(e,I=>Vn(I));h=function my(t,n,e,i){const s=Lf(t,i);if(s){const c=Vf(s),h=c.path,m=c.queryId,b=ur(h,n),I=Dn.fromObject(e);return s_(t,h,new pu(Tf(m),b,I))}return[]}(t.serverSyncTree_,c,b,s)}else{const b=Vn(e);h=xd(t.serverSyncTree_,c,b,s)}else if(i){const b=(0,V.UI)(e,I=>Vn(I));h=function vu(t,n,e){const i=Dn.fromObject(e);return tc(t,new pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,c,b)}else{const b=Vn(e);h=tl(t.serverSyncTree_,c,b)}let m=c;h.length>0&&(m=Tu(t,c)),Vr(t.eventQueue_,m,h)}function Ry(t,n){m_(t,"connected",n),!1===n&&function v_(t){rc(t,"onDisconnectEvents");const n=Gd(t),e=Kl();Nd(t.onDisconnect_,nn(),(s,c)=>{const h=Cy(s,c,t.serverSyncTree_,n);po(e,s,h)});let i=[];Nd(e,nn(),(s,c)=>{i=i.concat(tl(t.serverSyncTree_,s,c));const h=Hi(t,s);Tu(t,h)}),t.onDisconnect_=Kl(),Vr(t.eventQueue_,nn(),i)}(t)}function m_(t,n,e){const i=new an("/.info/"+n),s=Vn(e);t.infoData_.updateSnapshot(i,s);const c=tl(t.infoSyncTree_,i,s);Vr(t.eventQueue_,i,c)}function $f(t){return t.nextWriteId_++}function jd(t,n,e,i,s){rc(t,"set",{path:n.toString(),value:e,priority:i});const c=Gd(t),h=Vn(e,i),m=bu(t.serverSyncTree_,n),b=a_(h,m,c),I=$f(t),S=kf(t.serverSyncTree_,n,b,I,!0);il(t.eventQueue_,S),t.server_.put(n.toString(),h.val(!0),(H,K)=>{const _e="ok"===H;_e||ri("set at "+n+" failed: "+H);const Ae=el(t.serverSyncTree_,I,!_e);Vr(t.eventQueue_,n,Ae),rl(0,s,H,K)});const L=Hi(t,n);Tu(t,L),Vr(t.eventQueue_,L,[])}function WD(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,s)=>{"ok"===i&&If(t.onDisconnect_,n),rl(0,e,i,s)})}function My(t,n,e,i){const s=Vn(e);t.server_.onDisconnectPut(n.toString(),s.val(!0),(c,h)=>{"ok"===c&&po(t.onDisconnect_,n,s),rl(0,i,c,h)})}function y_(t,n,e){let i;i=".info"===Wt(n._path)?yu(t.infoSyncTree_,n,e):yu(t.serverSyncTree_,n,e),Ty(t.eventQueue_,n._path,i)}function Py(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Sy)}function rc(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Si(e,...n)}function rl(t,n,e,i){n&&jo(()=>{if("ok"===e)n(null);else{const s=(e||"error").toUpperCase();let c=s;i&&(c+=": "+i);const h=new Error(c);h.code=s,n(h)}})}function Wf(t,n,e){return bu(t.serverSyncTree_,n,e)||kt.EMPTY_NODE}function b_(t,n=t.transactionQueueTree_){if(n||ol(t,n),nc(n)){const e=xy(t,n);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function zf(t,n,e){const i=e.map(I=>I.currentWriteId),s=Wf(t,n,i);let c=s;const h=s.hash();for(let I=0;I<e.length;I++){const S=e[I];(0,V.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const L=ur(n,S.path);c=c.updateChild(L,S.currentOutputSnapshotRaw)}const m=c.val(!0),b=n;t.server_.put(b.toString(),m,I=>{rc(t,"transaction put response",{path:b.toString(),status:I});let S=[];if("ok"===I){const L=[];for(let H=0;H<e.length;H++)e[H].status=2,S=S.concat(el(t.serverSyncTree_,e[H].currentWriteId)),e[H].onComplete&&L.push(()=>e[H].onComplete(null,!0,e[H].currentOutputSnapshotResolved)),e[H].unwatcher();ol(t,Bf(t.transactionQueueTree_,n)),b_(t,t.transactionQueueTree_),Vr(t.eventQueue_,n,S);for(let H=0;H<L.length;H++)jo(L[H])}else{if("datastale"===I)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{ri("transaction at "+b.toString()+" failed: "+I);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=I}Tu(t,n)}},h)}(t,Cu(n),e)}else wy(n)&&Du(n,e=>{b_(t,e)})}function Tu(t,n){const e=Yf(t,n),i=Cu(e);return function qD(t,n,e){if(0===n.length)return;const i=[];let s=[];const h=n.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const b=n[m],I=ur(e,b.path);let L,S=!1;if((0,V.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)S=!0,L=b.abortReason,s=s.concat(el(t.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=Hd)S=!0,L="maxretry",s=s.concat(el(t.serverSyncTree_,b.currentWriteId,!0));else{const H=Wf(t,b.path,h);b.currentInputSnapshot=H;const K=n[m].update(H.val());if(void 0!==K){ic("transaction failed: Data returned ",K,b.path);let _e=Vn(K);"object"==typeof K&&null!=K&&(0,V.r3)(K,".priority")||(_e=_e.updatePriority(H.getPriority()));const Ue=b.currentWriteId,at=Gd(t),ot=a_(_e,H,at);b.currentOutputSnapshotRaw=_e,b.currentOutputSnapshotResolved=ot,b.currentWriteId=$f(t),h.splice(h.indexOf(Ue),1),s=s.concat(kf(t.serverSyncTree_,b.path,ot,b.currentWriteId,b.applyLocally)),s=s.concat(el(t.serverSyncTree_,Ue,!0))}else S=!0,L="nodata",s=s.concat(el(t.serverSyncTree_,b.currentWriteId,!0))}Vr(t.eventQueue_,e,s),s=[],S&&(n[m].status=2,setTimeout(n[m].unwatcher,Math.floor(0)),n[m].onComplete&&i.push("nodata"===L?()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot):()=>n[m].onComplete(new Error(L),!1,null)))}ol(t,t.transactionQueueTree_);for(let m=0;m<i.length;m++)jo(i[m]);b_(t,t.transactionQueueTree_)}(t,xy(t,e),i),i}function Yf(t,n){let e,i=t.transactionQueueTree_;for(e=Wt(n);null!==e&&void 0===nc(i);)i=Bf(i,e),e=Wt(n=dn(n));return i}function xy(t,n){const e=[];return Zo(t,n,e),e.sort((i,s)=>i.order-s.order),e}function Zo(t,n,e){const i=nc(n);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);Du(n,s=>{Zo(t,s,e)})}function ol(t,n){const e=nc(n);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,c_(n,e.length>0?e:void 0)}Du(n,i=>{ol(t,i)})}function Hi(t,n){const e=Cu(Yf(t,n)),i=Bf(t.transactionQueueTree_,n);return function VD(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,s=>{_a(t,s)}),_a(t,i),Iy(i,s=>{_a(t,s)}),e}function _a(t,n){const e=nc(n);if(e){const i=[];let s=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,V.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,V.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),s=s.concat(el(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?c_(n,void 0):e.length=c+1,Vr(t.eventQueue_,Cu(n),s);for(let h=0;h<i.length;h++)jo(i[h])}}const $d=function(t,n){const e=Su(t),i=e.namespace;return"firebase.com"===e.domain&&uo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&uo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ke(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new an(e.pathString)}},Su=function(t){let n="",e="",i="",s="",c="",h=!0,m="https",b=443;if("string"==typeof t){let I=t.indexOf("//");I>=0&&(m=t.substring(0,I-1),t=t.substring(I+2));let S=t.indexOf("/");-1===S&&(S=t.length);let L=t.indexOf("?");-1===L&&(L=t.length),n=t.substring(0,Math.min(S,L)),S<L&&(s=function Zf(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}n+="/"+s}return n}(t.substring(S,L)));const H=function mo(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ri(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,L)));I=n.indexOf(":"),I>=0?(h="https"===m||"wss"===m,b=parseInt(n.substring(I+1),10)):I=n.length;const K=n.slice(0,I);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const _e=n.indexOf(".");i=n.substring(0,_e).toLowerCase(),e=n.substring(_e+1),c=i}"ns"in H&&(c=H.ns)}return{host:n,port:b,domain:e,subdomain:i,secure:h,scheme:m,pathString:s,namespace:c}},oc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nu=function(){let t=0;const n=[];return function(e){const i=e===t;let s;t=e;const c=new Array(8);for(s=7;s>=0;s--)c[s]=oc.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(i){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)h+=oc.charAt(n[s]);return(0,V.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class sc{constructor(n,e,i,s){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class ac{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sl{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class lc{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new V.BH;return WD(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){_i("OnDisconnect.remove",this._path);const n=new V.BH;return My(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){_i("OnDisconnect.set",this._path),ga("OnDisconnect.set",n,this._path,!1);const e=new V.BH;return My(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){_i("OnDisconnect.setWithPriority",this._path),ga("OnDisconnect.setWithPriority",n,this._path,!1),Gf("OnDisconnect.setWithPriority",e,!1);const i=new V.BH;return function zD(t,n,e,i,s){const c=Vn(e,i);t.server_.onDisconnectPut(n.toString(),c.val(!0),(h,m)=>{"ok"===h&&po(t.onDisconnect_,n,c),rl(0,s,h,m)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){_i("OnDisconnect.update",this._path),p_("OnDisconnect.update",n,this._path,!1);const e=new V.BH;return function YD(t,n,e,i){if((0,V.xb)(e))return Si("onDisconnect().update() called with empty data.  Don't do anything."),void rl(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(s,c)=>{"ok"===s&&Kn(e,(h,m)=>{const b=Vn(m);po(t.onDisconnect_,An(n,h),b)}),rl(0,i,s,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Ni{constructor(n,e,i,s){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return Bt(this._path)?null:Ag(this._path)}get ref(){return new Yr(this._repo,this._path)}get _queryIdentifier(){const n=Sd(this._queryParams),e=Jc(n);return"{}"===e?"default":e}get _queryObject(){return Sd(this._queryParams)}isEqual(n){if(!((n=(0,V.m9)(n))instanceof Ni))return!1;const e=this._repo===n._repo,i=Rg(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Pv(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function ma(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function va(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Lr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Go)throw new Error(i);if("string"!=typeof n)throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==gi)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(t.getIndex()===En){if(null!=n&&!nl(n)||null!=e&&!nl(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(t.getIndex()instanceof Gv||t.getIndex()===Yl,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wd(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yr extends Ni{constructor(n,e){super(n,e,new uu,!1)}get parent(){const n=_f(this._path);return null===n?null:new Yr(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class al{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new an(n),i=ll(this.ref,n);return new al(this._node.getChild(e),i,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>n(new al(s,ll(this.ref,i),En)))}hasChild(n){const e=new an(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function E_(t,n){return(t=(0,V.m9)(t))._checkNotDeleted("ref"),void 0!==n?ll(t._root,n):t._root}function D_(t,n){(t=(0,V.m9)(t))._checkNotDeleted("refFromURL");const e=$d(n,t._repo.repoInfo_.nodeAdmin);Bd("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&uo("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),E_(t,e.path.toString())}function ll(t,n){return null===Wt((t=(0,V.m9)(t))._path)?g_("child","path",n,!1):Iu("child","path",n,!1),new Yr(t._repo,An(t._path,n))}function C_(t,n){t=(0,V.m9)(t),_i("set",t._path),ga("set",n,t._path,!1);const e=new V.BH;return jd(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function Vy(t,n){p_("update",n,t._path,!1);const e=new V.BH;return function $D(t,n,e,i){rc(t,"update",{path:n.toString(),value:e});let s=!0;const c=Gd(t),h={};if(Kn(e,(m,b)=>{s=!1,h[m]=Cy(An(n,m),Vn(b),t.serverSyncTree_,c)}),s)Si("update() called with empty data.  Don't do anything."),rl(0,i,"ok",void 0);else{const m=$f(t),b=function PD(t,n,e,i){!function GI(t,n,e,i){(0,V.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=Gg(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const s=Dn.fromObject(e);return tc(t,new pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,s))}(t.serverSyncTree_,n,h,m);il(t.eventQueue_,b),t.server_.merge(n.toString(),e,(I,S)=>{const L="ok"===I;L||ri("update at "+n+" failed: "+I);const H=el(t.serverSyncTree_,m,!L),K=H.length>0?Tu(t,n):n;Vr(t.eventQueue_,K,H),rl(0,i,I,S)}),Kn(e,I=>{const S=Hi(t,An(n,I));Tu(t,S)}),Vr(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function w_(t){t=(0,V.m9)(t);const n=new sl(()=>{}),e=new cc(n);return function Oy(t,n,e){const i=function o_(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(I,S)=>{const L=ur(I,e);i=i||pa(S,L)});let s=t.syncPointTree_.get(e);s?i=i||pa(s,nn()):(s=new uy,t.syncPointTree_=t.syncPointTree_.set(e,s));const c=null!=i,h=c?new _o(i,!0,!1):null;return function YI(t){return Od(t.viewCache_)}(hy(s,n,Af(t.pendingWriteTree_,n._path),c?h.getNode():kt.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(s=>{const c=Vn(s).withIndex(n._queryParams.getIndex());let h;if(Fd(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=tl(t.serverSyncTree_,n._path,c);else{const m=Eu(t.serverSyncTree_,n);h=xd(t.serverSyncTree_,n._path,c,m)}return Vr(t.eventQueue_,n._path,h),yu(t.serverSyncTree_,n,e,null,!0),c},s=>(rc(t,"get for query "+(0,V.Wl)(n)+" failed: "+s),Promise.reject(new Error(s))))}(t._repo,t,e).then(i=>new al(i,new Yr(t._repo,t._path),t._queryParams.getIndex()))}class cc{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new sc("value",this,new al(n.snapshotNode,new Yr(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ac(this,n,e):null}matches(n){return n instanceof cc&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qf{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ac(this,n,e):null}createEvent(n,e){(0,V.hu)(null!=n.childName,"Child events should have a childName.");const i=ll(new Yr(e._repo,e._path),n.childName),s=e._queryParams.getIndex();return new sc(n.type,this,new al(n.snapshotNode,i,s),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof qf&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function cl(t,n,e,i,s){let c;if("object"==typeof i&&(c=void 0,s=i),"function"==typeof i&&(c=i),s&&s.onlyOnce){const b=e,I=(S,L)=>{y_(t._repo,t,m),b(S,L)};I.userCallback=e.userCallback,I.context=e.context,e=I}const h=new sl(e,c||void 0),m="value"===n?new cc(h):new qf(n,h);return function ZD(t,n,e){let i;i=".info"===Wt(n._path)?Fd(t.infoSyncTree_,n,e):Fd(t.serverSyncTree_,n,e),Ty(t.eventQueue_,n._path,i)}(t._repo,t,m),()=>y_(t._repo,t,m)}function Au(t,n,e,i){return cl(t,"value",n,e,i)}function Kf(t,n,e,i){return cl(t,"child_added",n,e,i)}function Uy(t,n,e,i){return cl(t,"child_changed",n,e,i)}function zd(t,n,e,i){return cl(t,"child_moved",n,e,i)}function Yd(t,n,e,i){return cl(t,"child_removed",n,e,i)}function I_(t,n,e){let i=null;const s=e?new sl(e):null;"value"===n?i=new cc(s):n&&(i=new qf(n,s)),y_(t._repo,t,i)}class vo{}class Jf extends vo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ga("endAt",this._value,n._path,!0);const e=Ef(n._queryParams,this._value,this._key);if(Wd(e),va(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,e,n._orderByCalled)}}class Hy extends vo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ga("endBefore",this._value,n._path,!1);const e=function ql(t,n,e){let i;return i=Ef(t,n,t.index_===Lr||e?e:Go),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(Wd(e),va(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,e,n._orderByCalled)}}class S_ extends vo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ga("startAt",this._value,n._path,!0);const e=Td(n._queryParams,this._value,this._key);if(Wd(e),va(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ni(n._repo,n._path,e,n._orderByCalled)}}class Gy extends vo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ga("startAfter",this._value,n._path,!1);const e=function $v(t,n,e){let i;return i=Td(t,n,t.index_===Lr||e?e:gi),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(Wd(e),va(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ni(n._repo,n._path,e,n._orderByCalled)}}class $y extends vo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,function Lg(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class eC extends vo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,function hD(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Yy extends vo{constructor(n){super(),this._path=n}_apply(n){ma(n,"orderByChild");const e=new an(this._path);if(Bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Gv(e),s=Df(n._queryParams,i);return va(s),new Ni(n._repo,n._path,s,!0)}}class Qf extends vo{_apply(n){ma(n,"orderByKey");const e=Df(n._queryParams,Lr);return va(e),new Ni(n._repo,n._path,e,!0)}}class qy extends vo{_apply(n){ma(n,"orderByPriority");const e=Df(n._queryParams,En);return va(e),new Ni(n._repo,n._path,e,!0)}}class Jy extends vo{_apply(n){ma(n,"orderByValue");const e=Df(n._queryParams,Yl);return va(e),new Ni(n._repo,n._path,e,!0)}}class Xy extends vo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(ga("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Jf(this._value,this._key)._apply(new S_(this._value,this._key)._apply(n))}}function yo(t,...n){let e=(0,V.m9)(t);for(const i of n)e=i._apply(e);return e}(function dy(t){(0,V.hu)(!Xl,"__referenceConstructor has already been defined"),Xl=t})(Yr),function qI(t){(0,V.hu)(!Pf,"__referenceConstructor has already been defined"),Pf=t}(Yr);const Xf="FIREBASE_DATABASE_EMULATOR_HOST",Ns={};let t0=!1;function ep(t,n,e,i,s){let c=i||t.options.databaseURL;void 0===c&&(t.options.projectId||uo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let b,I,h=$d(c,s),m=h.repoInfo;typeof process<"u"&&process.env&&(I=process.env[Xf]),I?(b=!0,c=`http://${I}?ns=${m.namespace}`,h=$d(c,s),m=h.repoInfo):b=!h.repoInfo.secure;const S=s&&b?new Ul(Ul.OWNER):new nf(t.name,t.options,n);Bd("Invalid Firebase Database URL",h),Bt(h.path)||uo("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function A_(t,n,e,i){let s=Ns[n.name];s||(s={},Ns[n.name]=s);let c=s[t.toURLString()];return c&&uo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new GD(t,t0,e,i),s[t.toURLString()]=c,c}(m,t,S,new tf(t.name,e));return new R_(L,t)}class R_{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function QI(t,n,e){if(t.stats_=Cs(t.repoInfo_),t.forceRestClient_||Bi())t.server_=new wf(t.repoInfo_,(i,s,c,h)=>{Ay(t,i,s,c,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ry(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zl(t.repoInfo_,n,(i,s,c,h)=>{Ay(t,i,s,c,h)},i=>{Ry(t,i)},i=>{!function jD(t,n){Kn(n,(e,i)=>{m_(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function vd(t,n){const e=t.toString();return Ki[e]||(Ki[e]=n()),Ki[e]}(t.repoInfo_,()=>new _D(t.stats_,t.server_)),t.infoData_=new Vg,t.infoSyncTree_=new _y({startListening:(i,s,c,h)=>{let m=[];const b=t.infoData_.getNode(i._path);return b.isEmpty()||(m=tl(t.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),m_(t,"connected",!1),t.serverSyncTree_=new _y({startListening:(i,s,c,h)=>(t.server_.listen(i,c,s,(m,b)=>{const I=h(m,b);Vr(t.eventQueue_,i._path,I)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yr(this._repo,nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uc(t,n){const e=Ns[n];(!e||e[t.key]!==t)&&uo(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Py(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&uo("Cannot call "+n+" on a deleted database.")}}function iC(){Eg.IS_TRANSPORT_INITIALIZED&&ri("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function eT(){iC(),ua.forceDisallow()}function rC(){iC(),jl.forceDisallow(),ua.forceAllow()}function n0(t,n){gg(t,n)}const aC={".sv":"timestamp"};class o0{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zl.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},zl.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function sC(t){xl(mn.SDK_VERSION),(0,mn._registerComponent)(new dt.wA("database",(n,{instanceIdentifier:e})=>ep(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,mn.registerVersion)(Es,"0.14.4",t),(0,mn.registerVersion)(Es,"0.14.4","esm2017")}();const uC=new Bo.Yd("@firebase/database-compat"),M_=function(t){uC.warn("FIREBASE WARNING: "+t)};class k_{constructor(n){this._delegate=n}cancel(n){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(n,e);return i&&s.then(()=>i(null),c=>i(c)),s}update(n,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,M_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),s=>e(s)),i}}class As{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ul{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Iu("DataSnapshot.child","path",n,!1),new ul(this._database,this._delegate.child(n))}hasChild(n){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Iu("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new ul(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Jn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Gi{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,s){var c;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const h=Gi.getCancelAndContextArgs_("Query.on",i,s),m=(I,S)=>{e.call(h.context,new ul(this.database,I),S)};m.userCallback=e,m.context=h.context;const b=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(n){case"value":return Au(this._delegate,m,b),e;case"child_added":return Kf(this._delegate,m,b),e;case"child_removed":return Yd(this._delegate,m,b),e;case"child_changed":return Uy(this._delegate,m,b),e;case"child_moved":return zd(this._delegate,m,b),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,I_(this._delegate,n,s)}else I_(this._delegate,n)}get(){return w_(this._delegate).then(n=>new ul(this.database,n))}once(n,e,i,s){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const c=Gi.getCancelAndContextArgs_("Query.once",i,s),h=new V.BH,m=(I,S)=>{const L=new ul(this.database,I);e&&e.call(c.context,L,S),h.resolve(L)};m.userCallback=e,m.context=c.context;const b=I=>{c.cancel&&c.cancel.call(c.context,I),h.reject(I)};switch(n){case"value":Au(this._delegate,m,b,{onlyOnce:!0});break;case"child_added":Kf(this._delegate,m,b,{onlyOnce:!0});break;case"child_removed":Yd(this._delegate,m,b,{onlyOnce:!0});break;case"child_changed":Uy(this._delegate,m,b,{onlyOnce:!0});break;case"child_moved":zd(this._delegate,m,b,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new Gi(this.database,yo(this._delegate,function Wy(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $y(t)}(n)))}limitToLast(n){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new Gi(this.database,yo(this._delegate,function zy(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eC(t)}(n)))}orderByChild(n){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new Gi(this.database,yo(this._delegate,function N_(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Iu("orderByChild","path",t,!1),new Yy(t)}(n)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new Gi(this.database,yo(this._delegate,function Zy(){return new Qf}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new Gi(this.database,yo(this._delegate,function Ky(){return new qy}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new Gi(this.database,yo(this._delegate,function Qy(){return new Jy}()))}startAt(n=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new Gi(this.database,yo(this._delegate,function XD(t=null,n){return wu("startAt","key",n,!0),new S_(t,n)}(n,e)))}startAfter(n=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new Gi(this.database,yo(this._delegate,function jy(t,n){return wu("startAfter","key",n,!0),new Gy(t,n)}(n,e)))}endAt(n=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new Gi(this.database,yo(this._delegate,function By(t,n){return wu("endAt","key",n,!0),new Jf(t,n)}(n,e)))}endBefore(n=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new Gi(this.database,yo(this._delegate,function T_(t,n){return wu("endBefore","key",n,!0),new Hy(t,n)}(n,e)))}equalTo(n,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new Gi(this.database,yo(this._delegate,function e0(t,n){return wu("equalTo","key",n,!0),new Xy(t,n)}(n,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Gi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,V.Wj)(n,"cancel",s.cancel,!0),s.context=i,(0,V.lb)(n,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new Jn(this.database,new Yr(this._delegate._repo,this._delegate._path))}}class Jn extends Gi{constructor(n,e){super(n,new Ni(e._repo,e._path,new uu,!1)),this.database=n,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Jn(this.database,ll(this._delegate,n))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Jn(this.database,n):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Jn(this.database,this._delegate.root)}set(n,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const i=C_(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}update(n,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,M_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_i("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const i=Vy(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function QD(t,n,e){if(_i("setWithPriority",t._path),ga("setWithPriority",n,t._path,!1),Gf("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new V.BH;return jd(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&s.then(()=>i(null),c=>i(c)),s}remove(n){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",n,!0);const e=function JD(t){return _i("remove",t._path),C_(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function s0(t,n,e){var i;if(t=(0,V.m9)(t),_i("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=null===(i=e?.applyLocally)||void 0===i||i,c=new V.BH,m=Au(t,()=>{});return function XI(t,n,e,i,s,c){rc(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:Yc(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=Wf(t,n,void 0);h.currentInputSnapshot=m;const b=h.update(m.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{ic("transaction failed: Data returned ",b,h.path),h.status=0;const I=Bf(t.transactionQueueTree_,n),S=nc(I)||[];let L;S.push(h),c_(I,S),"object"==typeof b&&null!==b&&(0,V.r3)(b,".priority")?(L=(0,V.DV)(b,".priority"),(0,V.hu)(nl(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(bu(t.serverSyncTree_,n)||kt.EMPTY_NODE).getPriority().val();const H=Gd(t),K=Vn(b,L),_e=a_(K,m,H);h.currentOutputSnapshotRaw=K,h.currentOutputSnapshotResolved=_e,h.currentWriteId=$f(t);const Ae=kf(t.serverSyncTree_,n,_e,h.currentWriteId,h.applyLocally);Vr(t.eventQueue_,n,Ae),b_(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(b,I,S)=>{let L=null;b?c.reject(b):(L=new al(S,new Yr(t._repo,t._path),En),c.resolve(new o0(I,L)))},m,s),c.promise}(this._delegate,n,{applyLocally:i}).then(c=>new As(c.committed,new ul(this.database,c.snapshot)));return e&&s.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),s}setPriority(n,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Ly(t,n){t=(0,V.m9)(t),_i("setPriority",t._path),Gf("setPriority",n,!1);const e=new V.BH;return jd(t._repo,An(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}push(n,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const i=function Fy(t,n){t=(0,V.m9)(t),_i("push",t._path),ga("push",n,t._path,!0);const e=Ny(t._repo),i=Nu(e),s=ll(t,i),c=ll(t,i);let h;return h=null!=n?C_(c,n).then(()=>c):Promise.resolve(c),s.then=h.then.bind(h),s.catch=h.then.bind(h,void 0),s}(this._delegate,n),s=i.then(h=>new Jn(this.database,h));e&&s.then(()=>e(null),h=>e(h));const c=new Jn(this.database,i);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return _i("Reference.onDisconnect",this._delegate._path),new k_(new lc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cr{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:eT,forceLongPolling:rC}}useEmulator(n,e,i={}){!function O_(t,n,e,i={}){(t=(0,V.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&uo("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let c;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&uo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ul(Ul.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,t.app.options.projectId);c=new Ul(h)}!function tC(t,n,e,i){t.repoInfo_=new Ke(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(s,n,e,c)}(this._delegate,n,e,i)}ref(n){if((0,V.Dv)("database.ref",0,1,arguments.length),n instanceof Jn){const e=D_(this._delegate,n.toString());return new Jn(this,e)}{const e=E_(this._delegate,n);return new Jn(this,e)}}refFromURL(n){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=D_(this._delegate,n);return new Jn(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function oC(t){(t=(0,V.m9)(t))._checkNotDeleted("goOffline"),Py(t._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function Ai(t){(t=(0,V.m9)(t))._checkNotDeleted("goOnline"),function ky(t){t.persistentConnection_&&t.persistentConnection_.resume(Sy)}(t._repo)}(this._delegate)}}Cr.ServerValue={TIMESTAMP:function r0(){return aC}(),increment:t=>function lC(t){return{".sv":{increment:t}}}(t)};var l0=Object.freeze({__proto__:null,initStandalone:function qo({app:t,url:n,version:e,customAuthImpl:i,namespace:s,nodeAdmin:c=!1}){xl(e);const h=new dt.zt("auth-internal",new dt.H0("database-standalone"));return h.setComponent(new dt.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Cr(ep(t,h,void 0,n,c),t),namespace:s}}});const c0=Cr.ServerValue;!function dC(t){t.INTERNAL.registerComponent(new dt.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("database").getImmediate({identifier:e});return new Cr(s,i)},"PUBLIC").setServiceProps({Reference:Jn,Query:Gi,Database:Cr,DataSnapshot:ul,enableLogging:n0,INTERNAL:l0,ServerValue:c0}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Ut.Z);var Rn=F(7579),tp=F(5363),hC=F(6063);class x_ extends Rn.x{constructor(n=1/0,e=1/0,i=hC.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:h}=this;e||(i.push(n),!s&&i.push(c.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:s}=this,c=s.slice();for(let h=0;h<c.length&&!n.closed;h+=i?1:2)n.next(c[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,c=(s?1:2)*n;if(n<1/0&&c<i.length&&i.splice(0,i.length-c),!s){const h=e.now();let m=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)m=b;m&&i.splice(0,m+1)}}}function Ru(t,n,e){let i,s=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:e}=t):i=t??1/0,(0,la.B)({connector:()=>new x_(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}const qd=(0,F(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ri(t,n){return(0,bn.e)((e,i)=>{let s=0;e.subscribe((0,_n.x)(i,c=>t.call(n,c,s++)&&i.next(c)))})}var Ko=F(515);function mi(t){return t<=0?()=>Ko.E:(0,bn.e)((n,e)=>{let i=0;n.subscribe((0,_n.x)(e,s=>{++i<=t&&(e.next(s),t<=i&&e.complete())}))})}function dc(t){return(0,bn.e)((n,e)=>{let i=!1;n.subscribe((0,_n.x)(e,s=>{i=!0,e.next(s)},()=>{i||e.next(t),e.complete()}))})}function u0(t=d0){return(0,bn.e)((n,e)=>{let i=!1;n.subscribe((0,_n.x)(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(t())))})}function d0(){return new qd}function Rs(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ri((s,c)=>t(s,c,i)):A.y,mi(1),e?dc(n):u0(()=>new qd))}var bo=F(576);function Kd(t,n){return(0,bo.m)(n)?sn(()=>t,n):sn(()=>t)}var np=F(9468);F(259);const L_=new Map,g0={activated:!1,tokenObservers:[]},mC={initialized:!1,enabled:!1};function Qi(t){return L_.get(t)||Object.assign({},g0)}function rp(){return mC}const V_="https://content-firebaseappcheck.googleapis.com/v1",v0="exchangeDebugToken",U_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class b0{constructor(n,e,i,s,c){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=s,s>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,qn.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function E0(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const dr=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H_(t,n){return dl.apply(this,arguments)}function dl(){return(dl=(0,qn.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){const L=yield s.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const c={method:"POST",body:JSON.stringify(n),headers:i};let h,m;try{h=yield fetch(t,c)}catch(L){throw dr.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==h.status)throw dr.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(L){throw dr.create("fetch-parse-error",{originalErrorMessage:L?.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(b[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+I,issuedAtTimeMillis:S}})).apply(this,arguments)}const C0="firebase-app-check-database",w0=1,sp="firebase-app-check-store";let ap=null;function Qd(t,n){return Un.apply(this,arguments)}function Un(){return(Un=(0,qn.Z)(function*(t,n){const i=(yield function I0(){return ap||(ap=new Promise((t,n)=>{try{const e=indexedDB.open(C0,w0);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var s;n(dr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(sp,{keyPath:"compositeKey"})}}catch(e){n(dr.create("storage-open",{originalErrorMessage:e?.message}))}}),ap)}()).transaction(sp,"readwrite"),c=i.objectStore(sp).put({compositeKey:t,value:n});return new Promise((h,m)=>{c.onsuccess=b=>{h()},i.onerror=b=>{var I;m(dr.create("storage-set",{originalErrorMessage:null===(I=b.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Xd=new Bo.Yd("@firebase/app-check");function dp(t,n){return(0,V.hl)()?function Mu(t,n){return Qd(function j_(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Xd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function A0(){return hc.apply(this,arguments)}function hc(){return(hc=(0,qn.Z)(function*(){const t=rp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const CC={error:"UNKNOWN_ERROR"};function wC(t){return V.US.encodeString(JSON.stringify(t),!1)}function fc(t){return hp.apply(this,arguments)}function hp(){return(hp=(0,qn.Z)(function*(t,n=!1){const e=t.app;!function B_(t){if(!Qi(t).activated)throw dr.create("use-before-activation",{appName:t.name})}(e);const i=Qi(e);let c,s=i.token;if(s&&!ku(s)&&(i.token=void 0,s=void 0),!s){const b=yield i.cachedTokenPromise;b&&(ku(b)?s=b:yield dp(e,void 0))}if(!n&&s&&ku(s))return{token:s.token};let m,h=!1;if(function N0(){return rp().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=H_(function pT(t,n){const{projectId:e,appId:i,apiKey:s}=t.options;return{url:`${V_}/projects/${e}/apps/${i}:${v0}?key=${s}`,body:{debug_token:n}}}(e,yield A0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const b=yield i.exchangeTokenPromise;return yield dp(e,b),i.token=b,{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),s=yield Qi(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Xd.warn(b.message):Xd.error(b),c=b}return s?c?m=ku(s)?{token:s.token,internalError:c}:O0(c):(m={token:s.token},i.token=s,yield dp(e,s)):m=O0(c),h&&function Pu(t,n){const e=Qi(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,m),m})).apply(this,arguments)}function pp(t,n){const e=Qi(t),i=e.tokenObservers.filter(s=>s.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function R0(t){const{app:n}=t,e=Qi(n);let i=e.tokenRefresher;i||(i=function eh(t){const{app:n}=t;return new b0((0,qn.Z)(function*(){let i;if(i=Qi(n).token?yield fc(t,!0):yield fc(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Qi(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},U_.RETRIAL_MIN_WAIT,U_.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ku(t){return t.expireTimeMillis-Date.now()>0}function O0(t){return{token:wC(CC),error:t}}class IC{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=Qi(this.app);for(const e of n)pp(this.app,e.next);return Promise.resolve()}}const U0="app-check-internal";!function B0(){(0,mn._registerComponent)(new dt.wA("app-check",t=>function M0(t,n){return new IC(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(U0).initialize()})),(0,mn._registerComponent)(new dt.wA(U0,t=>function P0(t){return{getToken:n=>fc(t,n),addTokenListener:n=>function fp(t,n,e,i){const{app:s}=t,c=Qi(s);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:i,type:n}],c.token&&ku(c.token)){const m=c.token;Promise.resolve().then(()=>{e({token:m.token}),R0(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>R0(t))}(t,"INTERNAL",n),removeTokenListener:n=>pp(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mn.registerVersion)("@firebase/app-check","0.6.4")}();class Z_{constructor(){return(0,$e.vb)("app-check")}}typeof window<"u"&&window;var $0=F(9260);const W0=new l.OlP("angularfire2.auth.use-emulator"),z0=new l.OlP("angularfire2.auth.settings"),Y0=new l.OlP("angularfire2.auth.tenant-id"),J_=new l.OlP("angularfire2.auth.langugage-code"),Q_=new l.OlP("angularfire2.auth.use-device-language"),X_=new l.OlP("angularfire.auth.persistence"),Z0=(t,n,e,i,s,c,h,m)=>(0,Nn.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const b=n.runOutsideAngular(()=>t.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=s,c&&b.useDeviceLanguage(),h)for(const[I,S]of Object.entries(h))b.settings[I]=S;return m&&b.setPersistence(m),b},[e,i,s,c,h,m]);let Fu=(()=>{class t{constructor(e,i,s,c,h,m,b,I,S,L,H,K){const _e=new Rn.x,Ae=nt(void 0).pipe((0,tp.Q)(h.outsideAngular),sn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,ut.U)(()=>(0,Nn.on)(e,c,i)),(0,ut.U)(Ue=>Z0(Ue,c,m,I,S,L,b,H)),Ru({bufferSize:1,refCount:!1}));if(function Ic(t){return"server"===t}(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{Ae.pipe(Rs()).subscribe();const at=Ae.pipe(sn(pt=>pt.getRedirectResult().then(Nt=>Nt,()=>null)),$e.iC,Ru({bufferSize:1,refCount:!1})),ot=Ae.pipe(sn(pt=>new Ii.y(Nt=>({unsubscribe:c.runOutsideAngular(()=>pt.onAuthStateChanged(Gt=>Nt.next(Gt),Gt=>Nt.error(Gt),()=>Nt.complete()))})))),Lt=Ae.pipe(sn(pt=>new Ii.y(Nt=>({unsubscribe:c.runOutsideAngular(()=>pt.onIdTokenChanged(Gt=>Nt.next(Gt),Gt=>Nt.error(Gt),()=>Nt.complete()))}))));this.authState=at.pipe(Kd(ot),(0,np.R)(h.outsideAngular),(0,tp.Q)(h.insideAngular)),this.user=at.pipe(Kd(Lt),(0,np.R)(h.outsideAngular),(0,tp.Q)(h.insideAngular)),this.idToken=this.user.pipe(sn(pt=>pt?(0,en.D)(pt.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(sn(pt=>pt?(0,en.D)(pt.getIdTokenResult()):nt(null))),this.credential=(0,Fr.T)(at,_e,this.authState.pipe(Ri(pt=>!pt))).pipe((0,ut.U)(pt=>pt?.user?pt:null),(0,np.R)(h.outsideAngular),(0,tp.Q)(h.insideAngular))}return(0,Nn.pX)(this,Ae,c,{spy:{apply:(Ue,at,ot)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&ot.then(Lt=>_e.next(Lt))}}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Nn.Dh),l.LFG(Nn.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($e.HU),l.LFG(W0,8),l.LFG(z0,8),l.LFG(Y0,8),l.LFG(J_,8),l.LFG(Q_,8),l.LFG(X_,8),l.LFG(Z_,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),q0=(()=>{class t{constructor(){$0.Z.registerVersion("angularfire",$e.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[Fu]}),t})();function vp(t){return null==t}function yp(t){return"function"==typeof t.set}function em(t,n){return yp(n)?n:t.ref(n)}function bp(t,n){if(function BC(t){return"string"==typeof t}(t))return n.stringCase();if(yp(t))return n.firebaseCase();if(function HC(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function nh(t,n,e="on",i=za.z){return new Ii.y(s=>{let c=null;return c=t[e](n,(h,m)=>{i.schedule(()=>{s.next({snapshot:h,prevKey:m})}),"once"===e&&i.schedule(()=>s.complete())},h=>{i.schedule(()=>s.error(h))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,ut.U)(s=>{const{snapshot:c,prevKey:h}=s;let m=null;return c.exists()&&(m=c.key),{type:n,payload:c,prevKey:h,key:m}}),(0,la.B)())}function Ep(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function K0(t,n){const{payload:e,prevKey:i,key:s}=n,c=Ep(t,s),h=function jC(t,n){if(vp(n))return 0;{const e=Ep(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let m=null;n.payload.forEach(b=>{const I={payload:b,type:"value",prevKey:m,key:b.key};return m=b.key,t=[...t,I],!1})}return t;case"child_added":if(c>-1){const m=t[c-1];(m&&m.key||null)!==i&&(t=t.filter(b=>b.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(m=>m.payload.key!==e.key);case"child_changed":return t.map(m=>m.payload.key===s?n:m);case"child_moved":if(c>-1){const m=t.splice(c,1)[0];return(t=t.slice()).splice(h,0,m),t}return t;default:return t}}function pc(t){return(vp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function tm(t,n,e){return function GC(t,n,e){return nh(t,"value","once",e).pipe(sn(i=>{const s=[nt(i)];return n.forEach(c=>s.push(nh(t,c,"on",e))),(0,Fr.T)(...s).pipe(w(K0,[]))}),B())}(t,n=pc(n),e)}function J0(t,n,e){const i=(n=pc(n)).map(s=>nh(t,s,"on",e));return(0,Fr.T)(...i)}function X0(t,n){return function(i,s){return bp(i,{stringCase:()=>t.child(i)[n](s),firebaseCase:()=>i[n](s),snapshotCase:()=>i.ref[n](s)})}}function im(t){return function(e){return e?bp(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function rm(t,n){return function(){return nh(t,"value","on",n)}}const eb=new l.OlP("angularfire2.realtimeDatabaseURL"),tb=new l.OlP("angularfire2.database.use-emulator");let nb=(()=>{class t{constructor(e,i,s,c,h,m,b,I,S,L,H,K,_e,Ae,Ue){this.schedulers=m;const at=b,ot=(0,Nn.on)(e,h,i);I&&Z0(ot,h,S,H,K,_e,L,Ae),this.database=(0,Nn.cc)(`${ot.name}.database.${s}`,"AngularFireDatabase",ot.name,()=>{const Lt=h.runOutsideAngular(()=>ot.database(s||void 0));return at&&Lt.useEmulator(...at),Lt},[at])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>em(this.database,e));let c=s;return i&&(c=i(s)),function $C(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:X0(i,"update"),set:X0(i,"set"),push:s=>i.push(s),remove:im(i),snapshotChanges:s=>tm(t,s,e).pipe($e.iC),stateChanges:s=>J0(t,s,e).pipe($e.iC),auditTrail:s=>function TT(t,n,e){return function nm(t,n,e){return function Q0(t,n){return nh(t,"value","on",n).pipe((0,ut.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Se(n),(0,ut.U)(([s,c])=>{const h=s.lastKeyToLoad,m=c.map(b=>b.key);return{actions:c,lastKeyToLoad:h,loadedKeys:m}}),function Ze(t){return(0,bn.e)((n,e)=>{let i=!1,s=0;n.subscribe((0,_n.x)(e,c=>(i||(i=!t(c,s++)))&&e.next(c)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,ut.U)(s=>s.actions))}(t,J0(t,n).pipe(w((s,c)=>[...s,c],[])),e)}(t,s,e).pipe($e.iC),valueChanges:(s,c)=>tm(t,s,e).pipe((0,ut.U)(m=>m.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),$e.iC)}}(c,this)}object(e){return function om(t,n){return{query:t,snapshotChanges:()=>rm(t,n.schedulers.outsideAngular)().pipe($e.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>rm(t,n.schedulers.outsideAngular)().pipe($e.iC,(0,ut.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>em(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Nn.Dh),l.LFG(Nn.xv,8),l.LFG(eb,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($e.HU),l.LFG(tb,8),l.LFG(Fu,8),l.LFG(W0,8),l.LFG(z0,8),l.LFG(Y0,8),l.LFG(J_,8),l.LFG(Q_,8),l.LFG(X_,8),l.LFG(Z_,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),ib=(()=>{class t{constructor(){$0.Z.registerVersion("angularfire",$e.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[nb]}),t})();var Xi=F(5577),WC=F(1144);const{isArray:zC}=Array;function Dp(t){return(0,ut.U)(n=>function YC(t,n){return zC(n)?t(...n):t(n)}(t,n))}const ST=["addListener","removeListener"],rb=["addEventListener","removeEventListener"],ZC=["on","off"];function er(t,n,e,i){if((0,bo.m)(e)&&(i=e,e=void 0),i)return er(t,n,e).pipe(Dp(i));const[s,c]=function QC(t){return(0,bo.m)(t.addEventListener)&&(0,bo.m)(t.removeEventListener)}(t)?rb.map(h=>m=>t[h](n,m,e)):function KC(t){return(0,bo.m)(t.addListener)&&(0,bo.m)(t.removeListener)}(t)?ST.map(qC(t,n)):function JC(t){return(0,bo.m)(t.on)&&(0,bo.m)(t.off)}(t)?ZC.map(qC(t,n)):[];if(!s&&(0,WC.z)(t))return(0,Xi.z)(h=>er(h,n,e))((0,Ti.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new Ii.y(h=>{const m=(...b)=>h.next(1<b.length?b:b[0]);return s(m),()=>c(m)})}function qC(t,n){return e=>i=>t[e](n,i)}var ob=F(3532);function Cp(t=0,n,e=za.P){let i=-1;return null!=n&&((0,ob.K)(n)?e=n:i=n),new Ii.y(s=>{let c=function sb(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;c<0&&(c=0);let h=0;return e.schedule(function(){s.closed||(s.next(h++),0<=i?this.schedule(void 0,i):s.complete())},c)})}const{isArray:XC}=Array;function ab(t){return 1===t.length&&XC(t[0])?t[0]:t}function lb(...t){return 1===(t=ab(t)).length?(0,Ti.Xf)(t[0]):new Ii.y(function ew(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,Ti.Xf)(t[i]).subscribe((0,_n.x)(n,s=>{if(e){for(let c=0;c<e.length;c++)c!==i&&e[c].unsubscribe();e=null}n.next(s)})))}}(t))}class ji extends Rn.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:tw}=Array,{getPrototypeOf:ih,prototype:cb,keys:ub}=Object;var hb=F(9672);function wp(...t){const n=(0,xr.yG)(t),e=(0,xr.jO)(t),{args:i,keys:s}=function sm(t){if(1===t.length){const n=t[0];if(tw(n))return{args:n,keys:null};if(function db(t){return t&&"object"==typeof t&&ih(t)===cb}(n)){const e=ub(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t);if(0===i.length)return(0,en.D)([],n);const c=new Ii.y(function NT(t,n,e=A.y){return i=>{lm(n,()=>{const{length:s}=t,c=new Array(s);let h=s,m=s;for(let b=0;b<s;b++)lm(n,()=>{const I=(0,en.D)(t[b],n);let S=!1;I.subscribe((0,_n.x)(i,L=>{c[b]=L,S||(S=!0,m--),m||i.next(e(c.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,s?h=>function am(t,n){return t.reduce((e,i,s)=>(e[i]=n[s],e),{})}(s,h):A.y));return e?c.pipe(Dp(e)):c}function lm(t,n,e){t?(0,hb.f)(e,t,n):n()}const fb=new Ii.y(ne.Z);function Ip(...t){const n=(0,xr.jO)(t),e=ab(t);return e.length?new Ii.y(i=>{let s=e.map(()=>[]),c=e.map(()=>!1);i.add(()=>{s=c=null});for(let h=0;!i.closed&&h<e.length;h++)(0,Ti.Xf)(e[h]).subscribe((0,_n.x)(i,m=>{if(s[h].push(m),s.every(b=>b.length)){const b=s.map(I=>I.shift());i.next(n?n(...b):b),s.some((I,S)=>!I.length&&c[S])&&i.complete()}},()=>{c[h]=!0,!s[h].length&&i.complete()}));return()=>{s=c=null}}):Ko.E}var rh=F(8189);function sh(...t){return function oh(){return(0,rh.J)(1)}()((0,en.D)(t,(0,xr.yG)(t)))}function rn(t){return(0,bn.e)((n,e)=>{(0,Ti.Xf)(t).subscribe((0,_n.x)(e,()=>e.complete(),ne.Z)),!e.closed&&n.subscribe(e)})}function Tp(...t){const n=(0,xr.yG)(t);return(0,bn.e)((e,i)=>{(n?sh(t,e,n):sh(t,e)).subscribe(i)})}var vi=F(8505);function pb(t){return(0,ut.U)(()=>t)}function gb(t,n){return n?e=>sh(n.pipe(mi(1),function ah(){return(0,bn.e)((t,n)=>{t.subscribe((0,_n.x)(n,ne.Z))})}()),e.pipe(gb(t))):(0,Xi.z)((e,i)=>(0,Ti.Xf)(t(e,i)).pipe(mi(1),pb(e)))}const wr=new l.OlP("NgValueAccessor");var Sw={left:"right",right:"left",bottom:"top",top:"bottom"};function gh(t){return t.replace(/left|right|bottom|top/g,function(n){return Sw[n]})}function Jo(t){return t.split("-")[0]}var hE={start:"end",end:"start"};function fE(t){return t.replace(/start|end/g,function(n){return hE[n]})}var qr="top",Do="bottom",Kr="right",Co="left",Yp="auto",bc=[qr,Do,Kr,Co],ju="start",_h="end",eS="clippingParents",Nw="viewport",mh="popper",Aw="reference",pE=bc.reduce(function(t,n){return t.concat([n+"-"+ju,n+"-"+_h])},[]),Rw=[].concat(bc,[Yp]).reduce(function(t,n){return t.concat([n,n+"-"+ju,n+"-"+_h])},[]),lS=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function o(t){return t instanceof r(t).Element||t instanceof Element}function a(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function u(t){return!(typeof ShadowRoot>"u")&&(t instanceof r(t).ShadowRoot||t instanceof ShadowRoot)}function d(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}var f=Math.max,_=Math.min,y=Math.round;function D(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function T(){return!/^((?!chrome|android).)*safari/i.test(D())}function R(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),s=1,c=1;n&&a(t)&&(s=t.offsetWidth>0&&y(i.width)/t.offsetWidth||1,c=t.offsetHeight>0&&y(i.height)/t.offsetHeight||1);var m=(o(t)?r(t):window).visualViewport,b=!T()&&e,I=(i.left+(b&&m?m.offsetLeft:0))/s,S=(i.top+(b&&m?m.offsetTop:0))/c,L=i.width/s,H=i.height/c;return{width:L,height:H,top:S,right:I+L,bottom:S+H,left:I,x:I,y:S}}function U(t){var n=r(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Y(t){return R(d(t)).left+U(t).scrollLeft}function de(t){return r(t).getComputedStyle(t)}function He(t){return t?(t.nodeName||"").toLowerCase():null}function tt(t){return"html"===He(t)?t:t.assignedSlot||t.parentNode||(u(t)?t.host:null)||d(t)}function yt(t){var n=de(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function Oe(t){return["html","body","#document"].indexOf(He(t))>=0?t.ownerDocument.body:a(t)&&yt(t)?t:Oe(tt(t))}function Tt(t,n){var e;void 0===n&&(n=[]);var i=Oe(t),s=i===(null==(e=t.ownerDocument)?void 0:e.body),c=r(i),h=s?[c].concat(c.visualViewport||[],yt(i)?i:[]):i,m=n.concat(h);return s?m:m.concat(Tt(tt(h)))}function Bn(t){return["table","td","th"].indexOf(He(t))>=0}function Qn(t){return a(t)&&"fixed"!==de(t).position?t.offsetParent:null}function qm(t){for(var n=r(t),e=Qn(t);e&&Bn(e)&&"static"===de(e).position;)e=Qn(e);return e&&("html"===He(e)||"body"===He(e)&&"static"===de(e).position)?n:e||function cS(t){var n=/firefox/i.test(D());if(/Trident/i.test(D())&&a(t)&&"fixed"===de(t).position)return null;var s=tt(t);for(u(s)&&(s=s.host);a(s)&&["html","body"].indexOf(He(s))<0;){var c=de(s);if("none"!==c.transform||"none"!==c.perspective||"paint"===c.contain||-1!==["transform","perspective"].indexOf(c.willChange)||n&&"filter"===c.willChange||n&&c.filter&&"none"!==c.filter)return s;s=s.parentNode}return null}(t)||n}function uS(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&u(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Pw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dS(t,n,e){return n===Nw?Pw(function te(t,n){var e=r(t),i=d(t),s=e.visualViewport,c=i.clientWidth,h=i.clientHeight,m=0,b=0;if(s){c=s.width,h=s.height;var I=T();(I||!I&&"fixed"===n)&&(m=s.offsetLeft,b=s.offsetTop)}return{width:c,height:h,x:m+Y(t),y:b}}(t,e)):o(n)?function oA(t,n){var e=R(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):Pw(function Le(t){var n,e=d(t),i=U(t),s=null==(n=t.ownerDocument)?void 0:n.body,c=f(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),h=f(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),m=-i.scrollLeft+Y(t),b=-i.scrollTop;return"rtl"===de(s||e).direction&&(m+=f(e.clientWidth,s?s.clientWidth:0)-c),{width:c,height:h,x:m,y:b}}(d(t)))}function Zp(t){return t.split("-")[1]}function kw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hS(t){var b,n=t.reference,e=t.element,i=t.placement,s=i?Jo(i):null,c=i?Zp(i):null,h=n.x+n.width/2-e.width/2,m=n.y+n.height/2-e.height/2;switch(s){case qr:b={x:h,y:n.y-e.height};break;case Do:b={x:h,y:n.y+n.height};break;case Kr:b={x:n.x+n.width,y:m};break;case Co:b={x:n.x-e.width,y:m};break;default:b={x:n.x,y:n.y}}var I=s?kw(s):null;if(null!=I){var S="y"===I?"height":"width";switch(c){case ju:b[I]=b[I]-(n[S]/2-e[S]/2);break;case _h:b[I]=b[I]+(n[S]/2-e[S]/2)}}return b}function pS(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function gS(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function xw(t,n){void 0===n&&(n={});var i=n.placement,s=void 0===i?t.placement:i,c=n.strategy,h=void 0===c?t.strategy:c,m=n.boundary,b=void 0===m?eS:m,I=n.rootBoundary,S=void 0===I?Nw:I,L=n.elementContext,H=void 0===L?mh:L,K=n.altBoundary,_e=void 0!==K&&K,Ae=n.padding,Ue=void 0===Ae?0:Ae,at=pS("number"!=typeof Ue?Ue:gS(Ue,bc)),Lt=t.rects.popper,pt=t.elements[_e?H===mh?Aw:mh:H],Nt=function aA(t,n,e,i){var s="clippingParents"===n?function sA(t){var n=Tt(tt(t)),i=["absolute","fixed"].indexOf(de(t).position)>=0&&a(t)?qm(t):t;return o(i)?n.filter(function(s){return o(s)&&uS(s,i)&&"body"!==He(s)}):[]}(t):[].concat(n),c=[].concat(s,[e]),m=c.reduce(function(b,I){var S=dS(t,I,i);return b.top=f(S.top,b.top),b.right=_(S.right,b.right),b.bottom=_(S.bottom,b.bottom),b.left=f(S.left,b.left),b},dS(t,c[0],i));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}(o(pt)?pt:pt.contextElement||d(t.elements.popper),b,S,h),Gt=R(t.elements.reference),Hn=hS({reference:Gt,element:Lt,strategy:"absolute",placement:s}),Cn=Pw(Object.assign({},Lt,Hn)),rr=H===mh?Cn:Gt,or={top:Nt.top-rr.top+at.top,bottom:rr.bottom-Nt.bottom+at.bottom,left:Nt.left-rr.left+at.left,right:rr.right-Nt.right+at.right},Oi=t.modifiersData.offset;if(H===mh&&Oi){var Ca=Oi[s];Object.keys(or).forEach(function(Jr){var Nh=[Kr,Do].indexOf(Jr)>=0?1:-1,Ah=[qr,Do].indexOf(Jr)>=0?"y":"x";or[Jr]+=Ca[Ah]*Nh})}return or}const dA={name:"flip",enabled:!0,phase:"main",fn:function uA(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var s=e.mainAxis,c=void 0===s||s,h=e.altAxis,m=void 0===h||h,b=e.fallbackPlacements,I=e.padding,S=e.boundary,L=e.rootBoundary,H=e.altBoundary,K=e.flipVariations,_e=void 0===K||K,Ae=e.allowedAutoPlacements,Ue=n.options.placement,at=Jo(Ue),Lt=b||(at!==Ue&&_e?function cA(t){if(Jo(t)===Yp)return[];var n=gh(t);return[fE(t),n,fE(n)]}(Ue):[gh(Ue)]),pt=[Ue].concat(Lt).reduce(function(dg,qu){return dg.concat(Jo(qu)===Yp?function lA(t,n){void 0===n&&(n={});var s=n.boundary,c=n.rootBoundary,h=n.padding,m=n.flipVariations,b=n.allowedAutoPlacements,I=void 0===b?Rw:b,S=Zp(n.placement),L=S?m?pE:pE.filter(function(_e){return Zp(_e)===S}):bc,H=L.filter(function(_e){return I.indexOf(_e)>=0});0===H.length&&(H=L);var K=H.reduce(function(_e,Ae){return _e[Ae]=xw(t,{placement:Ae,boundary:s,rootBoundary:c,padding:h})[Jo(Ae)],_e},{});return Object.keys(K).sort(function(_e,Ae){return K[_e]-K[Ae]})}(n,{placement:qu,boundary:S,rootBoundary:L,padding:I,flipVariations:_e,allowedAutoPlacements:Ae}):qu)},[]),Nt=n.rects.reference,Gt=n.rects.popper,Hn=new Map,Cn=!0,rr=pt[0],or=0;or<pt.length;or++){var Oi=pt[or],Ca=Jo(Oi),Jr=Zp(Oi)===ju,Nh=[qr,Do].indexOf(Ca)>=0,Ah=Nh?"width":"height",es=xw(n,{placement:Oi,boundary:S,rootBoundary:L,altBoundary:H,padding:I}),wa=Nh?Jr?Kr:Co:Jr?Do:qr;Nt[Ah]>Gt[Ah]&&(wa=gh(wa));var qE=gh(wa),Rh=[];if(c&&Rh.push(es[Ca]<=0),m&&Rh.push(es[wa]<=0,es[qE]<=0),Rh.every(function(dg){return dg})){rr=Oi,Cn=!1;break}Hn.set(Oi,Rh)}if(Cn)for(var RI=function(qu){var Ev=pt.find(function(QE){var Oh=Hn.get(QE);if(Oh)return Oh.slice(0,qu).every(function(OI){return OI})});if(Ev)return rr=Ev,"break"},bv=_e?3:1;bv>0&&"break"!==RI(bv);bv--);n.placement!==rr&&(n.modifiersData[i]._skip=!0,n.placement=rr,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Km(t,n,e){return f(t,_(n,e))}function Fw(t){var n=R(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const gA={name:"preventOverflow",enabled:!0,phase:"main",fn:function pA(t){var n=t.state,e=t.options,i=t.name,s=e.mainAxis,c=void 0===s||s,h=e.altAxis,m=void 0!==h&&h,H=e.tether,K=void 0===H||H,_e=e.tetherOffset,Ae=void 0===_e?0:_e,Ue=xw(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),at=Jo(n.placement),ot=Zp(n.placement),Lt=!ot,pt=kw(at),Nt=function hA(t){return"x"===t?"y":"x"}(pt),Gt=n.modifiersData.popperOffsets,Hn=n.rects.reference,Cn=n.rects.popper,rr="function"==typeof Ae?Ae(Object.assign({},n.rects,{placement:n.placement})):Ae,or="number"==typeof rr?{mainAxis:rr,altAxis:rr}:Object.assign({mainAxis:0,altAxis:0},rr),Oi=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Ca={x:0,y:0};if(Gt){if(c){var Jr,Nh="y"===pt?qr:Co,Ah="y"===pt?Do:Kr,es="y"===pt?"height":"width",wa=Gt[pt],qE=wa+Ue[Nh],Rh=wa-Ue[Ah],KE=K?-Cn[es]/2:0,RI=ot===ju?Hn[es]:Cn[es],bv=ot===ju?-Cn[es]:-Hn[es],JE=n.elements.arrow,dg=K&&JE?Fw(JE):{width:0,height:0},qu=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ev=qu[Nh],QE=qu[Ah],Oh=Km(0,Hn[es],dg[es]),OI=Lt?Hn[es]/2-KE-Oh-Ev-or.mainAxis:RI-Oh-Ev-or.mainAxis,iF=Lt?-Hn[es]/2+KE+Oh+QE+or.mainAxis:bv+Oh+QE+or.mainAxis,MI=n.elements.arrow&&qm(n.elements.arrow),UN=null!=(Jr=Oi?.[pt])?Jr:0,sF=wa+iF-UN,BN=Km(K?_(qE,wa+OI-UN-(MI?"y"===pt?MI.clientTop||0:MI.clientLeft||0:0)):qE,wa,K?f(Rh,sF):Rh);Gt[pt]=BN,Ca[pt]=BN-wa}if(m){var HN,Mh=Gt[Nt],XE="y"===Nt?"height":"width",GN=Mh+Ue["x"===pt?qr:Co],jN=Mh-Ue["x"===pt?Do:Kr],PI=-1!==[qr,Co].indexOf(at),$N=null!=(HN=Oi?.[Nt])?HN:0,WN=PI?GN:Mh-Hn[XE]-Cn[XE]-$N+or.altAxis,zN=PI?Mh+Hn[XE]+Cn[XE]-$N-or.altAxis:jN,YN=K&&PI?function fA(t,n,e){var i=Km(t,n,e);return i>e?e:i}(WN,Mh,zN):Km(K?WN:GN,Mh,K?zN:jN);Gt[Nt]=YN,Ca[Nt]=YN-Mh}n.modifiersData[i]=Ca}},requiresIfExists:["offset"]};const yA={name:"arrow",enabled:!0,phase:"main",fn:function mA(t){var n,e=t.state,i=t.name,s=t.options,c=e.elements.arrow,h=e.modifiersData.popperOffsets,m=Jo(e.placement),b=kw(m),S=[Co,Kr].indexOf(m)>=0?"height":"width";if(c&&h){var L=function(n,e){return pS("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:gS(n,bc))}(s.padding,e),H=Fw(c),K="y"===b?qr:Co,_e="y"===b?Do:Kr,Ae=e.rects.reference[S]+e.rects.reference[b]-h[b]-e.rects.popper[S],Ue=h[b]-e.rects.reference[b],at=qm(c),ot=at?"y"===b?at.clientHeight||0:at.clientWidth||0:0,Gt=ot/2-H[S]/2+(Ae/2-Ue/2),Hn=Km(L[K],Gt,ot-H[S]-L[_e]);e.modifiersData[i]=((n={})[b]=Hn,n.centerOffset=Hn-Gt,n)}},effect:function vA(t){var n=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=n.elements.popper.querySelector(s))||uS(n.elements.popper,s)&&(n.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function CA(t,n,e){void 0===e&&(e=!1);var i=a(n),s=a(n)&&function DA(t){var n=t.getBoundingClientRect(),e=y(n.width)/t.offsetWidth||1,i=y(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),c=d(n),h=R(t,s,e),m={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(i||!i&&!e)&&(("body"!==He(n)||yt(c))&&(m=function EA(t){return t!==r(t)&&a(t)?function bA(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):U(t)}(n)),a(n)?((b=R(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):c&&(b.x=Y(c))),{x:h.left+m.scrollLeft-b.x,y:h.top+m.scrollTop-b.y,width:h.width,height:h.height}}function wA(t){var n=new Map,e=new Set,i=[];function s(c){e.add(c.name),[].concat(c.requires||[],c.requiresIfExists||[]).forEach(function(m){if(!e.has(m)){var b=n.get(m);b&&s(b)}}),i.push(c)}return t.forEach(function(c){n.set(c.name,c)}),t.forEach(function(c){e.has(c.name)||s(c)}),i}function TA(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var _S={placement:"bottom",modifiers:[],strategy:"absolute"};function mS(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function NA(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,s=t.defaultOptions,c=void 0===s?_S:s;return function(m,b,I){void 0===I&&(I=c);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},_S,c),modifiersData:{},elements:{reference:m,popper:b},attributes:{},styles:{}},L=[],H=!1,K={state:S,setOptions:function(at){var ot="function"==typeof at?at(S.options):at;Ae(),S.options=Object.assign({},c,S.options,ot),S.scrollParents={reference:o(m)?Tt(m):m.contextElement?Tt(m.contextElement):[],popper:Tt(b)};var Lt=function IA(t){var n=wA(t);return lS.reduce(function(e,i){return e.concat(n.filter(function(s){return s.phase===i}))},[])}(function SA(t){var n=t.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,S.options.modifiers)));return S.orderedModifiers=Lt.filter(function(Oi){return Oi.enabled}),function _e(){S.orderedModifiers.forEach(function(Ue){var ot=Ue.options,pt=Ue.effect;if("function"==typeof pt){var Nt=pt({state:S,name:Ue.name,instance:K,options:void 0===ot?{}:ot});L.push(Nt||function(){})}})}(),K.update()},forceUpdate:function(){if(!H){var at=S.elements,ot=at.reference,Lt=at.popper;if(mS(ot,Lt)){S.rects={reference:CA(ot,qm(Lt),"fixed"===S.options.strategy),popper:Fw(Lt)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(Oi){return S.modifiersData[Oi.name]=Object.assign({},Oi.data)});for(var Nt=0;Nt<S.orderedModifiers.length;Nt++)if(!0!==S.reset){var Gt=S.orderedModifiers[Nt],Hn=Gt.fn,Cn=Gt.options;"function"==typeof Hn&&(S=Hn({state:S,options:void 0===Cn?{}:Cn,name:Gt.name,instance:K})||S)}else S.reset=!1,Nt=-1}}},update:TA(function(){return new Promise(function(Ue){K.forceUpdate(),Ue(S)})}),destroy:function(){Ae(),H=!0}};if(!mS(m,b))return K;function Ae(){L.forEach(function(Ue){return Ue()}),L=[]}return K.setOptions(I).then(function(Ue){!H&&I.onFirstUpdate&&I.onFirstUpdate(Ue)}),K}}var gE={passive:!0},PA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vS(t){var n,e=t.popper,i=t.popperRect,s=t.placement,c=t.variation,h=t.offsets,m=t.position,b=t.gpuAcceleration,I=t.adaptive,S=t.roundOffsets,L=t.isFixed,H=h.x,K=void 0===H?0:H,_e=h.y,Ae=void 0===_e?0:_e,Ue="function"==typeof S?S({x:K,y:Ae}):{x:K,y:Ae};K=Ue.x,Ae=Ue.y;var at=h.hasOwnProperty("x"),ot=h.hasOwnProperty("y"),Lt=Co,pt=qr,Nt=window;if(I){var Gt=qm(e),Hn="clientHeight",Cn="clientWidth";Gt===r(e)&&"static"!==de(Gt=d(e)).position&&"absolute"===m&&(Hn="scrollHeight",Cn="scrollWidth"),(s===qr||(s===Co||s===Kr)&&c===_h)&&(pt=Do,Ae-=(L&&Gt===Nt&&Nt.visualViewport?Nt.visualViewport.height:Gt[Hn])-i.height,Ae*=b?1:-1),s!==Co&&(s!==qr&&s!==Do||c!==_h)||(Lt=Kr,K-=(L&&Gt===Nt&&Nt.visualViewport?Nt.visualViewport.width:Gt[Cn])-i.width,K*=b?1:-1)}var Jr,Oi=Object.assign({position:m},I&&PA),Ca=!0===S?function kA(t){var e=t.y,s=window.devicePixelRatio||1;return{x:y(t.x*s)/s||0,y:y(e*s)/s||0}}({x:K,y:Ae}):{x:K,y:Ae};return K=Ca.x,Ae=Ca.y,Object.assign({},Oi,b?((Jr={})[pt]=ot?"0":"",Jr[Lt]=at?"0":"",Jr.transform=(Nt.devicePixelRatio||1)<=1?"translate("+K+"px, "+Ae+"px)":"translate3d("+K+"px, "+Ae+"px, 0)",Jr):((n={})[pt]=ot?Ae+"px":"",n[Lt]=at?K+"px":"",n.transform="",n))}var BA=NA({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function AA(t){var n=t.state,e=t.instance,i=t.options,s=i.scroll,c=void 0===s||s,h=i.resize,m=void 0===h||h,b=r(n.elements.popper),I=[].concat(n.scrollParents.reference,n.scrollParents.popper);return c&&I.forEach(function(S){S.addEventListener("scroll",e.update,gE)}),m&&b.addEventListener("resize",e.update,gE),function(){c&&I.forEach(function(S){S.removeEventListener("scroll",e.update,gE)}),m&&b.removeEventListener("resize",e.update,gE)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function OA(t){var n=t.state;n.modifiersData[t.name]=hS({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function xA(t){var n=t.state,e=t.options,i=e.gpuAcceleration,s=void 0===i||i,c=e.adaptive,h=void 0===c||c,m=e.roundOffsets,b=void 0===m||m,S={placement:Jo(n.placement),variation:Zp(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:s,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,vS(Object.assign({},S,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:b})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,vS(Object.assign({},S,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:b})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function LA(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},s=n.attributes[e]||{},c=n.elements[e];!a(c)||!He(c)||(Object.assign(c.style,i),Object.keys(s).forEach(function(h){var m=s[h];!1===m?c.removeAttribute(h):c.setAttribute(h,!0===m?"":m)}))})},effect:function VA(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var s=n.elements[i],c=n.attributes[i]||{},m=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(b,I){return b[I]="",b},{});!a(s)||!He(s)||(Object.assign(s.style,m),Object.keys(c).forEach(function(b){s.removeAttribute(b)}))})}},requires:["computeStyles"]}]});const jA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function GA(t){var n=t.state,i=t.name,s=t.options.offset,c=void 0===s?[0,0]:s,h=Rw.reduce(function(S,L){return S[L]=function HA(t,n,e){var i=Jo(t),s=[Co,qr].indexOf(i)>=0?-1:1,c="function"==typeof e?e(Object.assign({},n,{placement:t})):e,h=c[0],m=c[1];return h=h||0,m=(m||0)*s,[Co,Kr].indexOf(i)>=0?{x:m,y:h}:{x:h,y:m}}(L,n.rects,c),S},{}),m=h[n.placement],I=m.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=m.x,n.modifiersData.popperOffsets.y+=I),n.modifiersData[i]=h}};function $A(t,n){}function WA(t,n){if(1&t&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,$A,0,0,"ng-template",4),l.qZA()),2&t){const e=n.$implicit;l.Q6J("ngbPanelToggle",e),l.xp6(1),l.hij(" ",e.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function zA(t,n){}function YA(t,n){}function ZA(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(s){l.CHM(e);const c=l.oxw().$implicit;return l.KtG(c.panelDiv=s)}),l.TgZ(1,"div",9),l.YNc(2,YA,0,0,"ng-template",4),l.qZA()()}if(2&t){const e=l.oxw().$implicit;l.s9C("id",e.id),l.uIk("aria-labelledby",e.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const qA=function(t,n){return{$implicit:t,opened:n}};function KA(t,n){if(1&t&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,zA,0,0,"ng-template",6),l.qZA(),l.YNc(3,ZA,3,3,"div",7),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(),s=l.MAs(1);l.Tol("accordion-item "+(e.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),l.MGl("id","",e.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||s)("ngTemplateOutletContext",l.WLB(8,qA,e,e.isOpen)),l.xp6(1),l.Q6J("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}function JA(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.close())}),l.qZA()}}const _E=["*"];function QA(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const c=l.CHM(e).$implicit,h=l.oxw();return h.focus(),l.KtG(h.select(c.id,h.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&t){const e=n.$implicit,i=l.oxw();l.ekj("active",e.id===i.activeId),l.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function XA(t,n){}function eR(t,n){if(1&t&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,XA,0,0,"ng-template",10),l.qZA()),2&t){const e=n.$implicit,i=n.index,s=n.count;l.Q6J("id","slide-"+e.id),l.xp6(2),l.pQV(i+1)(s),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",e.tplRef)}}function tR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function nR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const iR=["ngbDatepickerDayView",""],rR=["month"],oR=["year"];function sR(t,n){if(1&t&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("value",e),l.uIk("aria-label",i.i18n.getMonthFullName(e,i.date.year)),l.xp6(1),l.Oqu(i.i18n.getMonthShortName(e,i.date.year))}}function aR(t,n){if(1&t&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("value",e),l.xp6(1),l.Oqu(i.i18n.getYearNumerals(e))}}function lR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.select.emit(s))}),l.qZA()}if(2&t){const e=l.oxw();l.Q6J("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function cR(t,n){1&t&&l._UZ(0,"div",0)}function uR(t,n){1&t&&l._UZ(0,"div",0)}function dR(t,n){if(1&t&&(l.YNc(0,cR,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,uR,1,0,"div",9)),2&t){const e=n.$implicit,i=n.index,s=l.oxw(2);l.Q6J("ngIf",i>0),l.xp6(2),l.hij(" ",s.i18n.getMonthLabel(e.firstDate)," "),l.xp6(1),l.Q6J("ngIf",i!==s.months.length-1)}}function hR(t,n){if(1&t&&l.YNc(0,dR,4,3,"ng-template",8),2&t){const e=l.oxw();l.Q6J("ngForOf",e.months)}}function fR(t,n){if(1&t&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&t){const e=l.oxw(2);l.xp6(1),l.Oqu(e.i18n.getWeekLabel())}}function pR(t,n){if(1&t&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&t){const e=n.$implicit;l.xp6(1),l.Oqu(e)}}function gR(t,n){if(1&t&&(l.TgZ(0,"div",2),l.YNc(1,fR,2,1,"div",3),l.YNc(2,pR,2,1,"div",4),l.qZA()),2&t){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",e.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.viewModel.weekdays)}}function _R(t,n){if(1&t&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&t){const e=l.oxw(2).$implicit,i=l.oxw();l.xp6(1),l.Oqu(i.i18n.getWeekNumerals(e.number))}}function mR(t,n){}function vR(t,n){if(1&t&&l.YNc(0,mR,0,0,"ng-template",14),2&t){const e=l.oxw().$implicit,i=l.oxw(3);l.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function yR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(s){const h=l.CHM(e).$implicit;return l.oxw(3).doSelect(h),l.KtG(s.preventDefault())}),l.YNc(1,vR,1,2,"ng-template",13),l.qZA()}if(2&t){const e=n.$implicit;l.ekj("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),l.Q6J("tabindex",e.tabindex),l.uIk("aria-label",e.ariaLabel),l.xp6(1),l.Q6J("ngIf",!e.hidden)}}function bR(t,n){if(1&t&&(l.TgZ(0,"div",8),l.YNc(1,_R,2,1,"div",9),l.YNc(2,yR,2,9,"div",10),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.days)}}function ER(t,n){1&t&&l.YNc(0,bR,3,2,"div",7),2&t&&l.Q6J("ngIf",!n.$implicit.collapsed)}const DR=["defaultDayTemplate"],CR=["content"];function wR(t,n){if(1&t&&l._UZ(0,"div",7),2&t){const i=n.currentMonth,s=n.selected,c=n.disabled,h=n.focused;l.Q6J("date",n.date)("currentMonth",i)("selected",s)("disabled",c)("focused",h)}}function IR(t,n){if(1&t&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw(2);l.xp6(1),l.hij(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function TR(t,n){if(1&t&&(l.TgZ(0,"div",9),l.YNc(1,IR,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),l.xp6(1),l.Q6J("month",e.firstDate)}}function SR(t,n){if(1&t&&l.YNc(0,TR,3,2,"div",8),2&t){const e=l.oxw();l.Q6J("ngForOf",e.model.months)}}function NR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.onNavigateEvent(s))})("select",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.onNavigateDateSelect(s))}),l.qZA()}if(2&t){const e=l.oxw();l.Q6J("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function AR(t,n){}function RR(t,n){}const OR=["dialog"],MR=["ngbNavOutlet",""];function PR(t,n){}const kR=function(t){return{$implicit:t}};function xR(t,n){if(1&t&&(l.TgZ(0,"div",2),l.YNc(1,PR,0,0,"ng-template",3),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.Q6J("item",e)("nav",i.nav)("role",i.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,kR,e.active||i.isPanelTransitioning(e)))}}function FR(t,n){if(1&t&&l.YNc(0,xR,2,7,"div",1),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("ngIf",e.isPanelInDom()||i.isPanelTransitioning(e))}}function LR(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function VR(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function UR(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function BR(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function HR(t,n){1&t&&l._uU(0,"...")}function GR(t,n){1&t&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function jR(t,n){if(1&t&&(l._uU(0),l.YNc(1,GR,2,0,"span",14)),2&t){const e=n.$implicit,i=n.currentPage;l.hij(" ",e," "),l.xp6(1),l.Q6J("ngIf",e===i)}}function $R(t,n){}const WR=function(t){return{disabled:!0,currentPage:t}};function zR(t,n){if(1&t&&(l.TgZ(0,"a",20),l.YNc(1,$R,0,0,"ng-template",8),l.qZA()),2&t){const e=l.oxw(2).$implicit,i=l.oxw(),s=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||s)("ngTemplateOutletContext",l.VKq(2,WR,e))}}function YR(t,n){}const ZR=function(t,n,e){return{disabled:t,$implicit:n,currentPage:e}};function qR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw().$implicit;return l.oxw(2).selectPage(c),l.KtG(s.preventDefault())}),l.YNc(1,YR,0,0,"ng-template",8),l.qZA()}if(2&t){const e=l.oxw().$implicit,i=l.oxw(),s=i.disabled,c=i.$implicit,h=l.oxw(),m=l.MAs(11);l.uIk("tabindex",s?"-1":null)("aria-disabled",s?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==h.tplNumber?null:h.tplNumber.templateRef)||m)("ngTemplateOutletContext",l.kEZ(4,ZR,s,e,c))}}function KR(t,n){if(1&t&&(l.TgZ(0,"li",17),l.YNc(1,zR,2,4,"a",18),l.YNc(2,qR,2,8,"a",19),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(),s=i.$implicit,c=i.disabled,h=l.oxw();l.ekj("active",e===s)("disabled",h.isEllipsis(e)||c),l.uIk("aria-current",e===s?"page":null),l.xp6(1),l.Q6J("ngIf",h.isEllipsis(e)),l.xp6(1),l.Q6J("ngIf",!h.isEllipsis(e))}}function JR(t,n){1&t&&l.YNc(0,KR,3,7,"li",16),2&t&&l.Q6J("ngForOf",n.pages)}function QR(t,n){}const Lw=function(t,n){return{disabled:t,currentPage:n}};function XR(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(s){return l.CHM(e),l.oxw().selectPage(1),l.KtG(s.preventDefault())}),l.YNc(2,QR,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(1);l.ekj("disabled",e.previousDisabled()),l.xp6(1),l.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,Lw,e.previousDisabled(),e.page))}}function eO(t,n){}const tO=function(t){return{disabled:t}};function nO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.page-1),l.KtG(s.preventDefault())}),l.YNc(2,eO,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(3);l.ekj("disabled",e.previousDisabled()),l.xp6(1),l.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",l.VKq(6,tO,e.previousDisabled()))}}function iO(t,n){}function rO(t,n){}function oO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.page+1),l.KtG(s.preventDefault())}),l.YNc(2,rO,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(5);l.ekj("disabled",e.nextDisabled()),l.xp6(1),l.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,Lw,e.nextDisabled(),e.page))}}function sO(t,n){}function aO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.pageCount),l.KtG(s.preventDefault())}),l.YNc(2,sO,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(7);l.ekj("disabled",e.nextDisabled()),l.xp6(1),l.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,Lw,e.nextDisabled(),e.page))}}const lO=function(t,n,e){return{$implicit:t,pages:n,disabled:e}};function dO(t,n){if(1&t&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&t){const e=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,e.getValue()/e.max)),l.QtT(1)}}function hO(t,n){1&t&&l._uU(0),2&t&&l.Oqu(100===n.fill?"\u2605":"\u2606")}function fO(t,n){}function pO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const c=l.CHM(e).index,h=l.oxw();return l.KtG(h.enter(c+1))})("click",function(){const c=l.CHM(e).index,h=l.oxw();return l.KtG(h.handleClick(c+1))}),l.YNc(3,fO,0,0,"ng-template",4),l.qZA()}if(2&t){const e=n.index,i=l.oxw(),s=l.MAs(1);l.xp6(1),l.hij("(",e<i.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",i.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||s)("ngTemplateOutletContext",i.contexts[e])}}function gO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeHour(s.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function _O(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeHour(-s.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function mO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeMinute(s.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function vO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeMinute(-s.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function yO(t,n){1&t&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function bO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.changeSecond(s.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&t){const e=l.oxw(2);l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function EO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.changeSecond(-s.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&t){const e=l.oxw(2);l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function DO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",19),l.YNc(1,bO,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.updateSecond(s.target.value))})("blur",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.handleBlur())})("input",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.formatInput(s.target))})("keydown.ArrowUp",function(s){l.CHM(e);const c=l.oxw();return c.changeSecond(c.secondStep),l.KtG(s.preventDefault())})("keydown.ArrowDown",function(s){l.CHM(e);const c=l.oxw();return c.changeSecond(-c.secondStep),l.KtG(s.preventDefault())}),l.qZA(),l.YNc(3,EO,4,7,"button",3),l.qZA()}if(2&t){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",e.spinners),l.xp6(1),l.ekj("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),l.Q6J("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),l.xp6(1),l.Q6J("ngIf",e.spinners)}}function CO(t,n){1&t&&l._UZ(0,"div",5)}function wO(t,n){if(1&t&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&t){const e=l.oxw(2);l.xp6(1),l.pQV(e.i18n.getAfternoonPeriod()),l.QtT(1)}}function IO(t,n){if(1&t&&l.SDv(0,28),2&t){const e=l.oxw(2);l.pQV(e.i18n.getMorningPeriod()),l.QtT(0)}}function TO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.toggleMeridian())}),l.YNc(2,wO,2,1,"ng-container",25),l.YNc(3,IO,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&t){const e=l.MAs(4),i=l.oxw();l.xp6(1),l.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",e)}}function SO(t,n){if(1&t&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&t){const e=l.oxw();l.xp6(1),l.Oqu(e.header)}}function NO(t,n){}function AO(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",4),l.YNc(1,NO,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.hide())}),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",e.contentHeaderTpl||i)}}function RO(t,n){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.Tol(i.highlightClass),l.xp6(1),l.Oqu(e)}}function OO(t,n){if(1&t&&l._uU(0),2&t){const e=l.oxw().$implicit;l.Oqu(e)}}function MO(t,n){if(1&t&&(l.YNc(0,RO,2,3,"span",1),l.YNc(1,OO,1,1,"ng-template",null,2,l.W1O)),2&t){const e=n.odd,i=l.MAs(2);l.Q6J("ngIf",e)("ngIfElse",i)}}function Ir(t){return parseInt(`${t}`,10)}function yS(t){return null!=t?`${t}`:""}function mE(t,n,e=0){return Math.max(Math.min(t,n),e)}function Jm(t){return"string"==typeof t}function yi(t){return!isNaN(Ir(t))}function oi(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function vh(t){return null!=t}function qp(t){return yi(t)?`0${t}`.slice(-2):""}function ES(t,n){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(n)>=0}function Kp(t){return(t||document.body).getBoundingClientRect()}function DS(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const CS={animation:!0,transitionTimerDelayMs:5},UO=()=>{},{transitionTimerDelayMs:BO}=CS,Qm=new Map,fr=(t,n,e,i)=>{let s=i.context||{};const c=Qm.get(n);if(c)switch(i.runningTransition){case"continue":return Ko.E;case"stop":t.run(()=>c.transition$.complete()),s=Object.assign(c.context,s),Qm.delete(n)}const h=e(n,i.animation,s)||UO;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),nt(void 0).pipe(function LO(t){return n=>new Ii.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const m=new Rn.x,b=new Rn.x,I=m.pipe(function cm(...t){return n=>sh(n,nt(...t))}(!0));Qm.set(n,{transition$:m,complete:()=>{b.next(),b.complete()},context:s});const S=function VO(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const L=er(n,"transitionend").pipe(rn(I),Ri(({target:K})=>K===n));lb(Cp(S+BO).pipe(rn(I)),L,b).pipe(rn(I)).subscribe(()=>{Qm.delete(n),t.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()},wS=(t,n,e)=>{let{direction:i,maxSize:s,dimension:c}=e;const{classList:h}=t;function m(){h.add("collapse"),"show"===i?h.add("show"):h.remove("show")}if(n)return s||(s=function GO(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const s=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),s}(t,c),e.maxSize=s,t.style[c]="show"!==i?s:"0px",h.remove("collapse"),h.remove("collapsing"),h.remove("show"),Kp(t),h.add("collapsing")),t.style[c]="show"===i?s:"0px",()=>{m(),h.remove("collapsing"),t.style[c]=""};m()};let Jp=(()=>{class t{constructor(){this.animation=CS.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jO=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$O=0,Vw=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),t})(),IS=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),t})(),TS=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),t})(),Uw=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+$O++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,i,s){if(1&e&&(l.Suo(s,IS,4),l.Suo(s,Vw,4),l.Suo(s,TS,4)),2&e){let c;l.iGM(c=l.CRH())&&(i.titleTpls=c),l.iGM(c=l.CRH())&&(i.headerTpls=c),l.iGM(c=l.CRH())&&(i.contentTpls=c)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),t})(),WO=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),t})(),SS=(()=>{class t{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>Bw)),l.Y36(Uw,9))},t.\u0275dir=l.lG2({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(l.Ikx("disabled",i.panel.disabled),l.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),l.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),t})(),Bw=(()=>{class t{constructor(e,i,s){this._ngZone=i,this._changeDetector=s,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Jm(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(mi(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,fr(this._ngZone,i,wS,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide",dimension:"height"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let s=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{s=!0}}),s||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(s=>{s.id!==e&&s.isOpen&&(s.isOpen=!1,s.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&fr(this._ngZone,i.panelDiv,wS,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:c}=i;i.isOpen?(i.shown.emit(),this.shown.emit(c)):(i.hidden.emit(),this.hidden.emit(c))})})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(jO),l.Y36(l.R0b),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,Uw,4),2&e){let c;l.iGM(c=l.CRH())&&(i.panels=c)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(l.YNc(0,WA,3,3,"ng-template",0,1,l.W1O),l.YNc(2,KA,4,11,"ng-template",2)),2&e&&(l.xp6(2),l.Q6J("ngForOf",i.panels))},dependencies:[ci,Sr,SS,WO,Vw,jn],encapsulation:2}),t})(),NS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[Bw]}),t})();const zO=({classList:t})=>{t.remove("show")};let YO=(()=>{class t{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZO=(()=>{class t{constructor(e,i,s,c){this._renderer=i,this._element=s,this._zone=c,this.closed=new l.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=fr(this._zone,this._element.nativeElement,zO,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const i=e.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(YO),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:_E,decls:2,vars:1,consts:function(){let n;return n=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",n,3,"click",4,"ngIf"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(l.F$t(),l.Hsn(0),l.YNc(1,JA,1,0,"button",0)),2&e&&(l.xp6(1),l.Q6J("ngIf",i.dismissible))},dependencies:[jn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),t})(),AS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[ZO]}),t})();var $u=(()=>{return(t=$u||($u={})).START="start",t.END="end",$u;var t})();const RS=({classList:t})=>t.contains("carousel-item-start")||t.contains("carousel-item-end"),Xm=t=>{t.remove("carousel-item-start"),t.remove("carousel-item-end")},vE=t=>{Xm(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},qO=(t,n,{direction:e})=>{const{classList:i}=t;return n?(RS(t)?Xm(i):(i.add("carousel-item-"+(e===$u.START?"next":"prev")),Kp(t),i.add("carousel-item-"+e)),()=>{vE(i),i.add("active")}):(Xm(i),vE(i),void i.add("active"))},KO=(t,n,{direction:e})=>{const{classList:i}=t;return n?(RS(t)?Xm(i):i.add("carousel-item-"+e),()=>{vE(i),i.remove("active")}):(Xm(i),vE(i),void i.remove("active"))};let JO=(()=>{class t{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QO=0,XO=(()=>{class t{constructor(e){this.tplRef=e,this.id="ngb-slide-"+QO++,this.slid=new l.vpe}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),t})(),eM=(()=>{class t{constructor(e,i,s,c,h){this._platformId=i,this._ngZone=s,this._cd=c,this._container=h,this.NgbSlideEventSource=yh,this._destroy$=new Rn.x,this._interval$=new ji(0),this._mouseHover$=new ji(!1),this._focused$=new ji(!1),this._pauseOnHover$=new ji(!1),this._pauseOnFocus$=new ji(!1),this._pause$=new ji(!1),this._wrap$=new ji(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(yh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(yh.ARROW_RIGHT)}ngAfterContentInit(){(function Rr(t){return t===Fi})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=wp([this.slide.pipe((0,ut.U)(i=>i.current),Tp(this.activeId)),this._wrap$,this.slides.changes.pipe(Tp(null))]).pipe((0,ut.U)(([i,s])=>{const c=this.slides.toArray(),h=this._getSlideIdxById(i);return s?c.length>1:h<c.length-1}),B());wp([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,ut.U)(([i,s,c,h,m,b,I])=>i||s&&c||h&&m||!I?0:b),B(),sn(i=>i>0?Cp(i,i):fb),rn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(yh.TIMER)))}),this.slides.changes.pipe(rn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(t=>{Qm.get(t)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(mi(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),$u.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),$u.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,s){const c=this._transitionIds;if(c&&(c[0]!==e||c[1]!==this.activeId))return;let h=this._getSlideById(e);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:h.id,direction:i,paused:this._pause$.value,source:s});const m={animation:this.animation,runningTransition:"stop",context:{direction:i}},b=[],I=this._getSlideById(this.activeId);if(I){const K=fr(this._ngZone,this._getSlideElement(I.id),KO,m);K.subscribe(()=>{I.slid.emit({isShown:!1,direction:i,source:s})}),b.push(K)}const S=this.activeId;this.activeId=h.id;const L=this._getSlideById(this.activeId),H=fr(this._ngZone,this._getSlideElement(h.id),qO,m);H.subscribe(()=>{L?.slid.emit({isShown:!0,direction:i,source:s})}),b.push(H),Ip(...b).pipe(mi(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:S,current:h.id,direction:i,paused:this._pause$.value,source:s})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?$u.END:$u.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return s===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[s+1].id}_getPrevSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return 0===s?this.wrap?i[i.length-1].id:i[0].id:i[s-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(JO),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-carousel"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,XO,4),2&e){let c;l.iGM(c=l.CRH())&&(i.slides=c)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(l.uIk("aria-activedescendant","slide-"+i.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let n,e,i;return n=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],n,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,QA,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,eR,4,4,"div",3),l.qZA(),l.YNc(4,tR,4,0,"button",4),l.YNc(5,nR,4,0,"button",5)),2&e&&(l.ekj("visually-hidden",!i.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",i.slides),l.xp6(2),l.Q6J("ngForOf",i.slides),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows))},dependencies:[ci,Sr,jn],encapsulation:2,changeDetection:0}),t})();var yh=(()=>{return(t=yh||(yh={})).TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",yh;var t})();let OS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[eM]}),t})(),MS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();class ir{constructor(n,e,i){this.year=oi(n)?n:null,this.month=oi(e)?e:null,this.day=oi(i)?i:null}static from(n){return n instanceof ir?n:n?new ir(n.year,n.month,n.day):null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function Qp(t,n){return!function tM(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function PS(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function yE(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function Hw(t,n){const{minDate:e,maxDate:i,disabled:s,markDisabled:c}=n;return!(null==t||s||c&&c(t,{year:t.year,month:t.month})||e&&t.before(e)||i&&t.after(i))}function kS(t){return new ir(t.getFullYear(),t.getMonth()+1,t.getDate())}function bE(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let EE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function uM(){return new dM}()},providedIn:"root"}),t})(),dM=(()=>{class t extends EE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",s=1){let c=bE(e),h=!0,m=c.getMonth();switch(i){case"y":c.setFullYear(c.getFullYear()+s);break;case"m":m+=s,c.setMonth(m),m%=12,m<0&&(m+=12);break;case"d":c.setDate(c.getDate()+s),h=!1;break;default:return e}return h&&c.getMonth()!==m&&c.setDate(0),kS(c)}getPrev(e,i="d",s=1){return this.getNext(e,i,-s)}getWeekday(e){let s=bE(e).getDay();return 0===s?7:s}getWeekNumber(e,i){7===i&&(i=0);const h=bE(e[(11-i)%7]);h.setDate(h.getDate()+4-(h.getDay()||7));const m=h.getTime();return h.setMonth(0),h.setDate(1),Math.floor(Math.round((m-h.getTime())/864e5)/7)+1}getToday(){return kS(new Date)}isValid(e){if(!(e&&oi(e.year)&&oi(e.month)&&oi(e.day)&&0!==e.year))return!1;const i=bE(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),bh=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function hM(t){return new fM(t)}(l.LFG(l.soG)),i},providedIn:"root"}),t})(),fM=(()=>{class t extends bh{constructor(e){super(),this._locale=e,this._monthsShort=Pe(e,Be.Standalone,Me.Abbreviated),this._monthsFull=Pe(e,Be.Standalone,Me.Wide)}getWeekdayLabel(e,i){const s=Te(this._locale,Be.Standalone,void 0===i?Me.Short:i);return s.map((h,m)=>s[(m+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return ln(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Gw=(()=>{class t{constructor(e,i){this._calendar=e,this._i18n=i,this._VALIDATORS={dayTemplateData:s=>{if(this._state.dayTemplateData!==s)return{dayTemplateData:s}},displayMonths:s=>{if(oi(s=Ir(s))&&s>0&&this._state.displayMonths!==s)return{displayMonths:s}},disabled:s=>{if(this._state.disabled!==s)return{disabled:s}},firstDayOfWeek:s=>{if(oi(s=Ir(s))&&s>=0&&this._state.firstDayOfWeek!==s)return{firstDayOfWeek:s}},focusVisible:s=>{if(this._state.focusVisible!==s&&!this._state.disabled)return{focusVisible:s}},markDisabled:s=>{if(this._state.markDisabled!==s)return{markDisabled:s}},maxDate:s=>{const c=this.toValidDate(s,null);if(Qp(this._state.maxDate,c))return{maxDate:c}},minDate:s=>{const c=this.toValidDate(s,null);if(Qp(this._state.minDate,c))return{minDate:c}},navigation:s=>{if(this._state.navigation!==s)return{navigation:s}},outsideDays:s=>{if(this._state.outsideDays!==s)return{outsideDays:s}},weekdays:s=>{const c=!0===s||!1===s?Me.Short:s,h=!0!==s&&!1!==s||s;if(this._state.weekdayWidth!==c||this._state.weekdaysVisible!==h)return{weekdayWidth:c,weekdaysVisible:h}}},this._model$=new Rn.x,this._dateSelect$=new Rn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Me.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Ri(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ri(e=>null!==e))}set(e){let i=Object.keys(e).map(s=>this._VALIDATORS[s](e[s])).reduce((s,c)=>({...s,...c}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&Qp(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){Hw(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||PS(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const s=this.toValidDate(e,null);null!=s&&!this._state.disabled&&(Qp(this._state.selectedDate,s)&&this._nextState({selectedDate:s}),i.emitEvent&&Hw(s,this._state)&&this._dateSelect$.next(s))}toValidDate(e,i){const s=ir.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(s)?s:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:s,selectedDate:c,focusDate:h,focusVisible:m,disabled:b,outsideDays:I}=e;e.months.forEach(S=>{S.weeks.forEach(L=>{L.days.forEach(H=>{h&&(H.context.focused=h.equals(H.date)&&m),H.tabindex=!b&&h&&H.date.equals(h)&&h.month===S.number?0:-1,!0===b&&(H.context.disabled=!0),void 0!==c&&(H.context.selected=null!==c&&c.equals(H.date)),S.number!==H.date.month&&(H.hidden="hidden"===I||"collapsed"===I||s>1&&H.date.after(i[0].firstDate)&&H.date.before(i[s-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let s=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function nM(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(i.minDate,i.maxDate),i.focusDate=yE(i.focusDate,i.minDate,i.maxDate),i.firstDate=yE(i.firstDate,i.minDate,i.maxDate),s=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(s=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=yE(i.focusDate,i.minDate,i.maxDate),s=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=yE(i.firstDate,i.minDate,i.maxDate),s=i.firstDate),s){const h=function aM(t,n,e,i,s){const{displayMonths:c,months:h}=e,m=h.splice(0,h.length);return Array.from({length:c},(I,S)=>{const L=Object.assign(t.getNext(n,"m",S),{day:1});if(h[S]=null,!s){const H=m.findIndex(K=>K.firstDate.equals(L));-1!==H&&(h[S]=m.splice(H,1)[0])}return L}).forEach((I,S)=>{null===h[S]&&(h[S]=function lM(t,n,e,i,s={}){const{dayTemplateData:c,minDate:h,maxDate:m,firstDayOfWeek:b,markDisabled:I,outsideDays:S,weekdayWidth:L,weekdaysVisible:H}=e,K=t.getToday();s.firstDate=null,s.lastDate=null,s.number=n.month,s.year=n.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],n=function cM(t,n,e){const i=t.getDaysPerWeek(),s=new ir(n.year,n.month,1),c=t.getWeekday(s)%i;return t.getPrev(s,"d",(i+c-e)%i)}(t,n,b),H||(s.weekdays.length=0);for(let _e=0;_e<t.getWeeksPerMonth();_e++){let Ae=s.weeks[_e];Ae||(Ae=s.weeks[_e]={number:0,days:[],collapsed:!0});const Ue=Ae.days;for(let at=0;at<t.getDaysPerWeek();at++){0===_e&&H&&(s.weekdays[at]=i.getWeekdayLabel(t.getWeekday(n),L));const ot=new ir(n.year,n.month,n.day),Lt=t.getNext(ot),pt=i.getDayAriaLabel(ot);let Nt=!!(h&&ot.before(h)||m&&ot.after(m));!Nt&&I&&(Nt=I(ot,{month:s.number,year:s.year}));let Gt=ot.equals(K),Hn=c?c(ot,{month:s.number,year:s.year}):void 0;null===s.firstDate&&ot.month===s.number&&(s.firstDate=ot),ot.month===s.number&&Lt.month!==s.number&&(s.lastDate=ot);let Cn=Ue[at];Cn||(Cn=Ue[at]={}),Cn.date=ot,Cn.context=Object.assign(Cn.context||{},{$implicit:ot,date:ot,data:Hn,currentMonth:s.number,currentYear:s.year,disabled:Nt,focused:!1,selected:!1,today:Gt}),Cn.tabindex=-1,Cn.ariaLabel=pt,Cn.hidden=!1,n=Lt}Ae.number=t.getWeekNumber(Ue.map(at=>at.date),b),Ae.collapsed="collapsed"===S&&Ue[0].date.month!==s.number&&Ue[Ue.length-1].date.month!==s.number}return s}(t,I,e,i,m.shift()||{}))}),h}(this._calendar,s,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=h,i.firstDate=h[0].firstDate,i.lastDate=h[h.length-1].lastDate,"selectedDate"in e&&!Hw(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=s);const m=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,b=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||m)&&(i.selectBoxes.years=function rM(t,n,e){if(!t)return[];const i=n?Math.max(n.year,t.year-500):t.year-10,c=(e?Math.min(e.year,t.year+500):t.year+10)-i+1,h=Array(c);for(let m=0;m<c;m++)h[m]=i+m;return h}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||m)&&(i.selectBoxes.months=function iM(t,n,e,i){if(!n)return[];let s=t.getMonths(n.year);if(e&&n.year===e.year){const c=s.findIndex(h=>h===e.month);s=s.slice(c)}if(i&&n.year===i.year){const c=s.findIndex(h=>h===i.month);s=s.slice(0,c+1)}return s}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(b||m||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function sM(t,n,e){const i=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function oM(t,n,e){const i=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(EE),l.LFG(bh))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var Xp=(()=>{return(t=Xp||(Xp={}))[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",Xp;var t})();let pM=(()=>{class t{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(bh))},t.\u0275cmp=l.Xpm({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,i){2&e&&l.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:iR,decls:1,vars:1,template:function(e,i){1&e&&l._uU(0),2&e&&l.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),gM=(()=>{class t{constructor(e,i){this.i18n=e,this._renderer=i,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new ir(this.date.year,Ir(e),1))}changeYear(e){this.select.emit(new ir(Ir(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(bh),l.Y36(l.Qsj))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,i){if(1&e&&(l.Gf(rR,7,l.SBq),l.Gf(oR,7,l.SBq)),2&e){let s;l.iGM(s=l.CRH())&&(i.monthSelect=s.first),l.iGM(s=l.CRH())&&(i.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let n,e,i,s;return n=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,s=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",s,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,i){1&e&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(c){return i.changeMonth(c.target.value)}),l.YNc(2,sR,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(c){return i.changeYear(c.target.value)}),l.YNc(5,aR,2,2,"option",2),l.qZA()),2&e&&(l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.months),l.xp6(1),l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.years))},dependencies:[ci],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),t})(),_M=(()=>{class t{constructor(e){this.i18n=e,this.navigation=Xp,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(bh))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let n,e,i,s;return n=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,s=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(c){return i.onClickPrev(c)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,lR,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,hR,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(c){return i.onClickNext(c)}),l._UZ(7,"span",2),l.qZA()()),2&e&&(l.xp6(1),l.Q6J("disabled",i.prevDisabled),l.xp6(2),l.Q6J("ngIf",i.showSelect),l.xp6(1),l.Q6J("ngIf",!i.showSelect),l.xp6(2),l.Q6J("disabled",i.nextDisabled))},dependencies:[jn,ci,gM],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),t})();var tn=(()=>{return(t=tn||(tn={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",tn;var t})();let mM=(()=>{class t{processKey(e,i){const{state:s,calendar:c}=i;switch(e.which){case tn.PageUp:i.focusDate(c.getPrev(s.focusedDate,e.shiftKey?"y":"m",1));break;case tn.PageDown:i.focusDate(c.getNext(s.focusedDate,e.shiftKey?"y":"m",1));break;case tn.End:i.focusDate(e.shiftKey?s.maxDate:s.lastDate);break;case tn.Home:i.focusDate(e.shiftKey?s.minDate:s.firstDate);break;case tn.ArrowLeft:i.focusDate(c.getPrev(s.focusedDate,"d",1));break;case tn.ArrowUp:i.focusDate(c.getPrev(s.focusedDate,"d",c.getDaysPerWeek()));break;case tn.ArrowRight:i.focusDate(c.getNext(s.focusedDate,"d",1));break;case tn.ArrowDown:i.focusDate(c.getNext(s.focusedDate,"d",c.getDaysPerWeek()));break;case tn.Enter:case tn.Space:i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jw=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Me.Short}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function vM(){return new yM}()},providedIn:"root"}),t})(),yM=(()=>{class t extends $w{fromModel(e){return e&&oi(e.year)&&oi(e.month)&&oi(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&oi(e.year)&&oi(e.month)&&oi(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),xS=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),t})(),Ww=(()=>{class t{constructor(e,i,s,c){this.i18n=e,this.datepicker=i,this._keyboardService=s,this._service=c}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(bh),l.Y36((0,l.Gpc)(()=>DE)),l.Y36(mM),l.Y36(Gw))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(c){return i.onKeyDown(c)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(l.YNc(0,gR,3,2,"div",0),l.YNc(1,ER,1,1,"ng-template",1)),2&e&&(l.Q6J("ngIf",i.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[jn,ci,Sr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),t})(),DE=(()=>{class t{constructor(e,i,s,c,h,m,b,I){this._service=e,this._calendar=i,this.i18n=s,this._elementRef=m,this._ngbDateAdapter=b,this._ngZone=I,this._controlValue=null,this._destroyed$=new Rn.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=S=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(S=>this[S]=c[S]),e.dateSelect$.pipe(rn(this._destroyed$)).subscribe(S=>{this.dateSelect.emit(S)}),e.model$.pipe(rn(this._destroyed$)).subscribe(S=>{const L=S.firstDate,H=this.model?this.model.firstDate:null;this._publicState={maxDate:S.maxDate,minDate:S.minDate,firstDate:S.firstDate,lastDate:S.lastDate,focusedDate:S.focusDate,months:S.months.map(at=>at.firstDate)};let K=!1;if(!L.equals(H)&&(this.navigate.emit({current:H?{year:H.year,month:H.month}:null,next:{year:L.year,month:L.month},preventDefault:()=>K=!0}),K&&null!==H))return void this._service.open(H);const _e=S.selectedDate,Ae=S.focusDate,Ue=this.model?this.model.focusDate:null;this.model=S,Qp(_e,this._controlValue)&&(this._controlValue=_e,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(_e))),Qp(Ae,Ue)&&Ue&&S.focusVisible&&this.focus(),h.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(ir.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(mi(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(ir.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=er(this._contentEl.nativeElement,"focusin"),i=er(this._contentEl.nativeElement,"focusout"),{nativeElement:s}=this._elementRef;(0,Fr.T)(e,i).pipe(Ri(({target:c,relatedTarget:h})=>!(ES(c,"ngb-dp-day")&&ES(h,"ngb-dp-day")&&s.contains(c)&&s.contains(h))),rn(this._destroyed$)).subscribe(({type:c})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===c})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(s=>s in e).forEach(s=>i[s]=this[s]),this._service.set(i),"startDate"in e){const{currentValue:s,previousValue:c}=e.startDate;PS(c,s)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Xp.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Xp.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=ir.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Gw),l.Y36(EE),l.Y36(bh),l.Y36(jw),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36($w),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,xS,7),2&e){let c;l.iGM(c=l.CRH())&&(i.contentTemplate=c.first)}},viewQuery:function(e,i){if(1&e&&(l.Gf(DR,7),l.Gf(CR,7)),2&e){let s;l.iGM(s=l.CRH())&&(i._defaultDayTemplate=s.first),l.iGM(s=l.CRH())&&(i._contentEl=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:wr,useExisting:(0,l.Gpc)(()=>t),multi:!0},Gw]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,i){if(1&e&&(l.YNc(0,wR,1,5,"ng-template",null,0,l.W1O),l.YNc(2,SR,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,NR,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,AR,0,0,"ng-template",6),l.qZA(),l.YNc(9,RR,0,0,"ng-template",6)),2&e){const s=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==i.navigation),l.xp6(1),l.ekj("ngb-dp-months",!i.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||s),l.xp6(1),l.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[jn,ci,Sr,pM,Ww,_M],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),t})();const CE=(t,n)=>!!n&&n.some(e=>e.contains(t)),FS=(t,n)=>!n||null!=function FO(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),bM=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),EM=t=>bM?()=>setTimeout(()=>t(),100):t;function LS(t,n,e,i,s,c,h,m){e&&t.runOutsideAngular(EM(()=>{const I=er(n,"keydown").pipe(rn(s),Ri(H=>H.which===tn.Escape),(0,vi.b)(H=>H.preventDefault())),S=er(n,"mousedown").pipe((0,ut.U)(H=>{const K=H.target;return 2!==H.button&&!CE(K,h)&&("inside"===e?CE(K,c)&&FS(K,m):"outside"===e?!CE(K,c):FS(K,m)||!CE(K,c))}),rn(s)),L=er(n,"mouseup").pipe(Se(S),Ri(([H,K])=>K),function nw(t,n=za.z){const e=Cp(t,n);return gb(()=>e)}(0),rn(s));lb([I.pipe((0,ut.U)(H=>0)),L.pipe((0,ut.U)(H=>1))]).subscribe(H=>t.run(()=>i(H)))}))}const VS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function US(t){const n=Array.from(t.querySelectorAll(VS)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}let DM=(()=>{class t{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const CM=/\s+/,wM=/  +/gi,IM={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},SM=/^left/,NM=/^right/,AM=/^start/,RM=/^end/;function HS({placement:t,baseClass:n},e){let i=Array.isArray(t)?t:t.split(CM),c=i.findIndex(I=>"auto"===I);c>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(I){null==i.find(S=>-1!==S.search("^"+I))&&i.splice(c++,1,I)});const h=i.map(I=>function TM(t,n){const[e,i]=IM[t];return n&&i||e}(I,e.isRTL()));return{placement:h.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:I}){const S=new RegExp(n+"(-[a-z]+)*","gi"),L=I.elements.popper,H=I.placement;let K=L.className;K=K.replace(S,""),K+=` ${function OM(t,n){let[e,i]=n.split("-");const s=e.replace(SM,"start").replace(NM,"end");let c=[s];if(i){let h=i;("left"===e||"right"===e)&&(h=h.replace(AM,"top").replace(RM,"bottom")),c.push(`${s}-${h}`)}return t&&(c=c.map(h=>`${t}-${h}`)),c.join(" ")}(n,H)}`,K=K.trim().replace(wM," "),L.className=K}},dA,gA,yA,{enabled:!0,name:"flip",options:{fallbackPlacements:h}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function GS(t){return t}new Date(1882,10,12),new Date(2174,10,25);let QS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[DE,Ww]}),t})(),GM=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["",8,"navbar"]],standalone:!0}),t})(),XS=(()=>{class t{constructor(e,i){this.elementRef=e,this._renderer=i,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,i){2&e&&(l.Ikx("tabIndex",i.disabled?-1:0),l.ekj("disabled",i.disabled))},inputs:{disabled:"disabled"},standalone:!0}),t})(),Kw=(()=>{class t{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>nv)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,XS,4),2&e){let c;l.iGM(c=l.CRH())&&(i.menuItems=c)}},hostVars:4,hostBindings:function(e,i){1&e&&l.NdJ("keydown.ArrowUp",function(c){return i.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return i.dropdown.onKeyDown(c)})("keydown.Home",function(c){return i.dropdown.onKeyDown(c)})("keydown.End",function(c){return i.dropdown.onKeyDown(c)})("keydown.Enter",function(c){return i.dropdown.onKeyDown(c)})("keydown.Space",function(c){return i.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return i.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return i.dropdown.onKeyDown(c)}),2&e&&l.ekj("dropdown-menu",!0)("show",i.dropdown.isOpen())},standalone:!0}),t})(),SE=(()=>{class t{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>nv)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("aria-expanded",i.dropdown.isOpen())},standalone:!0}),t})(),e1=(()=>{class t extends SE{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>nv)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(c){return i.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return i.dropdown.onKeyDown(c)})("keydown.Home",function(c){return i.dropdown.onKeyDown(c)})("keydown.End",function(c){return i.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return i.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return i.dropdown.onKeyDown(c)}),2&e&&l.uIk("aria-expanded",i.dropdown.isOpen())},standalone:!0,features:[l._Bn([{provide:SE,useExisting:(0,l.Gpc)(()=>t)}]),l.qOj]}),t})(),nv=(()=>{class t{constructor(e,i,s,c,h,m,b){this._changeDetector=e,this._document=s,this._ngZone=c,this._elementRef=h,this._renderer=m,this._destroyCloseHandlers$=new Rn.x,this._bodyContainer=null,this._open=!1,this.openChange=new l.vpe,this.placement=i.placement,this.popperOptions=i.popperOptions,this.container=i.container,this.autoClose=i.autoClose,this._positioning=function jS(){const t=(0,l.f3M)(DM);let n=null;return{createPopper(e){if(!n){let s=(e.updatePopperOptions||GS)(HS(e,t));n=BA(e.hostElement,e.targetElement,s)}},update(){n&&n.update()},setOptions(e){if(n){let s=(e.updatePopperOptions||GS)(HS(e,t));n.setOptions(s)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.display=b?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(mi(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:i,previousValue:s}=e.dropdownClass;this._applyCustomDropdownClass(i,s)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:e=>this.popperOptions(function WS(t){return n=>(n.modifiers.push(jA,{name:"offset",options:{offset:()=>t}}),n)}([0,2])(e))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),LS(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const i=e.which,s=this._getMenuElements();let c=-1,h=null;const m=this._isEventFromToggle(e);if(!m&&s.length&&s.forEach((b,I)=>{b.contains(e.target)&&(h=b),b===this._document.activeElement&&(c=I)}),i!==tn.Space&&i!==tn.Enter){if(i!==tn.Tab){if(m||h){if(this.open(),s.length){switch(i){case tn.ArrowDown:c=Math.min(c+1,s.length-1);break;case tn.ArrowUp:if(this._isDropup()&&-1===c){c=s.length-1;break}c=Math.max(c-1,0);break;case tn.Home:c=0;break;case tn.End:c=s.length-1}s[c].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const b=this._menu.nativeElement.querySelectorAll(VS);e.shiftKey&&e.target===b[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===b[b.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else er(e.target,"focusout").pipe(mi(1)).subscribe(({relatedTarget:b})=>{this._elementRef.nativeElement.contains(b)||this.close()})}}else h&&(!0===this.autoClose||"inside"===this.autoClose)&&er(h,"click").pipe(mi(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;this._menu&&e.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,s=this._menu.nativeElement,c=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(c,"position","absolute"),i.setStyle(s,"position","static"),i.setStyle(c,"z-index","1055"),i.appendChild(c,s),i.appendChild(this._document.body,c)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const s="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;s&&(i&&this._renderer.removeClass(s,i),e&&this._renderer.addClass(s,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const s=this._renderer,c=this._elementRef.nativeElement;s.removeClass(c,"dropup"),s.removeClass(c,"dropdown");const{nativeElement:h}=i;"static"===this.display?(i.placement=null,s.setAttribute(h,"data-bs-popper","static")):(i.placement=e,s.removeAttribute(h,"data-bs-popper"));const m=-1!==e.search("^top")?"dropup":"dropdown";s.addClass(c,m);const b=this._bodyContainer;b&&(s.removeClass(b,"dropup"),s.removeClass(b,"dropdown"),s.addClass(b,m))}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.sBO),l.Y36(GM),l.Y36(ie),l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(qw,8))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,s){if(1&e&&(l.Suo(s,Kw,5),l.Suo(s,SE,5)),2&e){let c;l.iGM(c=l.CRH())&&(i._menu=c.first),l.iGM(c=l.CRH())&&(i._anchor=c.first)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[l.TTD]}),t})(),t1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();class Ch{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let jM=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(mi(1)).subscribe(()=>{fr(this._zone,this._el.nativeElement,(e,i)=>{i&&Kp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class n1{close(n){}dismiss(n){}}class $M{constructor(n,e,i,s){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new Rn.x,this._dismissed=new Rn.x,this._hidden=new Rn.x,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(rn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(rn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function bS(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():nt(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ip(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var iv=(()=>{return(t=iv||(iv={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",iv;var t})();let WM=(()=>{class t{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new Rn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Rn.x,this.hidden=new Rn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(mi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=Ip(fr(this._zone,e,()=>e.classList.remove("show"),i),fr(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Ip(fr(this._zone,this._elRef.nativeElement,(c,h)=>{h&&Kp(c),c.classList.add("show")},e),fr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{er(e,"keydown").pipe(rn(this._closed$),Ri(s=>s.which===tn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(iv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;er(this._dialogEl.nativeElement,"mousedown").pipe(rn(this._closed$),(0,vi.b)(()=>i=!1),sn(()=>er(e,"mouseup").pipe(rn(this._closed$),mi(1))),Ri(({target:s})=>e===s)).subscribe(()=>{i=!0}),er(e,"click").pipe(rn(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(iv.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=US(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ie),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&l.Gf(OR,7),2&e){let s;l.iGM(s=l.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:_E,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&e&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),zM=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:c,paddingRight:h}=s;if(e>0){const m=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${m+e}px`}return s.overflow="hidden",()=>{e>0&&(s.paddingRight=h),s.overflow=c}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ie))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YM=(()=>{class t{constructor(e,i,s,c,h,m,b){this._applicationRef=e,this._injector=i,this._environmentInjector=s,this._document=c,this._scrollBar=h,this._rendererFactory=m,this._ngZone=b,this._activeWindowCmptHasChanged=new Rn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const s=er(n,"focusin").pipe(rn(e),(0,ut.U)(c=>c.target));er(n,"keydown").pipe(rn(e),Ri(c=>c.which===tn.Tab),Se(s)).subscribe(([c,h])=>{const[m,b]=US(n);(h===m||h===n)&&c.shiftKey&&(b.focus(),c.preventDefault()),h===b&&!c.shiftKey&&(m.focus(),c.preventDefault())}),i&&er(n,"click").pipe(rn(e),Se(s),(0,ut.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,s){const c=s.container instanceof HTMLElement?s.container:vh(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new n1,b=(e=s.injector||e).get(l.lqb,null)||this._environmentInjector,I=this._getContentRef(e,b,i,m,s);let S=!1!==s.backdrop?this._attachBackdrop(c):void 0,L=this._attachWindowComponent(c,I.nodes),H=new $M(L,I,S,s.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(L),H.hidden.pipe(mi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=K=>{H.close(K)},m.dismiss=K=>{H.dismiss(K)},this._applyWindowOptions(L.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),S&&S.instance&&(this._applyBackdropOptions(S.instance,s),S.changeDetectorRef.detectChanges()),L.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,l.LMc)(jM,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let s=(0,l.LMc)(WM,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{vh(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{vh(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,c,h){return s?s instanceof l.Rgc?this._createFromTemplateRef(s,c):Jm(s)?this._createFromString(s):this._createFromComponent(e,i,s,c,h):new Ch([])}_createFromTemplateRef(e,i){const c=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(c),new Ch([c.rootNodes],c)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ch([[i]])}_createFromComponent(e,i,s,c,h){const m=l.zs3.create({providers:[{provide:n1,useValue:c}],parent:e}),b=(0,l.LMc)(s,{environmentInjector:i,elementInjector:m}),I=b.location.nativeElement;return h.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Ch([[I]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ie),l.LFG(zM),l.LFG(l.FYo),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZM=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qM=(()=>{class t{constructor(e,i,s){this._injector=e,this._modalStack=i,this._config=s}open(e,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3),l.LFG(YM),l.LFG(ZM))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),i1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[qM]}),t})();const QM=({classList:t})=>(t.remove("show"),()=>t.remove("active")),XM=(t,n)=>{n&&Kp(t),t.classList.add("show")};let Xw=(()=>{class t{constructor(e){this.elRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,i){2&e&&(l.Ikx("id",i.item.panelDomId),l.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),l.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),t})(),a1=(()=>{class t{constructor(e,i){this._cd=e,this._ngZone=i,this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(rn(this.nav.destroy$),Tp(this._activePane?.item||null),B(),function Sp(t){return Ri((n,e)=>t<=e)}(1)).subscribe(e=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?fr(this._ngZone,this._activePane.elRef.nativeElement,QM,i).subscribe(()=>{const s=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),fr(this._ngZone,this._activePane.elRef.nativeElement,XM,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.sBO),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,i){if(1&e&&l.Gf(Xw,5),2&e){let s;l.iGM(s=l.CRH())&&(i._panes=s)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:MR,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&l.YNc(0,FR,1,1,"ng-template",0),2&e&&l.Q6J("ngForOf",i.nav.items)},dependencies:[Xw,ci,jn,Sr],encapsulation:2,changeDetection:0}),t})(),l1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[a1]}),t})(),eP=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),t})(),u1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),t})(),d1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),t})(),h1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),t})(),f1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),t})(),p1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),t})(),g1=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),t})(),_1=(()=>{class t{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,s=Math.floor(this.maxSize/2);return this.page<=s?i=this.maxSize:this.pageCount-this.page<s?e=this.pageCount-this.maxSize:(e=this.page-s-1,i=this.page+(this.maxSize%2==0?s-1:s)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=mE(e,this.pageCount,1),this.page!==i&&yi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),yi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,s=this.pageCount;[i,s]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,s),this._applyEllipses(i,s)}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(eP))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-pagination"]],contentQueries:function(e,i,s){if(1&e&&(l.Suo(s,c1,5),l.Suo(s,u1,5),l.Suo(s,d1,5),l.Suo(s,h1,5),l.Suo(s,f1,5),l.Suo(s,p1,5),l.Suo(s,g1,5)),2&e){let c;l.iGM(c=l.CRH())&&(i.tplEllipsis=c.first),l.iGM(c=l.CRH())&&(i.tplFirst=c.first),l.iGM(c=l.CRH())&&(i.tplLast=c.first),l.iGM(c=l.CRH())&&(i.tplNext=c.first),l.iGM(c=l.CRH())&&(i.tplNumber=c.first),l.iGM(c=l.CRH())&&(i.tplPrevious=c.first),l.iGM(c=l.CRH())&&(i.tplPages=c.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let n,e,i,s,c,h,m,b;return n=$localize`:@@ngb.pagination.first:`,e=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,c=$localize`:@@ngb.pagination.first-aria:First`,h=$localize`:@@ngb.pagination.previous-aria:Previous`,m=$localize`:@@ngb.pagination.next-aria:Next`,b=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,e,i,s,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"],["aria-label",b,"href","",1,"page-link",3,"click"]]},template:function(e,i){if(1&e&&(l.YNc(0,LR,2,0,"ng-template",null,0,l.W1O),l.YNc(2,VR,2,0,"ng-template",null,1,l.W1O),l.YNc(4,UR,2,0,"ng-template",null,2,l.W1O),l.YNc(6,BR,2,0,"ng-template",null,3,l.W1O),l.YNc(8,HR,1,0,"ng-template",null,4,l.W1O),l.YNc(10,jR,2,2,"ng-template",null,5,l.W1O),l.YNc(12,JR,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,XR,3,9,"li",7),l.YNc(16,nO,3,8,"li",7),l.YNc(17,iO,0,0,"ng-template",8),l.YNc(18,oO,3,9,"li",7),l.YNc(19,aO,3,9,"li",7),l.qZA()),2&e){const s=l.MAs(13);l.xp6(14),l.Tol("pagination"+(i.size?" pagination-"+i.size:"")),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",l.kEZ(8,lO,i.page,i.pages,i.disabled)),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks)}},dependencies:[jn,ci,Sr],encapsulation:2,changeDetection:0}),t})(),m1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[_1]}),t})(),y1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),sP=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aP=(()=>{class t{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.ariaLabel=e.ariaLabel,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!yi(e)||e<=0?100:e}get max(){return this._max}getValue(){return mE(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(sP))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),l.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:_E,decls:3,vars:11,consts:function(){let n;return n=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],n]},template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,dO,3,3,"span",0),l.Hsn(2),l.qZA()),2&e&&(l.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),l.Udp("width",i.getPercentValue(),"%"),l.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),l.xp6(1),l.Q6J("ngIf",i.showValue))},dependencies:[jn,Ku],encapsulation:2,changeDetection:0}),t})(),b1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[aP]}),t})(),lP=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cP=(()=>{class t{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=s=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly,this.tabindex=e.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case tn.ArrowDown:case tn.ArrowLeft:this.update(this.rate-1);break;case tn.ArrowUp:case tn.ArrowRight:this.update(this.rate+1);break;case tn.Home:this.update(0);break;case tn.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const s=mE(e,this.max,0);this.isInteractive()&&this.rate!==s&&(this.rate=s,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,s)=>i.fill=Math.round(100*mE(e-s,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i}))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(lP),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,l.Rgc,5),2&e){let c;l.iGM(c=l.CRH())&&(i.starTemplateFromContent=c.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("blur",function(){return i.handleBlur()})("keydown",function(c){return i.handleKeyDown(c)})("mouseleave",function(){return i.reset()}),2&e&&(l.Ikx("tabindex",i.disabled?-1:i.tabindex),l.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:wr,useExisting:(0,l.Gpc)(()=>t),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(l.YNc(0,hO,1,1,"ng-template",null,0,l.W1O),l.YNc(2,pO,4,5,"ng-template",1)),2&e&&(l.xp6(2),l.Q6J("ngForOf",i.contexts))},dependencies:[ci,Sr],encapsulation:2,changeDetection:0}),t})(),E1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[cP]}),t})();class D1{constructor(n,e,i){this.hour=Ir(n),this.minute=Ir(e),this.second=Ir(i)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=yi(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){yi(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){yi(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return yi(this.hour)&&yi(this.minute)&&(!n||yi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let uP=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function dP(){return new hP}()},providedIn:"root"}),t})(),hP=(()=>{class t extends C1{fromModel(e){return e&&oi(e.hour)&&oi(e.minute)?{hour:e.hour,minute:e.minute,second:oi(e.second)?e.second:null}:null}toModel(e){return e&&oi(e.hour)&&oi(e.minute)?{hour:e.hour,minute:e.minute,second:oi(e.second)?e.second:null}:null}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),w1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function fP(t){return new pP(t)}(l.LFG(l.soG)),i},providedIn:"root"}),t})(),pP=(()=>{class t extends w1{constructor(e){super(),this._periods=ge(e,Be.Standalone,Me.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const gP=/[^0-9]/g;let _P=(()=>{class t{constructor(e,i,s,c){this._config=e,this._ngbTimeAdapter=i,this._cd=s,this.i18n=c,this.onChange=h=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=oi(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=oi(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=oi(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const i=this._ngbTimeAdapter.fromModel(e);this.model=i?new D1(i.hour,i.minute,i.second):new D1,!this.seconds&&(!i||!yi(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const i=!!this.model&&this.model.hour>=12,s=Ir(e);this.model?.updateHour(this.meridian&&(i&&s<12||!i&&12===s)?s+12:s),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(Ir(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(Ir(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(gP,"")}formatHour(e){return yi(e)?qp(this.meridian?e%12==0?12:e%12:e%24):qp(NaN)}formatMinSec(e){return qp(yi(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!yi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(uP),l.Y36(C1),l.Y36(l.sBO),l.Y36(w1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:wr,useExisting:(0,l.Gpc)(()=>t),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let n,e,i,s,c,h,m,b,I,S,L,H,K,_e;return n=$localize`:@@ngb.timepicker.HH:HH`,e=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,s=$localize`:@@ngb.timepicker.minutes:Minutes`,c=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,h=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,m=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,b=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,I=$localize`:@@ngb.timepicker.SS:SS`,S=$localize`:@@ngb.timepicker.seconds:Seconds`,L=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,H=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,K=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,_e=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],c,[1,"chevron","ngb-tp-chevron","bottom"],h,m,b,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",I,"aria-label",S,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],L,H,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],K,_e]},template:function(e,i){1&e&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,gO,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(c){return i.updateHour(c.target.value)})("blur",function(){return i.handleBlur()})("input",function(c){return i.formatInput(c.target)})("keydown.ArrowUp",function(c){return i.changeHour(i.hourStep),c.preventDefault()})("keydown.ArrowDown",function(c){return i.changeHour(-i.hourStep),c.preventDefault()}),l.qZA(),l.YNc(5,_O,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,mO,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(c){return i.updateMinute(c.target.value)})("blur",function(){return i.handleBlur()})("input",function(c){return i.formatInput(c.target)})("keydown.ArrowUp",function(c){return i.changeMinute(i.minuteStep),c.preventDefault()})("keydown.ArrowDown",function(c){return i.changeMinute(-i.minuteStep),c.preventDefault()}),l.qZA(),l.YNc(11,vO,4,7,"button",3),l.qZA(),l.YNc(12,yO,2,0,"div",8),l.YNc(13,DO,4,9,"div",9),l.YNc(14,CO,1,0,"div",8),l.YNc(15,TO,5,9,"div",10),l.qZA()()),2&e&&(l.ekj("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(3),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(4),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.meridian),l.xp6(1),l.Q6J("ngIf",i.meridian))},dependencies:[jn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),t})(),I1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[_P]}),t})();const mP=(t,n)=>{const{classList:e}=t;if(n)return e.add("fade"),Kp(t),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},vP=({classList:t})=>(t.add("showing"),()=>{t.remove("show","showing")});let yP=(()=>{class t{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbToastHeader",""]],standalone:!0}),t})(),EP=(()=>{class t{constructor(e,i,s,c){this.ariaLive=e,this._zone=s,this._element=c,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(mi(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=fr(this._zone,this._element.nativeElement,vP,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=fr(this._zone,this._element.nativeElement,mP,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return t.\u0275fac=function(e){return new(e||t)(l.$8M("aria-live"),l.Y36(yP),l.Y36(l.R0b),l.Y36(l.SBq))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-toast"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,bP,7,l.Rgc),2&e){let c;l.iGM(c=l.CRH())&&(i.contentHeaderTpl=c.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(e,i){2&e&&(l.uIk("aria-live",i.ariaLive),l.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:_E,decls:5,vars:1,consts:function(){let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(l.F$t(),l.YNc(0,SO,2,1,"ng-template",null,0,l.W1O),l.YNc(2,AO,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[jn,Sr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),t})(),T1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[EP]}),t})(),S1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),DP=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=yS(this.result),s=Array.isArray(this.term)?this.term:[this.term],c=I=>this.accentSensitive?I:DS(I),h=s.map(I=>function xO(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(c(yS(I)))).filter(I=>I),m=this.accentSensitive?i:DS(i),b=h.length?m.split(new RegExp(`(${h.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=b;else{let I=0;this.parts=b.map(S=>i.substring(I,I+=S.length))}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,i){1&e&&l.YNc(0,MO,3,2,"ng-template",0),2&e&&l.Q6J("ngForOf",i.parts)},dependencies:[jn,ci],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function CP(){return 100}});let N1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[DP]}),t})(),A1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const wP=[NS,AS,OS,MS,QS,t1,i1,l1,A1,m1,y1,b1,E1,I1,T1,S1,N1];let IP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[wP,NS,AS,OS,MS,QS,t1,i1,l1,A1,m1,y1,b1,E1,I1,T1,S1,N1]}),t})();function R1(t){return new Ii.y(n=>{(0,Ti.Xf)(t()).subscribe(n)})}var TP=F(9635);function rv(t,n){const e=(0,bo.m)(t)?t:()=>t,i=s=>s.error(e());return new Ii.y(n?s=>n.schedule(i,0,s):i)}var O1=F(727);function eI(){return(0,bn.e)((t,n)=>{let e=null;t._refCount++;const i=(0,_n.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const s=t._connection,c=e;e=null,s&&(!c||s===c)&&s.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class M1 extends Ii.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new O1.w0;const e=this.getSubject();n.add(this.source.subscribe((0,_n.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=O1.w0.EMPTY)}return n}refCount(){return eI()(this)}}function wh(t,n){return(0,bo.m)(n)?(0,Xi.z)(t,n,1):(0,Xi.z)(t,1)}function Wu(t){return(0,bn.e)((n,e)=>{let c,i=null,s=!1;i=n.subscribe((0,_n.x)(e,void 0,void 0,h=>{c=(0,Ti.Xf)(t(h,Wu(t)(n))),i?(i.unsubscribe(),i=null,c.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(e))})}function tI(t){return t<=0?()=>Ko.E:(0,bn.e)((n,e)=>{let i=[];n.subscribe((0,_n.x)(e,s=>{i.push(s),t<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function P1(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ri((s,c)=>t(s,c,i)):A.y,tI(1),e?dc(n):u0(()=>new qd))}function nI(t){return(0,bn.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Ft="primary",ov=Symbol("RouteTitle");class NP{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tg(t){return new NP(t)}function AP(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const s={};for(let c=0;c<i.length;c++){const h=i[c],m=t[c];if(h.startsWith(":"))s[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function pl(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!k1(t[s],n[s]))return!1;return!0}function k1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((s,c)=>i[c]===s)}return t===n}function x1(t){return Array.prototype.concat.apply([],t)}function F1(t){return t.length>0?t[t.length-1]:null}function Tr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function zu(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,en.D)(Promise.resolve(t)):nt(t)}const NE=!1,OP={exact:function U1(t,n,e){if(!Ih(t.segments,n.segments)||!AE(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!U1(t.children[i],n.children[i],e))return!1;return!0},subset:B1},L1={exact:function MP(t,n){return pl(t,n)},subset:function PP(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>k1(t[e],n[e]))},ignored:()=>!0};function V1(t,n,e){return OP[e.paths](t.root,n.root,e.matrixParams)&&L1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function B1(t,n,e){return H1(t,n,n.segments,e)}function H1(t,n,e,i){if(t.segments.length>e.length){const s=t.segments.slice(0,e.length);return!(!Ih(s,e)||n.hasChildren()||!AE(s,e,i))}if(t.segments.length===e.length){if(!Ih(t.segments,e)||!AE(t.segments,e,i))return!1;for(const s in n.children)if(!t.children[s]||!B1(t.children[s],n.children[s],i))return!1;return!0}{const s=e.slice(0,t.segments.length),c=e.slice(t.segments.length);return!!(Ih(t.segments,s)&&AE(t.segments,s,i)&&t.children[Ft])&&H1(t.children[Ft],n,c,i)}}function AE(t,n,e){return n.every((i,s)=>L1[e](t[s].parameters,i.parameters))}class Yu{constructor(n=new qt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tg(this.queryParams)),this._queryParamMap}toString(){return FP.serialize(this)}}class qt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Tr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return RE(this)}}class sv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tg(this.parameters)),this._parameterMap}toString(){return $1(this)}}function Ih(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let av=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return new iI},providedIn:"root"}),t})();class iI{parse(n){const e=new WP(n);return new Yu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${lv(n.root,!0)}`,i=function UP(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(s=>`${OE(e)}=${OE(s)}`).join("&"):`${OE(e)}=${OE(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function LP(t){return encodeURI(t)}(n.fragment)}`:""}`}}const FP=new iI;function RE(t){return t.segments.map(n=>$1(n)).join("/")}function lv(t,n){if(!t.hasChildren())return RE(t);if(n){const e=t.children[Ft]?lv(t.children[Ft],!1):"",i=[];return Tr(t.children,(s,c)=>{c!==Ft&&i.push(`${c}:${lv(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xP(t,n){let e=[];return Tr(t.children,(i,s)=>{s===Ft&&(e=e.concat(n(i,s)))}),Tr(t.children,(i,s)=>{s!==Ft&&(e=e.concat(n(i,s)))}),e}(t,(i,s)=>s===Ft?[lv(t.children[Ft],!1)]:[`${s}:${lv(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ft]?`${RE(t)}/${e[0]}`:`${RE(t)}/(${e.join("//")})`}}function G1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function OE(t){return G1(t).replace(/%3B/gi,";")}function rI(t){return G1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ME(t){return decodeURIComponent(t)}function j1(t){return ME(t.replace(/\+/g,"%20"))}function $1(t){return`${rI(t.path)}${function VP(t){return Object.keys(t).map(n=>`;${rI(n)}=${rI(t[n])}`).join("")}(t.parameters)}`}const BP=/^[^\/()?;=#]+/;function PE(t){const n=t.match(BP);return n?n[0]:""}const HP=/^[^=?&#]+/,jP=/^[^&#]+/;class WP{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Ft]=new qt(n,e)),i}parseSegment(){const n=PE(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new l.vHH(4009,NE);return this.capture(n),new sv(ME(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=PE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=PE(this.remaining);s&&(i=s,this.capture(i))}n[ME(e)]=ME(i)}parseQueryParam(n){const e=function GP(t){const n=t.match(HP);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function $P(t){const n=t.match(jP);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const s=j1(e),c=j1(i);if(n.hasOwnProperty(s)){let h=n[s];Array.isArray(h)||(h=[h],n[s]=h),h.push(c)}else n[s]=c}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=PE(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new l.vHH(4010,NE);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=Ft);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[Ft]:new qt([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new l.vHH(4011,NE)}}function oI(t){return t.segments.length>0?new qt([],{[Ft]:t}):t}function kE(t){const n={};for(const i of Object.keys(t.children)){const c=kE(t.children[i]);(c.segments.length>0||c.hasChildren())&&(n[i]=c)}return function zP(t){if(1===t.numberOfChildren&&t.children[Ft]){const n=t.children[Ft];return new qt(t.segments.concat(n.segments),n.children)}return t}(new qt(t.segments,n))}function Th(t){return t instanceof Yu}const sI=!1;function YP(t,n,e,i,s){if(0===e.length)return ng(n.root,n.root,n.root,i,s);const c=function q1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Z1(!0,0,t);let n=0,e=!1;const i=t.reduce((s,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Tr(c.outlets,(b,I)=>{m[I]="string"==typeof b?b.split("/"):b}),[...s,{outlets:m}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===h?(c.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?n++:""!=m&&s.push(m))}),s):[...s,c]},[]);return new Z1(e,n,i)}(e);return c.toRoot()?ng(n.root,n.root,new qt([],{}),i,s):function h(b){const I=function qP(t,n,e,i){if(t.isAbsolute)return new ig(n.root,!0,0);if(-1===i)return new ig(e,e===n.root,0);return function K1(t,n,e){let i=t,s=n,c=e;for(;c>s;){if(c-=s,i=i.parent,!i)throw new l.vHH(4005,sI&&"Invalid number of '../'");s=i.segments.length}return new ig(i,!1,s-c)}(e,i+(cv(t.commands[0])?0:1),t.numberOfDoubleDots)}(c,n,t.snapshot?._urlSegment,b),S=I.processChildren?rg(I.segmentGroup,I.index,c.commands):aI(I.segmentGroup,I.index,c.commands);return ng(n.root,I.segmentGroup,S,i,s)}(t.snapshot?._lastPathIndex)}function cv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function uv(t){return"object"==typeof t&&null!=t&&t.outlets}function ng(t,n,e,i,s){let h,c={};i&&Tr(i,(b,I)=>{c[I]=Array.isArray(b)?b.map(S=>`${S}`):`${b}`}),h=t===n?e:Y1(t,n,e);const m=oI(kE(h));return new Yu(m,c,s)}function Y1(t,n,e){const i={};return Tr(t.children,(s,c)=>{i[c]=s===n?e:Y1(s,n,e)}),new qt(t.segments,i)}class Z1{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&cv(i[0]))throw new l.vHH(4003,sI&&"Root segment cannot have matrix parameters");const s=i.find(uv);if(s&&s!==F1(i))throw new l.vHH(4004,sI&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ig{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function aI(t,n,e){if(t||(t=new qt([],{})),0===t.segments.length&&t.hasChildren())return rg(t,n,e);const i=function JP(t,n,e){let i=0,s=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=e.length)return c;const h=t.segments[s],m=e[i];if(uv(m))break;const b=`${m}`,I=i<e.length-1?e[i+1]:null;if(s>0&&void 0===b)break;if(b&&I&&"object"==typeof I&&void 0===I.outlets){if(!Q1(b,I,h))return c;i+=2}else{if(!Q1(b,{},h))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,n,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new qt(t.segments.slice(0,i.pathIndex),{});return c.children[Ft]=new qt(t.segments.slice(i.pathIndex),t.children),rg(c,0,s)}return i.match&&0===s.length?new qt(t.segments,{}):i.match&&!t.hasChildren()?lI(t,n,e):i.match?rg(t,0,s):lI(t,n,e)}function rg(t,n,e){if(0===e.length)return new qt(t.segments,{});{const i=function KP(t){return uv(t[0])?t[0].outlets:{[Ft]:t}}(e),s={};return!i[Ft]&&t.children[Ft]&&1===t.numberOfChildren&&0===t.children[Ft].segments.length?rg(t.children[Ft],n,e):(Tr(i,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[h]=aI(t.children[h],n,c))}),Tr(t.children,(c,h)=>{void 0===i[h]&&(s[h]=c)}),new qt(t.segments,s))}}function lI(t,n,e){const i=t.segments.slice(0,n);let s=0;for(;s<e.length;){const c=e[s];if(uv(c)){const b=QP(c.outlets);return new qt(i,b)}if(0===s&&cv(e[0])){i.push(new sv(t.segments[n].path,J1(e[0]))),s++;continue}const h=uv(c)?c.outlets[Ft]:`${c}`,m=s<e.length-1?e[s+1]:null;h&&m&&cv(m)?(i.push(new sv(h,J1(m))),s+=2):(i.push(new sv(h,{})),s++)}return new qt(i,{})}function QP(t){const n={};return Tr(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=lI(new qt([],{}),0,e))}),n}function J1(t){const n={};return Tr(t,(e,i)=>n[i]=`${e}`),n}function Q1(t,n,e){return t==e.path&&pl(n,e.parameters)}const dv="imperative";class gl{constructor(n,e){this.id=n,this.url=e}}class cI extends gl{constructor(n,e,i="imperative",s=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sh extends gl{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xE extends gl{constructor(n,e,i,s){super(n,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class FE extends gl{constructor(n,e,i,s){super(n,e),this.reason=i,this.code=s,this.type=16}}class uI extends gl{constructor(n,e,i,s){super(n,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XP extends gl{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ek extends gl{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tk extends gl{constructor(n,e,i,s,c){super(n,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nk extends gl{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik extends gl{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rk{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ok{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sk{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ak{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lk{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ck{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X1{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let hk=(()=>{class t{createUrlTree(e,i,s,c,h,m){return YP(e||i.root,s,c,h,m)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),pk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(n){return hk.\u0275fac(n)},providedIn:"root"}),t})();class eN{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=dI(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=dI(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=hI(n,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return hI(n,this._root).map(e=>e.value)}}function dI(t,n){if(t===n.value)return n;for(const e of n.children){const i=dI(t,e);if(i)return i}return null}function hI(t,n){if(t===n.value)return[n];for(const e of n.children){const i=hI(t,e);if(i.length)return i.unshift(n),i}return[]}class Ec{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function og(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class tN extends eN{constructor(n,e){super(n),this.snapshot=e,fI(this,n)}toString(){return this.snapshot.toString()}}function nN(t,n){const e=function gk(t,n){const h=new LE([],{},{},"",{},Ft,n,null,t.root,-1,{});return new rN("",new Ec(h,[]))}(t,n),i=new ji([new sv("",{})]),s=new ji({}),c=new ji({}),h=new ji({}),m=new ji(""),b=new sg(i,s,h,m,c,Ft,n,e.root);return b.snapshot=e.root,new tN(new Ec(b,[]),e)}class sg{constructor(n,e,i,s,c,h,m,b){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=h,this.component=m,this.title=this.data?.pipe((0,ut.U)(I=>I[ov]))??nt(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(n=>tg(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(n=>tg(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iN(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const s=e[i],c=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function _k(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class LE{get title(){return this.data?.[ov]}constructor(n,e,i,s,c,h,m,b,I,S,L){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=I,this._lastPathIndex=S,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rN extends eN{constructor(n,e){super(e),this.url=n,fI(this,e)}toString(){return oN(this._root)}}function fI(t,n){n.value._routerState=t,n.children.forEach(e=>fI(t,e))}function oN(t){const n=t.children.length>0?` { ${t.children.map(oN).join(", ")} } `:"";return`${t.value}${n}`}function pI(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,pl(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),pl(n.params,e.params)||t.params.next(e.params),function RP(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!pl(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),pl(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gI(t,n){const e=pl(t.params,n.params)&&function kP(t,n){return Ih(t,n)&&t.every((e,i)=>pl(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||gI(t.parent,n.parent))}function hv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const s=function vk(t,n,e){return n.children.map(i=>{for(const s of e.children)if(t.shouldReuseRoute(i.value,s.value.snapshot))return hv(t,i,s);return hv(t,i)})}(t,n,e);return new Ec(i,s)}{if(t.shouldAttach(n.value)){const c=t.retrieve(n.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(m=>hv(t,m)),h}}const i=function yk(t){return new sg(new ji(t.url),new ji(t.params),new ji(t.queryParams),new ji(t.fragment),new ji(t.data),t.outlet,t.component,t)}(n.value),s=n.children.map(c=>hv(t,c));return new Ec(i,s)}}const _I="ngNavigationCancelingError";function sN(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Th(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=aN(!1,0,n);return s.url=e,s.navigationBehaviorOptions=i,s}function aN(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[_I]=!0,i.cancellationCode=n,e&&(i.url=e),i}function lN(t){return cN(t)&&Th(t.url)}function cN(t){return t&&t[_I]}class bk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fv,this.attachRef=null}}let fv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new bk,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const VE=!1;let mI=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(fv),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:s}=e.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,VE);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,VE);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,VE);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,VE);this._activatedRoute=e;const s=this.location,h=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,b=new Ek(e,m,s.injector);if(i&&function Dk(t){return!!t.resolveComponentFactory}(i)){const I=i.resolveComponentFactory(h);this.activated=s.createComponent(I,s.length,b)}else this.activated=s.createComponent(h,{index:s.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),t})();class Ek{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===sg?this.route:n===fv?this.childContexts:this.parent.get(n,e)}}let vI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[mI],encapsulation:2}),t})();function uN(t,n){return t.providers&&!t._injector&&(t._injector=(0,l.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}function bI(t){const n=t.children&&t.children.map(bI),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=vI),e}function Ms(t){return t.outlet||Ft}function dN(t,n){const e=t.filter(i=>Ms(i)===n);return e.push(...t.filter(i=>Ms(i)!==n)),e}function pv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Sk{constructor(n,e,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),pI(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const s=og(e);n.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,s[h],i),delete s[h]}),Tr(s,(c,h)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(s===c)if(s.component){const h=i.getContext(s.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=og(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);if(i&&i.outlet){const h=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=og(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const s=og(e);n.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new ck(c.value.snapshot))}),n.children.length&&this.forwardEvent(new ak(n.value.snapshot))}activateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(pI(s),s===c)if(s.component){const h=i.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(s.component){const h=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),pI(m.route.value),this.activateChildRoutes(n,null,h.children)}else{const m=pv(s.snapshot),b=m?.get(l._Vd)??null;h.attachRef=null,h.route=s,h.resolver=b,h.injector=m,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class hN{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class UE{constructor(n,e){this.component=n,this.route=e}}function Nk(t,n,e){const i=t._root;return gv(i,n?n._root:null,e,[i.value])}function ag(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,l.Z0I)(t)?n.get(t):t:i}function gv(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=og(n);return t.children.forEach(h=>{(function Rk(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,h=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function Ok(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ih(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ih(t.url,n.url)||!pl(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gI(t,n)||!pl(t.queryParams,n.queryParams);default:return!gI(t,n)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?s.canActivateChecks.push(new hN(i)):(c.data=h.data,c._resolvedData=h._resolvedData),gv(t,n,c.component?m?m.children:null:e,i,s),b&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new UE(m.outlet.component,h))}else h&&_v(n,m,s),s.canActivateChecks.push(new hN(i)),gv(t,null,c.component?m?m.children:null:e,i,s)})(h,c[h.value.outlet],e,i.concat([h.value]),s),delete c[h.value.outlet]}),Tr(c,(h,m)=>_v(h,e.getContext(m),s)),s}function _v(t,n,e){const i=og(t),s=t.value;Tr(i,(c,h)=>{_v(c,s.component?n?n.children.getContext(h):null:n,e)}),e.canDeactivateChecks.push(new UE(s.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,s))}function mv(t){return"function"==typeof t}function EI(t){return t instanceof qd||"EmptyError"===t?.name}const BE=Symbol("INITIAL_VALUE");function lg(){return sn(t=>wp(t.map(n=>n.pipe(mi(1),Tp(BE)))).pipe((0,ut.U)(n=>{for(const e of n)if(!0!==e){if(e===BE)return BE;if(!1===e||e instanceof Yu)return e}return!0}),Ri(n=>n!==BE),mi(1)))}function fN(t){return(0,TP.z)((0,vi.b)(n=>{if(Th(n))throw sN(0,n)}),(0,ut.U)(n=>!0===n))}const DI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pN(t,n,e,i,s){const c=CI(t,n,e);return c.matched?function Zk(t,n,e,i){const s=n.canMatch;return s&&0!==s.length?nt(s.map(h=>{const m=ag(h,t);return zu(function Lk(t){return t&&mv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(lg(),fN()):nt(!0)}(i=uN(n,i),n,e).pipe((0,ut.U)(h=>!0===h?c:{...DI})):nt(c)}function CI(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...DI}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(n.matcher||AP)(e,t,n);if(!s)return{...DI};const c={};Tr(s.posParams,(m,b)=>{c[b]=m.path});const h=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function HE(t,n,e,i){if(e.length>0&&function Jk(t,n,e){return e.some(i=>GE(t,n,i)&&Ms(i)!==Ft)}(t,e,i)){const c=new qt(n,function Kk(t,n,e,i){const s={};s[Ft]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const c of e)if(""===c.path&&Ms(c)!==Ft){const h=new qt([],{});h._sourceSegment=t,h._segmentIndexShift=n.length,s[Ms(c)]=h}return s}(t,n,i,new qt(e,t.children)));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Qk(t,n,e){return e.some(i=>GE(t,n,i))}(t,e,i)){const c=new qt(t.segments,function qk(t,n,e,i,s){const c={};for(const h of i)if(GE(t,e,h)&&!s[Ms(h)]){const m=new qt([],{});m._sourceSegment=t,m._segmentIndexShift=n.length,c[Ms(h)]=m}return{...s,...c}}(t,n,e,i,t.children));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}const s=new qt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function GE(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function gN(t,n,e,i){return!!(Ms(t)===i||i!==Ft&&GE(n,e,t))&&("**"===t.path||CI(n,t,e).matched)}function _N(t,n,e){return 0===n.length&&!t.children[e]}const jE=!1;class $E{constructor(n){this.segmentGroup=n||null}}class mN{constructor(n){this.urlTree=n}}function vv(t){return rv(new $E(t))}function vN(t){return rv(new mN(t))}class nx{constructor(n,e,i,s,c){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=c,this.allowRedirects=!0}apply(){const n=HE(this.urlTree.root,[],[],this.config).segmentGroup,e=new qt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Ft).pipe((0,ut.U)(c=>this.createUrlTree(kE(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wu(c=>{if(c instanceof mN)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof $E?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Ft).pipe((0,ut.U)(s=>this.createUrlTree(kE(s),n.queryParams,n.fragment))).pipe(Wu(s=>{throw s instanceof $E?this.noMatchError(s):s}))}noMatchError(n){return new l.vHH(4002,jE)}createUrlTree(n,e,i){const s=oI(n);return new Yu(s,e,i)}expandSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,ut.U)(c=>new qt([],c))):this.expandSegment(n,i,e,i.segments,s,!0)}expandChildren(n,e,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return(0,en.D)(s).pipe(wh(c=>{const h=i.children[c],m=dN(e,c);return this.expandSegmentGroup(n,m,h,c).pipe((0,ut.U)(b=>({segment:b,outlet:c})))}),w((c,h)=>(c[h.outlet]=h.segment,c),{}),P1())}expandSegment(n,e,i,s,c,h){return(0,en.D)(i).pipe(wh(m=>this.expandSegmentAgainstRoute(n,e,i,m,s,c,h).pipe(Wu(I=>{if(I instanceof $E)return nt(null);throw I}))),Rs(m=>!!m),Wu((m,b)=>{if(EI(m))return _N(e,s,c)?nt(new qt([],{})):vv(e);throw m}))}expandSegmentAgainstRoute(n,e,i,s,c,h,m){return gN(s,e,c,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,e,s,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h):vv(e):vv(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,s){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?vN(c):this.lineralizeSegments(i,c).pipe((0,Xi.z)(h=>{const m=new qt(h,{});return this.expandSegment(n,m,e,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h){const{matched:m,consumedSegments:b,remainingSegments:I,positionalParamSegments:S}=CI(e,s,c);if(!m)return vv(e);const L=this.applyRedirectCommands(b,s.redirectTo,S);return s.redirectTo.startsWith("/")?vN(L):this.lineralizeSegments(s,L).pipe((0,Xi.z)(H=>this.expandSegment(n,e,i,H.concat(I),h,!1)))}matchSegmentAgainstRoute(n,e,i,s,c){return"**"===i.path?(n=uN(i,n),i.loadChildren?(i._loadedRoutes?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe((0,ut.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new qt(s,{})))):nt(new qt(s,{}))):pN(e,i,s,n).pipe(sn(({matched:h,consumedSegments:m,remainingSegments:b})=>h?this.getChildConfig(n=i._injector??n,i,s).pipe((0,Xi.z)(S=>{const L=S.injector??n,H=S.routes,{segmentGroup:K,slicedSegments:_e}=HE(e,m,b,H),Ae=new qt(K.segments,K.children);if(0===_e.length&&Ae.hasChildren())return this.expandChildren(L,H,Ae).pipe((0,ut.U)(Lt=>new qt(m,Lt)));if(0===H.length&&0===_e.length)return nt(new qt(m,{}));const Ue=Ms(i)===c;return this.expandSegment(L,Ae,H,_e,Ue?Ft:c,!0).pipe((0,ut.U)(ot=>new qt(m.concat(ot.segments),ot.children)))})):vv(e)))}getChildConfig(n,e,i){return e.children?nt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Yk(t,n,e,i){const s=n.canLoad;return void 0===s||0===s.length?nt(!0):nt(s.map(h=>{const m=ag(h,t);return zu(function Pk(t){return t&&mv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(lg(),fN())}(n,e,i).pipe((0,Xi.z)(s=>s?this.configLoader.loadChildren(n,e).pipe((0,vi.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function ex(t){return rv(aN(jE,3))}())):nt({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return nt(i);if(s.numberOfChildren>1||!s.children[Ft])return n.redirectTo,rv(new l.vHH(4e3,jE));s=s.children[Ft]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,s){const c=this.createSegmentGroup(n,e.root,i,s);return new Yu(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Tr(n,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[c]=e[m]}else i[c]=s}),i}createSegmentGroup(n,e,i,s){const c=this.createSegments(n,e.segments,i,s);let h={};return Tr(e.children,(m,b)=>{h[b]=this.createSegmentGroup(n,m,i,s)}),new qt(c,h)}createSegments(n,e,i,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,s):this.findOrReturn(c,i))}findPosParam(n,e,i){const s=i[e.path.substring(1)];if(!s)throw new l.vHH(4001,jE);return s}findOrReturn(n,e){let i=0;for(const s of e){if(s.path===n.path)return e.splice(i),s;i++}return n}}class rx{}class ax{constructor(n,e,i,s,c,h,m){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=c,this.paramsInheritanceStrategy=h,this.urlSerializer=m}recognize(){const n=HE(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ft).pipe((0,ut.U)(e=>{if(null===e)return null;const i=new LE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ec(i,e),c=new rN(this.url,s);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(n){const e=n.value,i=iN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,s)}processChildren(n,e,i){return(0,en.D)(Object.keys(i.children)).pipe(wh(s=>{const c=i.children[s],h=dN(e,s);return this.processSegmentGroup(n,h,c,s)}),w((s,c)=>s&&c?(s.push(...c),s):null),function SP(t,n=!1){return(0,bn.e)((e,i)=>{let s=0;e.subscribe((0,_n.x)(i,c=>{const h=t(c,s++);(h||n)&&i.next(c),!h&&i.complete()}))})}(s=>null!==s),dc(null),P1(),(0,ut.U)(s=>{if(null===s)return null;const c=bN(s);return function lx(t){t.sort((n,e)=>n.value.outlet===Ft?-1:e.value.outlet===Ft?1:n.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(n,e,i,s,c){return(0,en.D)(e).pipe(wh(h=>this.processSegmentAgainstRoute(h._injector??n,h,i,s,c)),Rs(h=>!!h),Wu(h=>{if(EI(h))return _N(i,s,c)?nt([]):nt(null);throw h}))}processSegmentAgainstRoute(n,e,i,s,c){if(e.redirectTo||!gN(e,i,s,c))return nt(null);let h;if("**"===e.path){const m=s.length>0?F1(s).parameters:{},b=DN(i)+s.length;h=nt({snapshot:new LE(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CN(e),Ms(e),e.component??e._loadedComponent??null,e,EN(i),b,wN(e)),consumedSegments:[],remainingSegments:[]})}else h=pN(i,e,s,n).pipe((0,ut.U)(({matched:m,consumedSegments:b,remainingSegments:I,parameters:S})=>{if(!m)return null;const L=DN(i)+b.length;return{snapshot:new LE(b,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CN(e),Ms(e),e.component??e._loadedComponent??null,e,EN(i),L,wN(e)),consumedSegments:b,remainingSegments:I}}));return h.pipe(sn(m=>{if(null===m)return nt(null);const{snapshot:b,consumedSegments:I,remainingSegments:S}=m;n=e._injector??n;const L=e._loadedInjector??n,H=function cx(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:K,slicedSegments:_e}=HE(i,I,S,H.filter(Ue=>void 0===Ue.redirectTo));if(0===_e.length&&K.hasChildren())return this.processChildren(L,H,K).pipe((0,ut.U)(Ue=>null===Ue?null:[new Ec(b,Ue)]));if(0===H.length&&0===_e.length)return nt([new Ec(b,[])]);const Ae=Ms(e)===c;return this.processSegment(L,H,K,_e,Ae?Ft:c).pipe((0,ut.U)(Ue=>null===Ue?null:[new Ec(b,Ue)]))}))}}function ux(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function bN(t){const n=[],e=new Set;for(const i of t){if(!ux(i)){n.push(i);continue}const s=n.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):n.push(i)}for(const i of e){const s=bN(i.children);n.push(new Ec(i.value,s))}return n.filter(i=>!e.has(i))}function EN(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function DN(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function CN(t){return t.data||{}}function wN(t){return t.resolve||{}}function IN(t){return"string"==typeof t.title||null===t.title}function wI(t){return sn(n=>{const e=t(n);return e?(0,en.D)(e).pipe((0,ut.U)(()=>n)):nt(n)})}const cg=new l.OlP("ROUTES");let II=(()=>{class t{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=zu(e.loadComponent()).pipe((0,ut.U)(SN),(0,vi.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),nI(()=>{this.componentLoaders.delete(e)})),s=new M1(i,()=>new Rn.x).pipe(eI());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ut.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,I,S=!1;Array.isArray(m)?I=m:(b=m.create(e).injector,I=x1(b.get(cg,[],l.XFs.Self|l.XFs.Optional)));return{routes:I.map(bI),injector:b}}),nI(()=>{this.childrenLoaders.delete(i)})),h=new M1(c,()=>new Rn.x).pipe(eI());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(e){return zu(e()).pipe((0,ut.U)(SN),(0,Xi.z)(s=>s instanceof l.YKP||Array.isArray(s)?nt(s):(0,en.D)(this.compiler.compileModuleAsync(s))))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3),l.LFG(l.Sil))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function SN(t){return function yx(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let zE=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rn.x,this.configLoader=(0,l.f3M)(II),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(av),this.rootContexts=(0,l.f3M)(fv),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new ok(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new rk(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new ji({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dv,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(i=>0!==i.id),(0,ut.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),sn(i=>{let s=!1,c=!1;return nt(i).pipe((0,vi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sn(h=>{const m=e.browserUrlTree.toString(),b=!e.navigated||h.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!b&&"reload"!==(h.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const S="";return this.events.next(new FE(h.id,e.serializeUrl(i.rawUrl),S,0)),e.rawUrlTree=h.rawUrl,h.resolve(null),Ko.E}if(e.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return NN(h.source)&&(e.browserUrlTree=h.extractedUrl),nt(h).pipe(sn(S=>{const L=this.transitions?.getValue();return this.events.next(new cI(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),L!==this.transitions?.getValue()?Ko.E:Promise.resolve(S)}),function ix(t,n,e,i){return sn(s=>function tx(t,n,e,i,s){return new nx(t,n,e,i,s).apply()}(t,n,e,s.extractedUrl,i).pipe((0,ut.U)(c=>({...s,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,vi.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function hx(t,n,e,i,s){return(0,Xi.z)(c=>function sx(t,n,e,i,s,c,h="emptyOnly"){return new ax(t,n,e,i,s,h,c).recognize().pipe(sn(m=>null===m?function ox(t){return new Ii.y(n=>n.error(t))}(new rx):nt(m)))}(t,n,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,s).pipe((0,ut.U)(h=>({...c,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,vi.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=e.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);e.setBrowserUrl(H,S)}e.browserUrlTree=S.urlAfterRedirects}const L=new XP(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(L)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:S,extractedUrl:L,source:H,restoredState:K,extras:_e}=h,Ae=new cI(S,this.urlSerializer.serialize(L),H,K);this.events.next(Ae);const Ue=nN(L,this.rootComponentType).snapshot;return nt(i={...h,targetSnapshot:Ue,urlAfterRedirects:L,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new FE(h.id,e.serializeUrl(i.extractedUrl),S,1)),e.rawUrlTree=h.rawUrl,h.resolve(null),Ko.E}}),(0,vi.b)(h=>{const m=new ek(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,ut.U)(h=>i={...h,guards:Nk(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Uk(t,n){return(0,Xi.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?nt({...e,guardsResult:!0}):function Bk(t,n,e,i){return(0,en.D)(t).pipe((0,Xi.z)(s=>function zk(t,n,e,i,s){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?nt(c.map(m=>{const b=pv(n)??s,I=ag(m,b);return zu(function Fk(t){return t&&mv(t.canDeactivate)}(I)?I.canDeactivate(t,n,e,i):b.runInContext(()=>I(t,n,e,i))).pipe(Rs())})).pipe(lg()):nt(!0)}(s.component,s.route,e,n,i)),Rs(s=>!0!==s,!0))}(h,i,s,t).pipe((0,Xi.z)(m=>m&&function Mk(t){return"boolean"==typeof t}(m)?function Hk(t,n,e,i){return(0,en.D)(n).pipe(wh(s=>sh(function jk(t,n){return null!==t&&n&&n(new sk(t)),nt(!0)}(s.route.parent,i),function Gk(t,n){return null!==t&&n&&n(new lk(t)),nt(!0)}(s.route,i),function Wk(t,n,e){const i=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(h=>function Ak(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>R1(()=>nt(h.guards.map(b=>{const I=pv(h.node)??e,S=ag(b,I);return zu(function xk(t){return t&&mv(t.canActivateChild)}(S)?S.canActivateChild(i,t):I.runInContext(()=>S(i,t))).pipe(Rs())})).pipe(lg())));return nt(c).pipe(lg())}(t,s.path,e),function $k(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const s=i.map(c=>R1(()=>{const h=pv(n)??e,m=ag(c,h);return zu(function kk(t){return t&&mv(t.canActivate)}(m)?m.canActivate(n,t):h.runInContext(()=>m(n,t))).pipe(Rs())}));return nt(s).pipe(lg())}(t,s.route,e))),Rs(s=>!0!==s,!0))}(i,c,t,n):nt(m)),(0,ut.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,h=>this.events.next(h)),(0,vi.b)(h=>{if(i.guardsResult=h.guardsResult,Th(h.guardsResult))throw sN(0,h.guardsResult);const m=new tk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),Ri(h=>!!h.guardsResult||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),wI(h=>{if(h.guards.canActivateChecks.length)return nt(h).pipe((0,vi.b)(m=>{const b=new nk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),sn(m=>{let b=!1;return nt(m).pipe(function fx(t,n){return(0,Xi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return nt(e);let c=0;return(0,en.D)(s).pipe(wh(h=>function px(t,n,e,i){const s=t.routeConfig,c=t._resolve;return void 0!==s?.title&&!IN(s)&&(c[ov]=s.title),function gx(t,n,e,i){const s=function _x(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return nt({});const c={};return(0,en.D)(s).pipe((0,Xi.z)(h=>function mx(t,n,e,i){const s=pv(n)??i,c=ag(t,s);return zu(c.resolve?c.resolve(n,e):s.runInContext(()=>c(n,e)))}(t[h],n,e,i).pipe(Rs(),(0,vi.b)(m=>{c[h]=m}))),tI(1),pb(c),Wu(h=>EI(h)?Ko.E:rv(h)))}(c,t,n,i).pipe((0,ut.U)(h=>(t._resolvedData=h,t.data=iN(t,e).resolve,s&&IN(s)&&(t.data[ov]=s.title),null)))}(h.route,i,t,n)),(0,vi.b)(()=>c++),tI(1),(0,Xi.z)(h=>c===s.length?nt(e):Ko.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,vi.b)({next:()=>b=!0,complete:()=>{b||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,vi.b)(m=>{const b=new ik(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),wI(h=>{const m=b=>{const I=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,vi.b)(S=>{b.component=S}),(0,ut.U)(()=>{})));for(const S of b.children)I.push(...m(S));return I};return wp(m(h.targetSnapshot.root)).pipe(dc(),mi(1))}),wI(()=>this.afterPreactivation()),(0,ut.U)(h=>{const m=function mk(t,n,e){const i=hv(t,n._root,e?e._root:void 0);return new tN(i,n)}(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),(0,vi.b)(h=>{e.currentUrlTree=h.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),e.routerState=h.targetRouterState,"deferred"===e.urlUpdateStrategy&&(h.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,h),e.browserUrlTree=h.urlAfterRedirects)}),((t,n,e)=>(0,ut.U)(i=>(new Sk(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h)),(0,vi.b)({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Sh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),nI(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Wu(h=>{if(c=!0,cN(h)){lN(h)||(e.navigated=!0,e.restoreHistory(i,!0));const m=new xE(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode);if(this.events.next(m),lN(h)){const b=e.urlHandlingStrategy.merge(h.url,e.rawUrlTree),I={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||NN(i.source)};e.scheduleNavigation(b,dv,null,I,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const m=new uI(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0);this.events.next(m);try{i.resolve(e.errorHandler(h))}catch(b){i.reject(b)}}return Ko.E}))}))}cancelNavigationTransition(e,i,s){const c=new xE(e.id,this.urlSerializer.serialize(e.extractedUrl),i,s);this.events.next(c),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NN(t){return t!==dv}let AN=(()=>{class t{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===Ft);return i}getResolvedTitleForRoute(e){return e.data[ov]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(bx)},providedIn:"root"}),t})(),bx=(()=>{class t extends AN{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Xt))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ex=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(Cx)},providedIn:"root"}),t})();class Dx{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Cx=(()=>{class t extends Dx{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YE=new l.OlP("",{providedIn:"root",factory:()=>({})});let Ix=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(Tx)},providedIn:"root"}),t})(),Tx=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sx(t){throw t}function Nx(t,n,e){return n.parse("/")}const Ax={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qo=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(YE,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Sx,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nx,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Ix),this.routeReuseStrategy=(0,l.f3M)(Ex),this.urlCreationStrategy=(0,l.f3M)(pk),this.titleStrategy=(0,l.f3M)(AN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=x1((0,l.f3M)(cg,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(zE),this.urlSerializer=(0,l.f3M)(av),this.location=(0,l.f3M)(Re),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const b={...s};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(c.state=b)}const m=this.parseUrl(e);this.scheduleNavigation(m,i,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(bI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:b}=i,I=b?this.currentUrlTree.fragment:h;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...c};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,e,S,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Th(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,dv,null,i)}navigate(e,i={skipLocationChange:!1}){return function Ox(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...Ax}:!1===i?{...Rx}:i,Th(e))return V1(this.currentUrlTree,e,s);const c=this.parseUrl(e);return V1(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const c=e[s];return null!=c&&(i[s]=c),i},{})}scheduleNavigation(e,i,s,c,h){if(this.disposed)return Promise.resolve(!1);let m,b,I,S;return h?(m=h.resolve,b=h.reject,I=h.promise):I=new Promise((L,H)=>{m=L,b=H}),S="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:m,reject:b,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),c={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===s?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZE=(()=>{class t{constructor(e,i,s,c,h,m){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=h,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Rn.x;const b=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===b||"area"===b,this.isAnchorElement?this.subscription=e.events.subscribe(I=>{I instanceof Sh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,s,c,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||s||c||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const s=this.renderer,c=this.el.nativeElement;null!==i?s.setAttribute(c,e,i):s.removeAttribute(c,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Qo),l.Y36(sg),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(et))},t.\u0275dir=l.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&l.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),t})();class RN{}let kx=(()=>{class t{constructor(e,i,s,c,h){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(e=>e instanceof Sh),wh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,l.MMx)(c.providers,e,`Route: ${c.path}`));const h=c._injector??e,m=c._loadedInjector??h;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?s.push(this.preloadConfig(h,c)):(c.children||c._loadedRoutes)&&s.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,en.D)(s).pipe((0,rh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):nt(null);const c=s.pipe((0,Xi.z)(h=>null===h?nt(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,en.D)([c,h]).pipe((0,rh.J)())}return c})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Qo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(RN),l.LFG(II))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SI=new l.OlP("");let ON=(()=>{class t{constructor(e,i,s,c,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof cI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Sh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof X1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new X1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){l.$Z()},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var Xo=(()=>((Xo=Xo||{})[Xo.COMPLETE=0]="COMPLETE",Xo[Xo.FAILED=1]="FAILED",Xo[Xo.REDIRECTING=2]="REDIRECTING",Xo))();const ug=!1;function Zu(t,n){return{\u0275kind:t,\u0275providers:n}}const NI=new l.OlP("",{providedIn:"root",factory:()=>!1});function PN(){const t=(0,l.f3M)(l.zs3);return n=>{const e=t.get(l.z2F);if(n!==e.components[0])return;const i=t.get(Qo),s=t.get(kN);1===t.get(AI)&&i.initialNavigation(),t.get(xN,null,l.XFs.Optional)?.setUpPreloading(),t.get(SI,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const kN=new l.OlP(ug?"bootstrap done indicator":"",{factory:()=>new Rn.x}),AI=new l.OlP(ug?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ux(){let t=[];return t=ug?[{provide:l.Xts,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Qo);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function uk(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Zu(1,t)}const xN=new l.OlP(ug?"router preloader":"");function Bx(t){return Zu(0,[{provide:xN,useExisting:kx},{provide:RN,useExisting:t}])}const yv=!1,FN=new l.OlP(yv?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Hx=[Re,{provide:av,useClass:iI},Qo,fv,{provide:sg,useFactory:function MN(t){return t.routerState.root},deps:[Qo]},II,yv?{provide:NI,useValue:!0}:[]];function Gx(){return new l.PXZ("Router",Qo)}let LN=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Hx,yv&&i?.enableTracing?Ux().\u0275providers:[],{provide:cg,multi:!0,useValue:e},{provide:FN,useFactory:zx,deps:[[Qo,new l.FiY,new l.tp0]]},{provide:YE,useValue:i||{}},i?.useHash?{provide:et,useClass:ve}:{provide:et,useClass:be},{provide:SI,useFactory:()=>{const t=(0,l.f3M)(Us),n=(0,l.f3M)(l.R0b),e=(0,l.f3M)(YE),i=(0,l.f3M)(zE),s=(0,l.f3M)(av);return e.scrollOffset&&t.setOffset(e.scrollOffset),new ON(s,i,t,n,e)}},i?.preloadingStrategy?Bx(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Gx},i?.initialNavigation?Yx(i):[],[{provide:VN,useFactory:PN},{provide:l.tb,multi:!0,useExisting:VN}]]}}static forChild(e){return{ngModule:t,providers:[{provide:cg,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(FN,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[vI]}),t})();function zx(t){if(yv&&t)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Yx(t){return["disabled"===t.initialNavigation?Zu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Qo);return()=>{n.setUpLocationChangeListener()}}},{provide:AI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Zu(2,[{provide:AI,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(ue,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const s=n.get(Qo),c=n.get(kN);(function xx(t,n){t.events.pipe(Ri(e=>e instanceof Sh||e instanceof xE||e instanceof uI||e instanceof FE),(0,ut.U)(e=>e instanceof Sh||e instanceof FE?Xo.COMPLETE:e instanceof xE&&(0===e.code||1===e.code)?Xo.REDIRECTING:Xo.FAILED),Ri(e=>e!==Xo.REDIRECTING),mi(1)).subscribe(()=>{n()})})(s,()=>{i(!0)}),n.get(zE).afterPreactivation=()=>(i(!0),c.closed?nt(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const VN=new l.OlP(yv?"Router Initializer":"");let qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["books"]],decls:2,vars:0,template:function(e,i){1&e&&(l.TgZ(0,"p"),l._uU(1,"books works!"),l.qZA())}}),t})(),Kx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["home"]],decls:2,vars:0,template:function(e,i){1&e&&(l.TgZ(0,"p"),l._uU(1,"home works!"),l.qZA())}}),t})();var Jx=F(8401);const Qx=[{path:"",component:Kx},{path:"login",component:(()=>{class t{constructor(e){this.afAuth=e}login(){this.afAuth.signInWithRedirect(new Jx.Q)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Fu))},t.\u0275cmp=l.Xpm({type:t,selectors:[["login"]],decls:3,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"h1"),l._uU(1,"Login"),l.qZA(),l.TgZ(2,"button",0),l.NdJ("click",function(){return i.login()}),l.qZA())}}),t})()},{path:"books",component:qx}];let Xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[LN.forRoot(Qx),LN]}),t})(),eF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["bs-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/books",1,"nav-link","active"],["aria-current","page","href","#",1,"nav-link","active"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"]],template:function(e,i){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"RateReads"),l.qZA(),l.TgZ(4,"button",3),l._UZ(5,"span",4),l.qZA(),l.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),l._uU(10,"Browse"),l.qZA()(),l.TgZ(11,"li",7)(12,"a",9),l._uU(13,"Reading List"),l.qZA()(),l.TgZ(14,"li",10)(15,"a",11),l._uU(16," Username "),l.qZA(),l.TgZ(17,"ul",12)(18,"li")(19,"a",13),l._uU(20,"Edit Profile"),l.qZA()(),l.TgZ(21,"li")(22,"a",13),l._uU(23,"Sign out"),l.qZA()()()()(),l.TgZ(24,"form",14),l._UZ(25,"input",15),l.TgZ(26,"button",16),l._uU(27,"Search"),l.qZA()()()()())},dependencies:[ZE,nv,e1,Kw,qw]}),t})(),tF=(()=>{class t{constructor(){this.title="review-forum"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(l._UZ(0,"bs-navbar"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA())},dependencies:[mI,eF]}),t})(),nF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t,bootstrap:[tF]}),t.\u0275inj=l.cJS({imports:[dd,Xx,Nn.hO.initializeApp(Zh_firebaseConfig),ib,q0,IP]}),t})();Bc().bootstrapModule(nF).catch(t=>console.error(t))},9751:(it,ye,F)=>{F.d(ye,{y:()=>le});var l=F(930),G=F(727),M=F(8822),ee=F(9635),re=F(2416),ie=F(576),fe=F(2806);let le=(()=>{class Z{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Ge=new Z;return Ge.source=this,Ge.operator=Ce,Ge}subscribe(Ce,Ge,et){const he=function z(Z){return Z&&Z instanceof l.Lv||function W(Z){return Z&&(0,ie.m)(Z.next)&&(0,ie.m)(Z.error)&&(0,ie.m)(Z.complete)}(Z)&&(0,G.Nn)(Z)}(Ce)?Ce:new l.Hp(Ce,Ge,et);return(0,fe.x)(()=>{const{operator:be,source:ve}=this;he.add(be?be.call(he,ve):ve?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Ge){Ce.error(Ge)}}forEach(Ce,Ge){return new(Ge=ue(Ge))((et,he)=>{const be=new l.Hp({next:ve=>{try{Ce(ve)}catch(Re){he(Re),be.unsubscribe()}},error:he,complete:et});this.subscribe(be)})}_subscribe(Ce){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Ce)}[M.L](){return this}pipe(...Ce){return(0,ee.U)(Ce)(this)}toPromise(Ce){return new(Ce=ue(Ce))((Ge,et)=>{let he;this.subscribe(be=>he=be,be=>et(be),()=>Ge(he))})}}return Z.create=xe=>new Z(xe),Z})();function ue(Z){var xe;return null!==(xe=Z??re.v.Promise)&&void 0!==xe?xe:Promise}},7579:(it,ye,F)=>{F.d(ye,{x:()=>fe});var l=F(9751),G=F(727);const ee=(0,F(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=F(8737),ie=F(2806);let fe=(()=>{class ue extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Z=new le(this,this);return Z.operator=z,Z}_throwIfClosed(){if(this.closed)throw new ee}next(z){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(z)}})}error(z){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Z}=this;for(;Z.length;)Z.shift().error(z)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Z,isStopped:xe,observers:Ce}=this;return Z||xe?G.Lc:(this.currentObservers=null,Ce.push(z),new G.w0(()=>{this.currentObservers=null,(0,re.P)(Ce,z)}))}_checkFinalizedStatuses(z){const{hasError:Z,thrownError:xe,isStopped:Ce}=this;Z?z.error(xe):Ce&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return ue.create=(W,z)=>new le(W,z),ue})();class le extends fe{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Z||Z.call(z,W)}error(W){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Z||Z.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,Z;return null!==(Z=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==Z?Z:G.Lc}}},930:(it,ye,F)=>{F.d(ye,{Hp:()=>et,Lv:()=>Z});var l=F(576),G=F(727),M=F(2416),ee=F(7849),re=F(5032);const ie=ue("C",void 0,void 0);function ue(Ie,Ne,Ee){return{kind:Ie,value:Ne,error:Ee}}var W=F(3410),z=F(2806);class Z extends G.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,G.Nn)(Ne)&&Ne.add(this)):this.destination=Re}static create(Ne,Ee,Ve){return new et(Ne,Ee,Ve)}next(Ne){this.isStopped?ve(function le(Ie){return ue("N",Ie,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?ve(function fe(Ie){return ue("E",void 0,Ie)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?ve(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function Ce(Ie,Ne){return xe.call(Ie,Ne)}class Ge{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ne)}catch(Ve){he(Ve)}}error(Ne){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ne)}catch(Ve){he(Ve)}else he(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ee){he(Ee)}}}class et extends Z{constructor(Ne,Ee,Ve){let Q;if(super(),(0,l.m)(Ne)||!Ne)Q={next:Ne??void 0,error:Ee??void 0,complete:Ve??void 0};else{let se;this&&M.v.useDeprecatedNextContext?(se=Object.create(Ne),se.unsubscribe=()=>this.unsubscribe(),Q={next:Ne.next&&Ce(Ne.next,se),error:Ne.error&&Ce(Ne.error,se),complete:Ne.complete&&Ce(Ne.complete,se)}):Q=Ne}this.destination=new Ge(Q)}}function he(Ie){M.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ie):(0,ee.h)(Ie)}function ve(Ie,Ne){const{onStoppedNotification:Ee}=M.v;Ee&&W.z.setTimeout(()=>Ee(Ie,Ne))}const Re={closed:!0,next:re.Z,error:function be(Ie){throw Ie},complete:re.Z}},727:(it,ye,F)=>{F.d(ye,{Lc:()=>ie,w0:()=>re,Nn:()=>fe});var l=F(576);const M=(0,F(3888).d)(ue=>function(z){ue(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Z,xe)=>`${xe+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ee=F(8737);class re{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ce of z)Ce.remove(this);else z.remove(this);const{initialTeardown:Z}=this;if((0,l.m)(Z))try{Z()}catch(Ce){W=Ce instanceof M?Ce.errors:[Ce]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const Ce of xe)try{le(Ce)}catch(Ge){W=W??[],Ge instanceof M?W=[...W,...Ge.errors]:W.push(Ge)}}if(W)throw new M(W)}}add(W){var z;if(W&&W!==this)if(this.closed)le(W);else{if(W instanceof re){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,ee.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,ee.P)(z,W),W instanceof re&&W._removeParent(this)}}re.EMPTY=(()=>{const ue=new re;return ue.closed=!0,ue})();const ie=re.EMPTY;function fe(ue){return ue instanceof re||ue&&"closed"in ue&&(0,l.m)(ue.remove)&&(0,l.m)(ue.add)&&(0,l.m)(ue.unsubscribe)}function le(ue){(0,l.m)(ue)?ue():ue.unsubscribe()}},2416:(it,ye,F)=>{F.d(ye,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,ye,F)=>{F.d(ye,{E:()=>G});const G=new(F(9751).y)(re=>re.complete())},8996:(it,ye,F)=>{F.d(ye,{D:()=>Ne});var l=F(8421),G=F(5363),M=F(9468),ie=F(9751),le=F(2202),ue=F(576),W=F(9672);function Z(Ee,Ve){if(!Ee)throw new Error("Iterable cannot be null");return new ie.y(Q=>{(0,W.f)(Q,Ve,()=>{const se=Ee[Symbol.asyncIterator]();(0,W.f)(Q,Ve,()=>{se.next().then(pe=>{pe.done?Q.complete():Q.next(pe.value)})},0,!0)})})}var xe=F(3670),Ce=F(8239),Ge=F(1144),et=F(6495),he=F(2206),be=F(4532),ve=F(3260);function Ne(Ee,Ve){return Ve?function Ie(Ee,Ve){if(null!=Ee){if((0,xe.c)(Ee))return function ee(Ee,Ve){return(0,l.Xf)(Ee).pipe((0,M.R)(Ve),(0,G.Q)(Ve))}(Ee,Ve);if((0,Ge.z)(Ee))return function fe(Ee,Ve){return new ie.y(Q=>{let se=0;return Ve.schedule(function(){se===Ee.length?Q.complete():(Q.next(Ee[se++]),Q.closed||this.schedule())})})}(Ee,Ve);if((0,Ce.t)(Ee))return function re(Ee,Ve){return(0,l.Xf)(Ee).pipe((0,M.R)(Ve),(0,G.Q)(Ve))}(Ee,Ve);if((0,he.D)(Ee))return Z(Ee,Ve);if((0,et.T)(Ee))return function z(Ee,Ve){return new ie.y(Q=>{let se;return(0,W.f)(Q,Ve,()=>{se=Ee[le.h](),(0,W.f)(Q,Ve,()=>{let pe,Be;try{({value:pe,done:Be}=se.next())}catch(Me){return void Q.error(Me)}Be?Q.complete():Q.next(pe)},0,!0)}),()=>(0,ue.m)(se?.return)&&se.return()})}(Ee,Ve);if((0,ve.L)(Ee))return function Re(Ee,Ve){return Z((0,ve.Q)(Ee),Ve)}(Ee,Ve)}throw(0,be.z)(Ee)}(Ee,Ve):(0,l.Xf)(Ee)}},8421:(it,ye,F)=>{F.d(ye,{Xf:()=>xe});var l=F(655),G=F(1144),M=F(8239),ee=F(9751),re=F(3670),ie=F(2206),fe=F(4532),le=F(6495),ue=F(3260),W=F(576),z=F(7849),Z=F(8822);function xe(Ie){if(Ie instanceof ee.y)return Ie;if(null!=Ie){if((0,re.c)(Ie))return function Ce(Ie){return new ee.y(Ne=>{const Ee=Ie[Z.L]();if((0,W.m)(Ee.subscribe))return Ee.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,G.z)(Ie))return function Ge(Ie){return new ee.y(Ne=>{for(let Ee=0;Ee<Ie.length&&!Ne.closed;Ee++)Ne.next(Ie[Ee]);Ne.complete()})}(Ie);if((0,M.t)(Ie))return function et(Ie){return new ee.y(Ne=>{Ie.then(Ee=>{Ne.closed||(Ne.next(Ee),Ne.complete())},Ee=>Ne.error(Ee)).then(null,z.h)})}(Ie);if((0,ie.D)(Ie))return be(Ie);if((0,le.T)(Ie))return function he(Ie){return new ee.y(Ne=>{for(const Ee of Ie)if(Ne.next(Ee),Ne.closed)return;Ne.complete()})}(Ie);if((0,ue.L)(Ie))return function ve(Ie){return be((0,ue.Q)(Ie))}(Ie)}throw(0,fe.z)(Ie)}function be(Ie){return new ee.y(Ne=>{(function Re(Ie,Ne){var Ee,Ve,Q,se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(Ie);!(Ve=yield Ee.next()).done;)if(Ne.next(Ve.value),Ne.closed)return}catch(pe){Q={error:pe}}finally{try{Ve&&!Ve.done&&(se=Ee.return)&&(yield se.call(Ee))}finally{if(Q)throw Q.error}}Ne.complete()})})(Ie,Ne).catch(Ee=>Ne.error(Ee))})}},6451:(it,ye,F)=>{F.d(ye,{T:()=>ie});var l=F(8189),G=F(8421),M=F(515),ee=F(3269),re=F(8996);function ie(...fe){const le=(0,ee.yG)(fe),ue=(0,ee._6)(fe,1/0),W=fe;return W.length?1===W.length?(0,G.Xf)(W[0]):(0,l.J)(ue)((0,re.D)(W,le)):M.E}},5403:(it,ye,F)=>{F.d(ye,{x:()=>G});var l=F(930);function G(ee,re,ie,fe,le){return new M(ee,re,ie,fe,le)}class M extends l.Lv{constructor(re,ie,fe,le,ue,W){super(re),this.onFinalize=ue,this.shouldUnsubscribe=W,this._next=ie?function(z){try{ie(z)}catch(Z){re.error(Z)}}:super._next,this._error=le?function(z){try{le(z)}catch(Z){re.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(z){re.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(it,ye,F)=>{F.d(ye,{U:()=>M});var l=F(4482),G=F(5403);function M(ee,re){return(0,l.e)((ie,fe)=>{let le=0;ie.subscribe((0,G.x)(fe,ue=>{fe.next(ee.call(re,ue,le++))}))})}},8189:(it,ye,F)=>{F.d(ye,{J:()=>M});var l=F(5577),G=F(4671);function M(ee=1/0){return(0,l.z)(G.y,ee)}},5577:(it,ye,F)=>{F.d(ye,{z:()=>le});var l=F(4004),G=F(8421),M=F(4482),ee=F(9672),re=F(5403),fe=F(576);function le(ue,W,z=1/0){return(0,fe.m)(W)?le((Z,xe)=>(0,l.U)((Ce,Ge)=>W(Z,Ce,xe,Ge))((0,G.Xf)(ue(Z,xe))),z):("number"==typeof W&&(z=W),(0,M.e)((Z,xe)=>function ie(ue,W,z,Z,xe,Ce,Ge,et){const he=[];let be=0,ve=0,Re=!1;const Ie=()=>{Re&&!he.length&&!be&&W.complete()},Ne=Ve=>be<Z?Ee(Ve):he.push(Ve),Ee=Ve=>{Ce&&W.next(Ve),be++;let Q=!1;(0,G.Xf)(z(Ve,ve++)).subscribe((0,re.x)(W,se=>{xe?.(se),Ce?Ne(se):W.next(se)},()=>{Q=!0},void 0,()=>{if(Q)try{for(be--;he.length&&be<Z;){const se=he.shift();Ge?(0,ee.f)(W,Ge,()=>Ee(se)):Ee(se)}Ie()}catch(se){W.error(se)}}))};return ue.subscribe((0,re.x)(W,Ne,()=>{Re=!0,Ie()})),()=>{et?.()}}(Z,xe,ue,z)))}},5363:(it,ye,F)=>{F.d(ye,{Q:()=>ee});var l=F(9672),G=F(4482),M=F(5403);function ee(re,ie=0){return(0,G.e)((fe,le)=>{fe.subscribe((0,M.x)(le,ue=>(0,l.f)(le,re,()=>le.next(ue),ie),()=>(0,l.f)(le,re,()=>le.complete(),ie),ue=>(0,l.f)(le,re,()=>le.error(ue),ie)))})}},3099:(it,ye,F)=>{F.d(ye,{B:()=>re});var l=F(8421),G=F(7579),M=F(930),ee=F(4482);function re(fe={}){const{connector:le=(()=>new G.x),resetOnError:ue=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=fe;return Z=>{let xe,Ce,Ge,et=0,he=!1,be=!1;const ve=()=>{Ce?.unsubscribe(),Ce=void 0},Re=()=>{ve(),xe=Ge=void 0,he=be=!1},Ie=()=>{const Ne=xe;Re(),Ne?.unsubscribe()};return(0,ee.e)((Ne,Ee)=>{et++,!be&&!he&&ve();const Ve=Ge=Ge??le();Ee.add(()=>{et--,0===et&&!be&&!he&&(Ce=ie(Ie,z))}),Ve.subscribe(Ee),!xe&&et>0&&(xe=new M.Hp({next:Q=>Ve.next(Q),error:Q=>{be=!0,ve(),Ce=ie(Re,ue,Q),Ve.error(Q)},complete:()=>{he=!0,ve(),Ce=ie(Re,W),Ve.complete()}}),(0,l.Xf)(Ne).subscribe(xe))})(Z)}}function ie(fe,le,...ue){if(!0===le)return void fe();if(!1===le)return;const W=new M.Hp({next:()=>{W.unsubscribe(),fe()}});return(0,l.Xf)(le(...ue)).subscribe(W)}},9468:(it,ye,F)=>{F.d(ye,{R:()=>G});var l=F(4482);function G(M,ee=0){return(0,l.e)((re,ie)=>{ie.add(M.schedule(()=>re.subscribe(ie),ee))})}},8505:(it,ye,F)=>{F.d(ye,{b:()=>re});var l=F(576),G=F(4482),M=F(5403),ee=F(4671);function re(ie,fe,le){const ue=(0,l.m)(ie)||fe||le?{next:ie,error:fe,complete:le}:ie;return ue?(0,G.e)((W,z)=>{var Z;null===(Z=ue.subscribe)||void 0===Z||Z.call(ue);let xe=!0;W.subscribe((0,M.x)(z,Ce=>{var Ge;null===(Ge=ue.next)||void 0===Ge||Ge.call(ue,Ce),z.next(Ce)},()=>{var Ce;xe=!1,null===(Ce=ue.complete)||void 0===Ce||Ce.call(ue),z.complete()},Ce=>{var Ge;xe=!1,null===(Ge=ue.error)||void 0===Ge||Ge.call(ue,Ce),z.error(Ce)},()=>{var Ce,Ge;xe&&(null===(Ce=ue.unsubscribe)||void 0===Ce||Ce.call(ue)),null===(Ge=ue.finalize)||void 0===Ge||Ge.call(ue)}))}):ee.y}},4408:(it,ye,F)=>{F.d(ye,{o:()=>re});var l=F(727);class G extends l.w0{constructor(fe,le){super()}schedule(fe,le=0){return this}}const M={setInterval(ie,fe,...le){const{delegate:ue}=M;return ue?.setInterval?ue.setInterval(ie,fe,...le):setInterval(ie,fe,...le)},clearInterval(ie){const{delegate:fe}=M;return(fe?.clearInterval||clearInterval)(ie)},delegate:void 0};var ee=F(8737);class re extends G{constructor(fe,le){super(fe,le),this.scheduler=fe,this.work=le,this.pending=!1}schedule(fe,le=0){var ue;if(this.closed)return this;this.state=fe;const W=this.id,z=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(z,W,le)),this.pending=!0,this.delay=le,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(z,this.id,le),this}requestAsyncId(fe,le,ue=0){return M.setInterval(fe.flush.bind(fe,this),ue)}recycleAsyncId(fe,le,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return le;null!=le&&M.clearInterval(le)}execute(fe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(fe,le);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,le){let W,ue=!1;try{this.work(fe)}catch(z){ue=!0,W=z||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:fe,scheduler:le}=this,{actions:ue}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ue,this),null!=fe&&(this.id=this.recycleAsyncId(le,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,ye,F)=>{F.d(ye,{v:()=>M});var l=F(6063);class G{constructor(re,ie=G.now){this.schedulerActionCtor=re,this.now=ie}schedule(re,ie=0,fe){return new this.schedulerActionCtor(this,re).schedule(fe,ie)}}G.now=l.l.now;class M extends G{constructor(re,ie=G.now){super(re,ie),this.actions=[],this._active=!1}flush(re){const{actions:ie}=this;if(this._active)return void ie.push(re);let fe;this._active=!0;do{if(fe=re.execute(re.state,re.delay))break}while(re=ie.shift());if(this._active=!1,fe){for(;re=ie.shift();)re.unsubscribe();throw fe}}}},4986:(it,ye,F)=>{F.d(ye,{P:()=>ee,z:()=>M});var l=F(4408);const M=new(F(7565).v)(l.o),ee=M},6063:(it,ye,F)=>{F.d(ye,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(it,ye,F)=>{F.d(ye,{z:()=>l});const l={setTimeout(G,M,...ee){const{delegate:re}=l;return re?.setTimeout?re.setTimeout(G,M,...ee):setTimeout(G,M,...ee)},clearTimeout(G){const{delegate:M}=l;return(M?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(it,ye,F)=>{F.d(ye,{h:()=>G});const G=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,ye,F)=>{F.d(ye,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,ye,F)=>{F.d(ye,{_6:()=>ie,jO:()=>ee,yG:()=>re});var l=F(576),G=F(3532);function M(fe){return fe[fe.length-1]}function ee(fe){return(0,l.m)(M(fe))?fe.pop():void 0}function re(fe){return(0,G.K)(M(fe))?fe.pop():void 0}function ie(fe,le){return"number"==typeof M(fe)?fe.pop():le}},8737:(it,ye,F)=>{function l(G,M){if(G){const ee=G.indexOf(M);0<=ee&&G.splice(ee,1)}}F.d(ye,{P:()=>l})},3888:(it,ye,F)=>{function l(G){const ee=G(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}F.d(ye,{d:()=>l})},2806:(it,ye,F)=>{F.d(ye,{O:()=>ee,x:()=>M});var l=F(2416);let G=null;function M(re){if(l.v.useDeprecatedSynchronousErrorHandling){const ie=!G;if(ie&&(G={errorThrown:!1,error:null}),re(),ie){const{errorThrown:fe,error:le}=G;if(G=null,fe)throw le}}else re()}function ee(re){l.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=re)}},9672:(it,ye,F)=>{function l(G,M,ee,re=0,ie=!1){const fe=M.schedule(function(){ee(),ie?G.add(this.schedule(null,re)):this.unsubscribe()},re);if(G.add(fe),!ie)return fe}F.d(ye,{f:()=>l})},4671:(it,ye,F)=>{function l(G){return G}F.d(ye,{y:()=>l})},1144:(it,ye,F)=>{F.d(ye,{z:()=>l});const l=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(it,ye,F)=>{F.d(ye,{D:()=>G});var l=F(576);function G(M){return Symbol.asyncIterator&&(0,l.m)(M?.[Symbol.asyncIterator])}},576:(it,ye,F)=>{function l(G){return"function"==typeof G}F.d(ye,{m:()=>l})},3670:(it,ye,F)=>{F.d(ye,{c:()=>M});var l=F(8822),G=F(576);function M(ee){return(0,G.m)(ee[l.L])}},6495:(it,ye,F)=>{F.d(ye,{T:()=>M});var l=F(2202),G=F(576);function M(ee){return(0,G.m)(ee?.[l.h])}},8239:(it,ye,F)=>{F.d(ye,{t:()=>G});var l=F(576);function G(M){return(0,l.m)(M?.then)}},3260:(it,ye,F)=>{F.d(ye,{L:()=>ee,Q:()=>M});var l=F(655),G=F(576);function M(re){return(0,l.FC)(this,arguments,function*(){const fe=re.getReader();try{for(;;){const{value:le,done:ue}=yield(0,l.qq)(fe.read());if(ue)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(le)}}finally{fe.releaseLock()}})}function ee(re){return(0,G.m)(re?.getReader)}},3532:(it,ye,F)=>{F.d(ye,{K:()=>G});var l=F(576);function G(M){return M&&(0,l.m)(M.schedule)}},4482:(it,ye,F)=>{F.d(ye,{A:()=>G,e:()=>M});var l=F(576);function G(ee){return(0,l.m)(ee?.lift)}function M(ee){return re=>{if(G(re))return re.lift(function(ie){try{return ee(ie,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,ye,F)=>{function l(){}F.d(ye,{Z:()=>l})},9635:(it,ye,F)=>{F.d(ye,{U:()=>M,z:()=>G});var l=F(4671);function G(...ee){return M(ee)}function M(ee){return 0===ee.length?l.y:1===ee.length?ee[0]:function(ie){return ee.reduce((fe,le)=>le(fe),ie)}}},7849:(it,ye,F)=>{F.d(ye,{h:()=>M});var l=F(2416),G=F(3410);function M(ee){G.z.setTimeout(()=>{const{onUnhandledError:re}=l.v;if(!re)throw ee;re(ee)})}},4532:(it,ye,F)=>{function l(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ye,{z:()=>l})},655:(it,ye,F)=>{function ee(oe,ce){var ge={};for(var Te in oe)Object.prototype.hasOwnProperty.call(oe,Te)&&ce.indexOf(Te)<0&&(ge[Te]=oe[Te]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Te=Object.getOwnPropertySymbols(oe);Pe<Te.length;Pe++)ce.indexOf(Te[Pe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Te[Pe])&&(ge[Te[Pe]]=oe[Te[Pe]])}return ge}function Z(oe,ce,ge,Te){return new(ge||(ge=Promise))(function(ke,ze){function je(st){try{lt(Te.next(st))}catch(Je){ze(Je)}}function Kt(st){try{lt(Te.throw(st))}catch(Je){ze(Je)}}function lt(st){st.done?ke(st.value):function Pe(ke){return ke instanceof ge?ke:new ge(function(ze){ze(ke)})}(st.value).then(je,Kt)}lt((Te=Te.apply(oe,ce||[])).next())})}function Ie(oe){return this instanceof Ie?(this.v=oe,this):new Ie(oe)}function Ne(oe,ce,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Te=ge.apply(oe,ce||[]),ke=[];return Pe={},ze("next"),ze("throw"),ze("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function ze(jt){Te[jt]&&(Pe[jt]=function(wn){return new Promise(function(Qt,Jt){ke.push([jt,wn,Qt,Jt])>1||je(jt,wn)})})}function je(jt,wn){try{!function Kt(jt){jt.value instanceof Ie?Promise.resolve(jt.value.v).then(lt,st):Je(ke[0][2],jt)}(Te[jt](wn))}catch(Qt){Je(ke[0][3],Qt)}}function lt(jt){je("next",jt)}function st(jt){je("throw",jt)}function Je(jt,wn){jt(wn),ke.shift(),ke.length&&je(ke[0][0],ke[0][1])}}function Ve(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ce=oe[Symbol.asyncIterator];return ce?ce.call(oe):(oe=function et(oe){var ce="function"==typeof Symbol&&Symbol.iterator,ge=ce&&oe[ce],Te=0;if(ge)return ge.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Te>=oe.length&&(oe=void 0),{value:oe&&oe[Te++],done:!oe}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ge={},Te("next"),Te("throw"),Te("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Te(ke){ge[ke]=oe[ke]&&function(ze){return new Promise(function(je,Kt){!function Pe(ke,ze,je,Kt){Promise.resolve(Kt).then(function(lt){ke({value:lt,done:je})},ze)}(je,Kt,(ze=oe[ke](ze)).done,ze.value)})}}}F.d(ye,{FC:()=>Ne,KL:()=>Ve,_T:()=>ee,mG:()=>Z,qq:()=>Ie})},4650:(it,ye,F)=>{F.d(ye,{$8M:()=>Bc,$WT:()=>Wi,$Z:()=>gy,AFp:()=>Lb,ALo:()=>hb,AaK:()=>le,BQk:()=>Yd,CHM:()=>vn,CRH:()=>_m,CZH:()=>vc,CqO:()=>Hy,D6c:()=>pE,EJc:()=>Mm,EpF:()=>vo,F$t:()=>zy,F4k:()=>By,FYo:()=>Wv,FiY:()=>bn,Gf:()=>pm,GfV:()=>Od,Gpc:()=>z,Hsn:()=>Yy,Ikx:()=>Ou,JOm:()=>gi,KtG:()=>Dl,LFG:()=>Fe,LMc:()=>Mw,Lbi:()=>Ub,Lck:()=>J0,MAs:()=>Vy,MGl:()=>Qf,MMx:()=>im,MT6:()=>p0,NdJ:()=>T_,OlP:()=>Xt,Oqu:()=>bo,P3R:()=>Vn,PXZ:()=>_w,Q6J:()=>w_,QGY:()=>Jf,Qsj:()=>Nf,QtT:()=>q0,R0b:()=>Zr,RDi:()=>Ag,Rgc:()=>ah,SBq:()=>ha,SDv:()=>X_,Sil:()=>Hb,Suo:()=>gm,TTD:()=>bl,TgZ:()=>cl,Tol:()=>Gi,Udp:()=>P_,VKq:()=>ob,W1O:()=>bm,WLB:()=>sb,X6Q:()=>bw,XFs:()=>Qe,Xpm:()=>Ei,Xts:()=>bf,Y36:()=>mu,YKP:()=>tm,YNc:()=>Ly,Yjl:()=>vl,Yz7:()=>Je,Z0I:()=>Jt,ZZ4:()=>Kr,_Bn:()=>K0,_UZ:()=>Kf,_Vd:()=>_o,_c5:()=>mh,_uU:()=>Rs,aQg:()=>bc,c2e:()=>hw,cJS:()=>wn,cg1:()=>G_,dDg:()=>pw,dqk:()=>Ct,eFA:()=>jp,eJc:()=>lh,ekj:()=>k_,eoX:()=>Lm,f3M:()=>Ye,g9A:()=>Vb,h0i:()=>pc,hGG:()=>Aw,hij:()=>Kd,iGM:()=>fm,ifc:()=>O,ip1:()=>fh,jDz:()=>rm,kEZ:()=>Cp,kL8:()=>C0,lG2:()=>ml,lcZ:()=>lm,lqb:()=>po,lri:()=>Fm,n5z:()=>$a,oAB:()=>Ta,oxw:()=>Wy,pQV:()=>Fu,q4F:()=>Ja,qLn:()=>fa,qOj:()=>jd,qZA:()=>Au,rWj:()=>Zb,s9C:()=>N_,sBO:()=>rE,s_b:()=>Np,soG:()=>Bp,tb:()=>Bm,tp0:()=>sn,uIk:()=>$d,vHH:()=>he,vpe:()=>rn,wAp:()=>vt,xp6:()=>ny,ynx:()=>zd,z2F:()=>ph,zSh:()=>Cf,zs3:()=>Xa});var l=F(7579),G=F(727),M=F(9751),ee=F(6451),re=F(3099);function ie(r){for(let o in r)if(r[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function fe(r,o){for(const a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a])}function le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ue(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const W=ie({__forward_ref__:ie});function z(r){return r.__forward_ref__=z,r.toString=function(){return le(this())},r}function Z(r){return xe(r)?r():r}function xe(r){return"function"==typeof r&&r.hasOwnProperty(W)&&r.__forward_ref__===z}function Ce(r){return r&&!!r.\u0275providers}const et="https://g.co/ng/security#xss";class he extends Error{constructor(o,a){super(be(o,a)),this.code=o}}function be(r,o){return`NG0${Math.abs(r)}${o?": "+o.trim():""}`}function ve(r){return"string"==typeof r?r:null==r?"":String(r)}function Ve(r,o){throw new he(-201,!1)}function je(r,o,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function Je(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Qt(r){return zn(r,$i)||zn(r,on)}function Jt(r){return null!==Qt(r)}function zn(r,o){return r.hasOwnProperty(o)?r[o]:null}function On(r){return r&&(r.hasOwnProperty(sr)||r.hasOwnProperty(ei))?r[sr]:null}const $i=ie({\u0275prov:ie}),sr=ie({\u0275inj:ie}),on=ie({ngInjectableDef:ie}),ei=ie({ngInjectorDef:ie});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let si;function Gn(r){const o=si;return si=r,o}function Mn(r,o,a){const u=Qt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Qe.Optional?null:void 0!==o?o:void Ve(le(r))}const Ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),In={},Pn="__NG_DI_FLAG__",ti="ngTempTokenPath",Yn="ngTokenPath",ar=/\n/gm,St="\u0275",lr="__source";let Mt;function Pi(r){const o=Mt;return Mt=r,o}function kn(r,o=Qe.Default){if(void 0===Mt)throw new he(-203,!1);return null===Mt?Mn(r,void 0,o):Mt.get(r,o&Qe.Optional?null:void 0,o)}function Fe(r,o=Qe.Default){return(function ai(){return si}()||kn)(Z(r),o)}function Ye(r,o=Qe.Default){return Fe(r,ct(o))}function ct(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function bt(r){const o=[];for(let a=0;a<r.length;a++){const u=Z(r[a]);if(Array.isArray(u)){if(0===u.length)throw new he(900,!1);let d,f=Qe.Default;for(let _=0;_<u.length;_++){const y=u[_],D=xn(y);"number"==typeof D?-1===D?d=y.token:f|=D:d=y}o.push(Fe(d,f))}else o.push(Fe(u))}return o}function Vt(r,o){return r[Pn]=o,r.prototype[Pn]=o,r}function xn(r){return r[Pn]}function P(r){return{toString:r}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),O=(()=>{return(r=O||(O={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",O;var r})();const J={},ae=[],Xe=ie({\u0275cmp:ie}),gt=ie({\u0275dir:ie}),Et=ie({\u0275pipe:ie}),xt=ie({\u0275mod:ie}),_t=ie({\u0275fac:ie}),cn=ie({__NG_ELEMENT_ID__:ie});let At=0;function Ei(r){return P(()=>{const a=!0===r.standalone,u={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ae,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||O.Emulated,id:"c"+At++,styles:r.styles||ae,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=r.dependencies,_=r.features;return d.inputs=ks(r.inputs,u),d.outputs=ks(r.outputs),_&&_.forEach(y=>y(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ps).filter(Ia):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(ni).filter(Ia):null,d})}function Ps(r){return Zt(r)||Fn(r)}function Ia(r){return null!==r}function Ta(r){return P(()=>({type:r.type,bootstrap:r.bootstrap||ae,declarations:r.declarations||ae,imports:r.imports||ae,exports:r.exports||ae,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ks(r,o){if(null==r)return J;const a={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=u,o&&(o[d]=f)}return a}const ml=Ei;function vl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Zt(r){return r[Xe]||null}function Fn(r){return r[gt]||null}function ni(r){return r[Et]||null}function Wi(r){const o=Zt(r)||Fn(r)||ni(r);return null!==o&&o.standalone}function ki(r,o){const a=r[xt]||null;if(!a&&!0===o)throw new Error(`Type ${le(r)} does not have '\u0275mod' property.`);return a}const fn=0,qe=1,wt=2,pn=3,xi=4,wo=5,Tn=6,Ur=7,gn=8,ci=9,Io=10,Pt=11,jn=12,Sa=13,Na=14,To=15,$n=16,Qr=17,So=18,Br=19,Xr=20,ts=21,Yt=22,Dc=1,Sn=2,Aa=7,ns=8,is=9,Ln=10;function Di(r){return Array.isArray(r)&&"object"==typeof r[Dc]}function gr(r){return Array.isArray(r)&&!0===r[Dc]}function yl(r){return 0!=(4&r.flags)}function No(r){return r.componentOffset>-1}function Nr(r){return 1==(1&r.flags)}function _r(r){return null!==r.template}function Ph(r){return 0!=(256&r[wt])}function Rr(r,o){return r.hasOwnProperty(_t)?r[_t]:null}class Ic{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function bl(){return Ro}function Ro(r){return r.type.prototype.ngOnChanges&&(r.setInput=Us),Oa}function Oa(){const r=to(this),o=r?.current;if(o){const a=r.previous;if(a===J)r.previous=o;else for(let u in o)a[u]=o[u];r.current=null,this.ngOnChanges(o)}}function Us(r,o,a,u){const d=this.declaredInputs[a],f=to(r)||function Hs(r,o){return r[Bs]=o}(r,{previous:J,current:null}),_=f.current||(f.current={}),y=f.previous,D=y[d];_[d]=new Ic(D&&D.currentValue,o,y===J),r[u]=o}bl.ngInherit=!0;const Bs="__ngSimpleChanges__";function to(r){return r[Bs]||null}const Li=function(r,o,a){};function Ht(r){for(;Array.isArray(r);)r=r[fn];return r}function io(r,o){return Ht(o[r])}function ii(r,o){return Ht(o[r.index])}function as(r,o){return r.data[o]}function Or(r,o){return r[o]}function Ci(r,o){const a=o[r];return Di(a)?a:a[fn]}function Hr(r){return 64==(64&r[wt])}function mr(r,o){return null==o?null:r[o]}function Sc(r){r[So]=0}function ls(r,o){r[wo]+=o;let a=r,u=r[pn];for(;null!==u&&(1===o&&1===a[wo]||-1===o&&0===a[wo]);)u[wo]+=o,a=u,u=u[pn]}const It={lFrame:Il(null),bindingsEnabled:!0};function Ac(){return It.bindingsEnabled}function we(){return It.lFrame.lView}function $t(){return It.lFrame.tView}function vn(r){return It.lFrame.contextLView=r,r[gn]}function Dl(r){return It.lFrame.contextLView=null,r}function ui(){let r=Rc();for(;null!==r&&64===r.type;)r=r.parent;return r}function Rc(){return It.lFrame.currentTNode}function us(){const r=It.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function vr(r,o){const a=It.lFrame;a.currentTNode=r,a.isParent=o}function xa(){return It.lFrame.isParent}function Fa(){It.lFrame.isParent=!1}function di(){const r=It.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function zi(){return It.lFrame.bindingIndex}function cr(){return It.lFrame.bindingIndex++}function Yi(r){const o=It.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,a}function Xu(r){It.lFrame.inI18n=r}function Oc(r,o){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=r,qs(o)}function qs(r){It.lFrame.currentDirectiveIndex=r}function Oo(){return It.lFrame.currentQueryIndex}function Ks(r){It.lFrame.currentQueryIndex=r}function Bh(r){const o=r[qe];return 2===o.type?o.declTNode:1===o.type?r[Tn]:null}function Mc(r,o,a){if(a&Qe.SkipSelf){let d=o,f=r;for(;!(d=d.parent,null!==d||a&Qe.Host||(d=Bh(f),null===d||(f=f[To],10&d.type))););if(null===d)return!1;o=d,r=f}const u=It.lFrame=ed();return u.currentTNode=o,u.lView=r,!0}function Ua(r){const o=ed(),a=r[qe];It.lFrame=o,o.currentTNode=a.firstChild,o.lView=r,o.tView=a,o.contextLView=r,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ed(){const r=It.lFrame,o=null===r?null:r.child;return null===o?Il(r):o}function Il(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Hh(){const r=It.lFrame;return It.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Gh=Hh;function td(){const r=Hh();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Zi(){return It.lFrame.selectedIndex}function ro(r){It.lFrame.selectedIndex=r}function yn(){const r=It.lFrame;return as(r.tView,r.selectedIndex)}function Sl(r,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const f=r.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:R}=f;_&&(r.contentHooks||(r.contentHooks=[])).push(-a,_),y&&((r.contentHooks||(r.contentHooks=[])).push(a,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,y)),D&&(r.viewHooks||(r.viewHooks=[])).push(-a,D),T&&((r.viewHooks||(r.viewHooks=[])).push(a,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,T)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(a,R)}}function Js(r,o,a){Ha(r,o,3,a)}function Qs(r,o,a,u){(3&r[wt])===a&&Ha(r,o,a,u)}function Ba(r,o){let a=r[wt];(3&a)===o&&(a&=2047,a+=1,r[wt]=a)}function Ha(r,o,a,u){const f=u??-1,_=o.length-1;let y=0;for(let D=void 0!==u?65535&r[So]:0;D<_;D++)if("number"==typeof o[D+1]){if(y=o[D],null!=u&&y>=u)break}else o[D]<0&&(r[So]+=65536),(y<f||-1==f)&&(Ga(r,a,o,D),r[So]=(4294901760&r[So])+D+2),D++}function Ga(r,o,a,u){const d=a[u]<0,f=a[u+1],y=r[d?-a[u]:a[u]];if(d){if(r[wt]>>11<r[So]>>16&&(3&r[wt])===o){r[wt]+=2048,Li(4,y,f);try{f.call(y)}finally{Li(5,y,f)}}}else{Li(4,y,f);try{f.call(y)}finally{Li(5,y,f)}}}const oo=-1;class Gr{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function hs(r,o,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const f=a[u++],_=a[u++],y=a[u++];r.setAttribute(o,_,y,f)}else{const f=d,_=a[++u];Al(f)?r.setProperty(o,f,_):r.setAttribute(o,f,_),u++}}return u}function un(r){return 3===r||4===r||6===r}function Al(r){return 64===r.charCodeAt(0)}function Mr(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||Mo(r,a,d,null,-1===a||2===a?o[++u]:null)}}return r}function Mo(r,o,a,u,d){let f=0,_=r.length;if(-1===o)_=-1;else for(;f<r.length;){const y=r[f++];if("number"==typeof y){if(y===o){_=-1;break}if(y>o){_=f-1;break}}}for(;f<r.length;){const y=r[f];if("number"==typeof y)break;if(y===a){if(null===u)return void(null!==d&&(r[f+1]=d));if(u===r[f+1])return void(r[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(r.splice(_,0,o),f=_+1),r.splice(f++,0,a),null!==u&&r.splice(f++,0,u),null!==d&&r.splice(f++,0,d)}function so(r){return r!==oo}function fs(r){return 32767&r}function ps(r,o){let a=function xc(r){return r>>16}(r),u=o;for(;a>0;)u=u[To],a--;return u}let Xs=!0;function Po(r){const o=Xs;return Xs=r,o}const ko=255,xo=5;let ld=0;const wi={};function Pr(r,o){const a=gs(r,o);if(-1!==a)return a;const u=o[qe];u.firstCreatePass&&(r.injectorIndex=o.length,ea(u.data,r),ea(o,null),ea(u.blueprint,null));const d=Fo(r,o),f=r.injectorIndex;if(so(d)){const _=fs(d),y=ps(d,o),D=y[qe].data;for(let T=0;T<8;T++)o[f+T]=y[_+T]|D[_+T]}return o[f+8]=d,f}function ea(r,o){r.push(0,0,0,0,0,0,0,0,o)}function gs(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function Fo(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){if(u=oa(d),null===u)return oo;if(a++,d=d[To],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return oo}function ta(r,o,a){!function Ol(r,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(cn)&&(u=a[cn]),null==u&&(u=a[cn]=ld++);const d=u&ko;o.data[r+(d>>xo)]|=1<<d}(r,o,a)}function Ml(r,o,a){if(a&Qe.Optional||void 0!==r)return r;Ve()}function _s(r,o,a,u){if(a&Qe.Optional&&void 0===u&&(u=null),!(a&(Qe.Self|Qe.Host))){const d=r[ci],f=Gn(void 0);try{return d?d.get(o,u,a&Qe.Optional):Mn(o,u,a&Qe.Optional)}finally{Gn(f)}}return Ml(u,0,a)}function Lc(r,o,a,u=Qe.Default,d){if(null!==r){if(1024&o[wt]){const _=function ud(r,o,a,u,d){let f=r,_=o;for(;null!==f&&null!==_&&1024&_[wt]&&!(256&_[wt]);){const y=na(f,_,a,u|Qe.Self,wi);if(y!==wi)return y;let D=f.parent;if(!D){const T=_[ts];if(T){const R=T.get(a,wi,u);if(R!==wi)return R}D=oa(_),_=_[To]}f=D}return d}(r,o,a,u,wi);if(_!==wi)return _}const f=na(r,o,a,u,wi);if(f!==wi)return f}return _s(o,a,u,d)}function na(r,o,a,u,d){const f=function ia(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(cn)?r[cn]:void 0;return"number"==typeof o?o>=0?o&ko:yr:o}(a);if("function"==typeof f){if(!Mc(o,r,u))return u&Qe.Host?Ml(d,0,u):_s(o,a,u,d);try{const _=f(u);if(null!=_||u&Qe.Optional)return _;Ve()}finally{Gh()}}else if("number"==typeof f){let _=null,y=gs(r,o),D=oo,T=u&Qe.Host?o[$n][Tn]:null;for((-1===y||u&Qe.SkipSelf)&&(D=-1===y?Fo(r,o):o[y+8],D!==oo&&Vc(u,!1)?(_=o[qe],y=fs(D),o=ps(D,o)):y=-1);-1!==y;){const R=o[qe];if(ra(f,y,R.data)){const U=cd(y,o,a,_,u,T);if(U!==wi)return U}D=o[y+8],D!==oo&&Vc(u,o[qe].data[y+8]===T)&&ra(f,y,o)?(_=R,y=fs(D),o=ps(D,o)):y=-1}}return d}function cd(r,o,a,u,d,f){const _=o[qe],y=_.data[r+8],R=Vi(y,_,a,null==u?No(y)&&Xs:u!=_&&0!=(3&y.type),d&Qe.Host&&f===y);return null!==R?ao(o,_,R,y):wi}function Vi(r,o,a,u,d){const f=r.providerIndexes,_=o.data,y=1048575&f,D=r.directiveStart,R=f>>20,Y=d?y+R:r.directiveEnd;for(let te=u?y:y+R;te<Y;te++){const de=_[te];if(te<D&&a===de||te>=D&&de.type===a)return te}if(d){const te=_[D];if(te&&_r(te)&&te.type===a)return D}return null}function ao(r,o,a,u){let d=r[a];const f=o.data;if(function od(r){return r instanceof Gr}(d)){const _=d;_.resolving&&function Ie(r,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new he(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Re(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ve(r)}(f[a]));const y=Po(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?Gn(_.injectImpl):null;Mc(r,u,Qe.Default);try{d=r[a]=_.factory(void 0,f,r,u),o.firstCreatePass&&a>=u.directiveStart&&function rd(r,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(u){const _=Ro(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,f))}(a,f[a],o)}finally{null!==D&&Gn(D),Po(y),_.resolving=!1,Gh()}}return d}function ra(r,o,a){return!!(a[o+(r>>xo)]&1<<r)}function Vc(r,o){return!(r&Qe.Self||r&Qe.Host&&o)}class lo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Lc(this._tNode,this._lView,o,ct(u),a)}}function yr(){return new lo(ui(),we())}function $a(r){return P(()=>{const o=r.prototype.constructor,a=o[_t]||Uc(o),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const f=d[_t]||Uc(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Uc(r){return xe(r)?()=>{const o=Uc(Z(r));return o&&o()}:Rr(r)}function oa(r){const o=r[qe],a=o.type;return 2===a?o.declTNode:1===a?r[Tn]:null}function Bc(r){return function Fc(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const a=r.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const f=a[d];if(un(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(ui(),r)}const Vo="__parameters__";function sa(r,o,a){return P(()=>{const u=function Hc(r){return function(...a){if(r){const u=r(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return y.annotation=_,y;function y(D,T,R){const U=D.hasOwnProperty(Vo)?D[Vo]:Object.defineProperty(D,Vo,{value:[]})[Vo];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(_),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Xt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Je({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $r(r,o){r.forEach(a=>Array.isArray(a)?$r(a,o):o(a))}function aa(r,o,a){o>=r.length?r.push(a):r.splice(o,0,a)}function ys(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function bs(r,o){const a=[];for(let u=0;u<r;u++)a.push(o);return a}function Er(r,o,a){let u=Uo(r,o);return u>=0?r[1|u]=a:(u=~u,function zc(r,o,a,u){let d=r.length;if(d==o)r.push(a,u);else if(1===d)r.push(u,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>o;)r[d]=r[d-2],d--;r[o]=a,r[o+1]=u}}(r,u,o,a)),u}function Wa(r,o){const a=Uo(r,o);if(a>=0)return r[1|a]}function Uo(r,o){return function Nn(r,o,a){let u=0,d=r.length>>a;for(;d!==u;){const f=u+(d-u>>1),_=r[f<<a];if(o===_)return f<<a;_>o?d=f:u=f+1}return~(d<<a)}(r,o,1)}const bn=Vt(sa("Optional"),8),sn=Vt(sa("SkipSelf"),4);var gi=(()=>((gi=gi||{})[gi.Important=1]="Important",gi[gi.DashCase=2]="DashCase",gi))();const Ds=/^>|^->|<!--|-->|--!>|<!-$/g,_g=/(<|>)/,Vl="\u200b$1\u200b";const Qc=new Map;let Kn=0;const jo="__ngContext__";function Bi(r,o){Di(o)?(r[jo]=o[Xr],function _d(r){Qc.set(r[Xr],r)}(o)):r[jo]=o}let N;function x(r,o){return N(r,o)}function De(r){const o=r[pn];return gr(o)?o[pn]:o}function Rt(r){return Dr(r[Sa])}function hn(r){return Dr(r[xi])}function Dr(r){for(;null!==r&&!gr(r);)r=r[xi];return r}function Ki(r,o,a,u,d){if(null!=u){let f,_=!1;gr(u)?f=u:Di(u)&&(_=!0,u=u[fn]);const y=Ht(u);0===r&&null!==a?null==d?Sv(o,a,y):Gl(o,a,y,d||null,!0):1===r&&null!==a?Gl(o,a,y,d||null,!0):2===r?pf(o,y,_):3===r&&o.destroyNode(y),null!=f&&function Ov(r,o,a,u,d){const f=a[Aa];f!==Ht(a)&&Ki(o,r,u,f,d);for(let y=Ln;y<a.length;y++){const D=a[y];nu(D[qe],D,r,o,u,f)}}(o,r,f,a,d)}}function Cs(r,o){return r.createText(o)}function vd(r,o,a){r.setValue(o,a)}function yd(r,o){return r.createComment(function Jc(r){return r.replace(Ds,o=>o.replace(_g,Vl))}(o))}function Bl(r,o,a){return r.createElement(o,a)}function cf(r,o){const a=r[is],u=a.indexOf(o),d=o[pn];512&o[wt]&&(o[wt]&=-513,ls(d,-1)),a.splice(u,1)}function Hl(r,o){if(r.length<=Ln)return;const a=Ln+o,u=r[a];if(u){const d=u[Qr];null!==d&&d!==r&&cf(d,u),o>0&&(r[a-1][xi]=u[xi]);const f=ys(r,Ln+o);!function af(r,o){nu(r,o,o[Pt],2,null,null),o[fn]=null,o[Tn]=null}(u[qe],u);const _=f[Br];null!==_&&_.detachView(f[qe]),u[pn]=null,u[xi]=null,u[wt]&=-65}return u}function uf(r,o){if(!(128&o[wt])){const a=o[Pt];a.destroyNode&&nu(r,o,a,3,null,null),function Ed(r){let o=r[Sa];if(!o)return vg(r[qe],r);for(;o;){let a=null;if(Di(o))a=o[Sa];else{const u=o[Ln];u&&(a=u)}if(!a){for(;o&&!o[xi]&&o!==r;)Di(o)&&vg(o[qe],o),o=o[pn];null===o&&(o=r),Di(o)&&vg(o[qe],o),a=o&&o[xi]}o=a}}(o)}}function vg(r,o){if(!(128&o[wt])){o[wt]&=-65,o[wt]|=128,function Iv(r,o){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof Gr)){const f=a[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const y=d[f[_]],D=f[_+1];Li(4,y,D);try{D.call(y)}finally{Li(5,y,D)}}else{Li(4,d,f);try{f.call(d)}finally{Li(5,d,f)}}}}}(r,o),function eD(r,o){const a=r.cleanup,u=o[Ur];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+3];_>=0?u[d=_]():u[d=-_].unsubscribe(),f+=2}else{const _=u[d=a[f+1]];a[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)(0,u[f])();o[Ur]=null}}(r,o),1===o[qe].type&&o[Pt].destroy();const a=o[Qr];if(null!==a&&gr(o[pn])){a!==o[pn]&&cf(a,o);const u=o[Br];null!==u&&u.detachView(r)}!function ef(r){Qc.delete(r[Xr])}(o)}}function yg(r,o,a){return Tv(r,o.parent,a)}function Tv(r,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[fn];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:f}=r.data[u.directiveStart+d];if(f===O.None||f===O.Emulated)return null}return ii(u,a)}}function Gl(r,o,a,u,d){r.insertBefore(o,a,u,d)}function Sv(r,o,a){r.appendChild(o,a)}function ua(r,o,a,u,d){null!==u?Gl(r,o,a,u,d):Sv(r,o,a)}function df(r,o){return r.parentNode(o)}function jl(r,o,a){return Nv(r,o,a)}function Eg(r,o,a){return 40&r.type?ii(r,a):null}let Dg,$l,dn,Ka,Nv=Eg;function Av(r,o){Nv=r,Dg=o}function ff(r,o,a,u){const d=yg(r,u,o),f=o[Pt],y=jl(u.parent||o[Tn],u,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)ua(f,d,a[D],y,!1);else ua(f,d,a,y,!1);void 0!==Dg&&Dg(f,u,o,a,d)}function tu(r,o){if(null!==o){const a=o.type;if(3&a)return ii(o,r);if(4&a)return wg(-1,r[o.index]);if(8&a){const u=o.child;if(null!==u)return tu(r,u);{const d=r[o.index];return gr(d)?wg(-1,d):Ht(d)}}if(32&a)return x(o,r)()||Ht(r[o.index]);{const u=Cg(r,o);return null!==u?Array.isArray(u)?u[0]:tu(De(r[$n]),u):tu(r,o.next)}}return null}function Cg(r,o){return null!==o?r[$n][Tn].projection[o.projection]:null}function wg(r,o){const a=Ln+r+1;if(a<o.length){const u=o[a],d=u[qe].firstChild;if(null!==d)return tu(u,d)}return o[Aa]}function pf(r,o,a){const u=df(r,o);u&&function bg(r,o,a,u){r.removeChild(o,a,u)}(r,u,o,a)}function Ig(r,o,a,u,d,f,_){for(;null!=a;){const y=u[a.index],D=a.type;if(_&&0===o&&(y&&Bi(Ht(y),u),a.flags|=2),32!=(32&a.flags))if(8&D)Ig(r,o,a.child,u,d,f,!1),Ki(o,r,d,y,f);else if(32&D){const T=x(a,u);let R;for(;R=T();)Ki(o,r,d,R,f);Ki(o,r,d,y,f)}else 16&D?Tg(r,o,u,a,d,f):Ki(o,r,d,y,f);a=_?a.projectionNext:a.next}}function nu(r,o,a,u,d,f){Ig(a,u,r.firstChild,o,d,f,!1)}function Tg(r,o,a,u,d,f){const _=a[$n],D=_[Tn].projection[u.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Ki(o,r,d,D[T],f);else Ig(r,o,D,_[pn],d,f,!0)}function Sg(r,o,a){""===a?r.removeAttribute(o,"class"):r.setAttribute(o,"class",a)}function Ng(r,o,a){const{mergedAttrs:u,classes:d,styles:f}=a;null!==u&&hs(r,o,u),null!==d&&Sg(r,o,d),null!==f&&function Mv(r,o,a){r.setAttribute(o,"style",a)}(r,o,f)}function Wl(r){return function gf(){if(void 0===$l&&($l=null,Ct.trustedTypes))try{$l=Ct.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return $l}()?.createHTML(r)||r}function Ag(r){dn=r}function ur(r){return function _f(){if(void 0===Ka&&(Ka=null,Ct.trustedTypes))try{Ka=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ka}()?.createScriptURL(r)||r}class kv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}function da(r){return r instanceof kv?r.changingThisBreaksApplicationSecurity:r}function Wo(r,o){const a=function Og(r){return r instanceof kv&&r.getTypeName()||null}(r);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${et})`)}return a===o}class Fv{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Wl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class zl{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Wl(o),a}}const vf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function iu(r){return(r=String(r)).match(vf)?r:"unsafe:"+r}function ws(r){const o={};for(const a of r.split(","))o[a]=!0;return o}function Lr(...r){const o={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Cd=ws("area,br,col,hr,img,wbr"),fo=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lv=ws("rp,rt"),wd=Lr(Cd,Lr(fo,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Lv,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lr(Lv,fo)),Mg=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pg=Lr(Mg,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function Is(r){const o=Yl();return o?o.sanitize(Wn.URL,r)||"":Wo(r,"URL")?da(r):iu(ve(r))}function su(r){const o=Yl();if(o)return ur(o.sanitize(Wn.RESOURCE_URL,r)||"");if(Wo(r,"ResourceURL"))return ur(da(r));throw new he(904,!1)}function Vn(r,o,a){return function dD(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?su:Is}(o,a)(r)}function Yl(){const r=we();return r&&r[jn]}const bf=new Xt("ENVIRONMENT_INITIALIZER"),Zl=new Xt("INJECTOR",-1),au=new Xt("INJECTOR_DEF_TYPES");class lu{get(o,a=In){if(a===In){const u=new Error(`NullInjectorError: No provider for ${le(o)}!`);throw u.name="NullInjectorError",u}return a}}function Fg(...r){return{\u0275providers:cu(0,r),\u0275fromNgModule:!0}}function cu(r,...o){const a=[],u=new Set;let d;return $r(o,f=>{const _=f;uu(_,a,[],u)&&(d||(d=[]),d.push(_))}),void 0!==d&&jv(d,a),a}function jv(r,o){for(let a=0;a<r.length;a++){const{providers:d}=r[a];Lg(d,f=>{o.push(f)})}}function uu(r,o,a,u){if(!(r=Z(r)))return!1;let d=null,f=On(r);const _=!f&&Zt(r);if(f||_){if(_&&!_.standalone)return!1;d=r}else{const D=r.ngModule;if(f=On(D),!f)return!1;d=D}const y=u.has(d);if(_){if(y)return!1;if(u.add(d),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of D)uu(T,o,a,u)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let T;u.add(d);try{$r(f.imports,R=>{uu(R,o,a,u)&&(T||(T=[]),T.push(R))})}finally{}void 0!==T&&jv(T,o)}if(!y){const T=Rr(d)||(()=>new d);o.push({provide:d,useFactory:T,deps:ae},{provide:au,useValue:d,multi:!0},{provide:bf,useValue:()=>Fe(d),multi:!0})}const D=f.providers;null==D||y||Lg(D,R=>{o.push(R)})}}return d!==r&&void 0!==r.providers}function Lg(r,o){for(let a of r)Ce(a)&&(a=a.\u0275providers),Array.isArray(a)?Lg(a,o):o(a)}const hD=ie({provide:String,useValue:ie});function Td(r){return null!==r&&"object"==typeof r&&hD in r}function ql(r){return"function"==typeof r}const Cf=new Xt("Set Injector scope."),Sd={},wf={};let Vg;function Kl(){return void 0===Vg&&(Vg=new lu),Vg}class po{}class If extends po{get destroyed(){return this._destroyed}constructor(o,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ad(o,_=>this.processProvider(_)),this.records.set(Zl,du(void 0,this)),d.has("environment")&&this.records.set(po,du(void 0,this));const f=this.records.get(Cf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(au.multi,ae,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Pi(this),u=Gn(void 0);try{return o()}finally{Pi(a),Gn(u)}}get(o,a=In,u=Qe.Default){this.assertNotDestroyed(),u=ct(u);const d=Pi(this),f=Gn(void 0);try{if(!(u&Qe.SkipSelf)){let y=this.records.get(o);if(void 0===y){const D=function go(r){return"function"==typeof r||"object"==typeof r&&r instanceof Xt}(o)&&Qt(o);y=D&&this.injectableDefInScope(D)?du(Nd(o),Sd):null,this.records.set(o,y)}if(null!=y)return this.hydrate(o,y)}return(u&Qe.Self?Kl():this.parent).get(o,a=u&Qe.Optional&&a===In?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ti]=_[ti]||[]).unshift(le(o)),d)throw _;return function $(r,o,a,u){const d=r[ti];throw o[lr]&&d.unshift(o[lr]),r.message=function j(r,o,a,u=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==St?r.slice(2):r;let d=le(o);if(Array.isArray(o))d=o.map(le).join(" -> ");else if("object"==typeof o){let f=[];for(let _ in o)if(o.hasOwnProperty(_)){let y=o[_];f.push(_+":"+("string"==typeof y?JSON.stringify(y):le(y)))}d=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${r.replace(ar,"\n  ")}`}("\n"+r.message,d,a,u),r[Yn]=d,r[ti]=null,r}(_,o,"R3InjectorError",this.source)}throw _}finally{Gn(f),Pi(d)}}resolveInjectorInitializers(){const o=Pi(this),a=Gn(void 0);try{const u=this.get(bf.multi,ae,Qe.Self);for(const d of u)d()}finally{Pi(o),Gn(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(le(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let a=ql(o=Z(o))?o:Z(o&&o.provide);const u=function pD(r){return Td(r)?du(void 0,r.useValue):du(Ug(r),Sd)}(o);if(ql(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=du(void 0,Sd,!0),d.factory=()=>bt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Sd&&(a.value=wf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _D(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Nd(r){const o=Qt(r),a=null!==o?o.factory:Rr(r);if(null!==a)return a;if(r instanceof Xt)throw new he(204,!1);if(r instanceof Function)return function fD(r){const o=r.length;if(o>0)throw bs(o,"?"),new he(204,!1);const a=function bi(r){const o=r&&(r[$i]||r[on]);return o?(function pr(r){if(r.hasOwnProperty("name"))return r.name;(""+r).match(/^function\s*([^\s(]+)/)}(r),o):null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new he(204,!1)}function Ug(r,o,a){let u;if(ql(r)){const d=Z(r);return Rr(d)||Nd(d)}if(Td(r))u=()=>Z(r.useValue);else if(function Ef(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...bt(r.deps||[]));else if(function $v(r){return!(!r||!r.useExisting)}(r))u=()=>Fe(Z(r.useExisting));else{const d=Z(r&&(r.useClass||r.provide));if(!function gD(r){return!!r.deps}(r))return Rr(d)||Nd(d);u=()=>new d(...bt(r.deps))}return u}function du(r,o,a=!1){return{factory:r,value:o,multi:a?[]:void 0}}function Ad(r,o){for(const a of r)Array.isArray(a)?Ad(a,o):a&&Ce(a)?Ad(a.\u0275providers,o):o(a)}class Bg{}class Tf{}class pu{resolveComponentFactory(o){throw function Sf(r){const o=Error(`No component factory found for ${le(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let _o=(()=>{class r{}return r.NULL=new pu,r})();function mD(){return gu(ui(),we())}function gu(r,o){return new ha(ii(r,o))}let ha=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=mD,r})();function vD(r){return r instanceof ha?r.nativeElement:r}class Wv{}let Nf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Rd(){const r=we(),a=Ci(ui().index,r);return(Di(a)?a:r)[Pt]}(),r})(),zv=(()=>{class r{}return r.\u0275prov=Je({token:r,providedIn:"root",factory:()=>null}),r})();class Od{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ja=new Od("15.2.2"),Md={},Hg="ngOriginalError";function zr(r){return r[Hg]}class fa{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&zr(o);for(;a&&zr(a);)a=zr(a);return a||null}}function Ts(r){return r instanceof Function?r():r}function Kv(r,o,a){let u=r.length;for(;;){const d=r.indexOf(o,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const f=o.length;if(d+f===u||r.charCodeAt(d+f)<=32)return d}a=d+1}}const Jv="ng-template";function Qv(r,o,a){let u=0;for(;u<r.length;){let d=r[u++];if(a&&"class"===d){if(d=r[u],-1!==Kv(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<r.length&&"string"==typeof(d=r[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Wg(r){return 4===r.type&&r.value!==Jv}function bD(r,o,a){return o===(4!==r.type||a?r.value:Jv)}function ED(r,o,a){let u=4;const d=r.attrs||[],f=function Rf(r){for(let o=0;o<r.length;o++)if(un(r[o]))return o;return r.length}(d);let _=!1;for(let y=0;y<o.length;y++){const D=o[y];if("number"!=typeof D){if(!_)if(4&u){if(u=2|1&u,""!==D&&!bD(r,D,a)||""===D&&1===o.length){if(Yo(u))return!1;_=!0}}else{const T=8&u?D:o[++y];if(8&u&&null!==r.attrs){if(!Qv(r.attrs,T,a)){if(Yo(u))return!1;_=!0}continue}const U=DD(8&u?"class":D,d,Wg(r),a);if(-1===U){if(Yo(u))return!1;_=!0;continue}if(""!==T){let Y;Y=U>f?"":d[U+1].toLowerCase();const te=8&u?Y:null;if(te&&-1!==Kv(te,T,0)||2&u&&T!==Y){if(Yo(u))return!1;_=!0}}}}else{if(!_&&!Yo(u)&&!Yo(D))return!1;if(_&&Yo(D))continue;_=!1,u=D|1&u}}return Yo(u)||_}function Yo(r){return 0==(1&r)}function DD(r,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let f=!1;for(;d<o.length;){const _=o[d];if(_===r)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let y=o[++d];for(;"string"==typeof y;)y=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function zg(r,o){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,r)}function Xv(r,o,a=!1){for(let u=0;u<o.length;u++)if(ED(r,o[u],a))return!0;return!1}function ey(r,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function Pd(r,o){return r?":not("+o.trim()+")":o}function wD(r){let o=r[0],a=1,u=2,d="",f=!1;for(;a<r.length;){let _=r[a];if("string"==typeof _)if(2&u){const y=r[++a];d+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!Yo(_)&&(o+=Pd(f,d),d=""),u=_,f=f||!Yo(u);a++}return""!==d&&(o+=Pd(f,d)),o}const Ot={};function ny(r){iy($t(),we(),Zi()+r,!1)}function iy(r,o,a,u){if(!u)if(3==(3&o[wt])){const f=r.preOrderCheckHooks;null!==f&&Js(o,f,a)}else{const f=r.preOrderHooks;null!==f&&Qs(o,f,0,a)}ro(a)}function Kg(r,o=null,a=null,u){const d=ly(r,o,a,u);return d.resolveInjectorInitializers(),d}function ly(r,o=null,a=null,u,d=new Set){const f=[a||ae,Fg(r)];return u=u||("object"==typeof r?void 0:le(r)),new If(f,o||Kl(),u||null,d)}let Xa=(()=>{class r{static create(a,u){if(Array.isArray(a))return Kg({name:""},u,a,"");{const d=a.name??"";return Kg({name:d},a.parent,a.providers,d)}}}return r.THROW_IF_NOT_FOUND=In,r.NULL=new lu,r.\u0275prov=Je({token:r,providedIn:"any",factory:()=>Fe(Zl)}),r.__NG_ELEMENT_ID__=-1,r})();function mu(r,o=Qe.Default){const a=we();return null===a?Fe(r,o):Lc(ui(),a,Z(r),o)}function gy(){throw new Error("invalid")}function kf(r,o){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const f=a[u+1];if(-1!==f){const _=r.data[f];Ks(a[u]),_.contentQueries(2,o[f],f)}}}function tl(r,o,a,u,d,f,_,y,D,T,R){const U=o.blueprint.slice();return U[fn]=d,U[wt]=76|u,(null!==R||r&&1024&r[wt])&&(U[wt]|=1024),Sc(U),U[pn]=U[To]=r,U[gn]=a,U[Io]=_||r&&r[Io],U[Pt]=y||r&&r[Pt],U[jn]=D||r&&r[jn]||null,U[ci]=T||r&&r[ci]||null,U[Tn]=f,U[Xr]=function Qh(){return Kn++}(),U[ts]=R,U[$n]=2==o.type?r[$n]:U,U}function vu(r,o,a,u,d){let f=r.data[o];if(null===f)f=r_(r,o,a,u,d),function Va(){return It.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=u,f.attrs=d;const _=us();f.injectorIndex=null===_?-1:_.injectorIndex}return vr(f,!0),f}function r_(r,o,a,u,d){const f=Rc(),_=xa(),D=r.data[o]=function Ff(r,o,a,u,d,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,o,u,d);return null===r.firstChild&&(r.firstChild=D),null!==f&&(_?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}function kd(r,o,a,u){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(u),r.blueprint.push(u),r.data.push(null);return d}function yu(r,o,a){Ua(o);try{const u=r.viewQuery;null!==u&&ic(1,u,a);const d=r.template;null!==d&&my(r,o,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&kf(r,o),r.staticViewQueries&&ic(2,r.viewQuery,a);const f=r.components;null!==f&&function el(r,o){for(let a=0;a<o.length;a++)h_(r,o[a])}(o,f)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{o[wt]&=-5,td()}}function xd(r,o,a,u){const d=o[wt];if(128!=(128&d)){Ua(o);try{Sc(o),function Cl(r){return It.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&my(r,o,a,2,u);const _=3==(3&d);if(_){const T=r.preOrderCheckHooks;null!==T&&Js(o,T,null)}else{const T=r.preOrderHooks;null!==T&&Qs(o,T,0,null),Ba(o,0)}if(function UD(r){for(let o=Rt(r);null!==o;o=hn(o)){if(!o[Sn])continue;const a=o[is];for(let u=0;u<a.length;u++){const d=a[u];512&d[wt]||ls(d[pn],1),d[wt]|=512}}}(o),function u_(r){for(let o=Rt(r);null!==o;o=hn(o))for(let a=Ln;a<o.length;a++){const u=o[a],d=u[qe];Hr(u)&&xd(d,u,d.template,u[gn])}}(o),null!==r.contentQueries&&kf(r,o),_){const T=r.contentCheckHooks;null!==T&&Js(o,T)}else{const T=r.contentHooks;null!==T&&Qs(o,T,1),Ba(o,1)}!function _y(r,o){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ro(~d);else{const f=d,_=a[++u],y=a[++u];Oc(_,f),y(2,o[f])}}}finally{ro(-1)}}(r,o);const y=r.components;null!==y&&function PD(r,o){for(let a=0;a<o.length;a++)BD(r,o[a])}(o,y);const D=r.viewQuery;if(null!==D&&ic(2,D,u),_){const T=r.viewCheckHooks;null!==T&&Js(o,T)}else{const T=r.viewHooks;null!==T&&Qs(o,T,2),Ba(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[wt]&=-41,512&o[wt]&&(o[wt]&=-513,ls(o[pn],-1))}finally{td()}}}function my(r,o,a,u,d){const f=Zi(),_=2&u;try{ro(-1),_&&o.length>Yt&&iy(r,o,Yt,!1),Li(_?2:0,d),a(u,d)}finally{ro(f),Li(_?3:1,d)}}function Fd(r,o,a){if(yl(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const _=r.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function bu(r,o,a){Ac()&&(function LD(r,o,a,u){const d=a.directiveStart,f=a.directiveEnd;No(a)&&function wy(r,o,a){const u=ii(o,r),d=tc(a),f=r[Io],_=Ud(r,tl(r,d,null,a.onPush?32:16,u,o,f,f.createRenderer(u,a),null,null,null));r[o.index]=_}(o,a,r.data[d+a.componentOffset]),r.firstCreatePass||Pr(a,o),Bi(u,o);const _=a.initialInputs;for(let y=d;y<f;y++){const D=r.data[y],T=ao(o,r,y,a);Bi(T,o),null!==_&&Iy(0,y-d,T,D,0,_),_r(D)&&(Ci(a.index,o)[gn]=ao(o,r,y,a))}}(r,o,a,ii(a,o)),64==(64&a.flags)&&Dy(r,o,a))}function o_(r,o,a=ii){const u=o.localNames;if(null!==u){let d=o.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],y=-1===_?a(o,r):r[_];r[d++]=y}}}function tc(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=xf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function xf(r,o,a,u,d,f,_,y,D,T){const R=Yt+u,U=R+d,Y=function vy(r,o){const a=[];for(let u=0;u<o;u++)a.push(u<r?null:Ot);return a}(R,U),te="function"==typeof T?T():T;return Y[qe]={type:r,blueprint:Y,template:a,queries:null,viewQuery:y,declTNode:o,data:Y.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:te,incompleteFirstPass:!1}}function Eu(r,o,a,u){const d=p_(o);null===a?d.push(u):(d.push(a),r.firstCreatePass&&Gf(r).push(u,d.length-1))}function Lf(r,o,a,u){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const f=r[d];null===u?Vf(a,o,d,f):u.hasOwnProperty(d)&&Vf(a,o,u[d],f)}return a}function Vf(r,o,a,u){r.hasOwnProperty(a)?r[a].push(o,u):r[a]=[o,u]}function Ji(r,o,a,u,d,f,_,y){const D=ii(o,a);let R,T=o.inputs;!y&&null!=T&&(R=T[u])?(g_(r,a,R,u,d),No(o)&&by(a,o.index)):3&o.type&&(u=function kD(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=_?_(d,o.value||"",u):d,f.setProperty(D,u,d))}function by(r,o){const a=Ci(o,r);16&a[wt]||(a[wt]|=32)}function Ld(r,o,a,u){if(Ac()){const d=null===u?null:{"":-1},f=function a_(r,o){const a=r.directiveRegistry;let u=null,d=null;if(a)for(let f=0;f<a.length;f++){const _=a[f];if(Xv(o,_.selectors,!1))if(u||(u=[]),_r(_))if(null!==_.findHostDirectiveDefs){const y=[];d=d||new Map,_.findHostDirectiveDefs(_,y,d),u.unshift(...y,_),Vd(r,o,y.length)}else u.unshift(_),Vd(r,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,u,d),u.push(_)}return null===u?null:[u,d]}(r,a);let _,y;null===f?_=y=null:[_,y]=f,null!==_&&Uf(r,o,a,_,d,y),d&&function l_(r,o,a){if(o){const u=r.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new he(-301,!1);u.push(o[d],f)}}}(a,u,d)}a.mergedAttrs=Mr(a.mergedAttrs,a.attrs)}function Uf(r,o,a,u,d,f){for(let T=0;T<u.length;T++)ta(Pr(a,o),r,u[T].type);!function nc(r,o,a){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+a,r.providerIndexes=o}(a,r.data.length,u.length);for(let T=0;T<u.length;T++){const R=u[T];R.providersResolver&&R.providersResolver(R)}let _=!1,y=!1,D=kd(r,o,u.length,null);for(let T=0;T<u.length;T++){const R=u[T];a.mergedAttrs=Mr(a.mergedAttrs,R.hostAttrs),c_(r,a,o,D,R),Bf(D,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const U=R.type.prototype;!_&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),_=!0),!y&&(U.ngOnChanges||U.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),y=!0),D++}!function s_(r,o,a){const d=o.directiveEnd,f=r.data,_=o.attrs,y=[];let D=null,T=null;for(let R=o.directiveStart;R<d;R++){const U=f[R],Y=a?a.get(U):null,de=Y?Y.outputs:null;D=Lf(U.inputs,R,D,Y?Y.inputs:null),T=Lf(U.outputs,R,T,de);const Le=null===D||null===_||Wg(o)?null:VD(D,R,_);y.push(Le)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=y,o.inputs=D,o.outputs=T}(r,a,f)}function Dy(r,o,a){const u=a.directiveStart,d=a.directiveEnd,f=a.index,_=function Zs(){return It.lFrame.currentDirectiveIndex}();try{ro(f);for(let y=u;y<d;y++){const D=r.data[y],T=o[y];qs(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Cy(D,T)}}finally{ro(-1),qs(_)}}function Cy(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Vd(r,o,a){o.componentOffset=a,(r.components||(r.components=[])).push(o.index)}function Bf(r,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=r;_r(o)&&(a[""]=r)}}function c_(r,o,a,u,d){r.data[u]=d;const f=d.factory||(d.factory=Rr(d.type)),_=new Gr(f,_r(d),mu);r.blueprint[u]=_,a[u]=_,function FD(r,o,a,u,d){const f=d.hostBindings;if(f){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const y=~o.index;(function Ey(r){let o=r.length;for(;o>0;){const a=r[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=y&&_.push(y),_.push(a,u,f)}}(r,o,u,kd(r,a,d.hostVars,Ot),d)}function Du(r,o,a,u,d,f,_){if(null==f)r.removeAttribute(o,d,a);else{const y=null==_?ve(f):_(f,u||"",d);r.setAttribute(o,d,y,a)}}function Iy(r,o,a,u,d,f){const _=f[o];if(null!==_){const y=u.setInput;for(let D=0;D<_.length;){const T=_[D++],R=_[D++],U=_[D++];null!==y?u.setInput(a,U,T,R):a[R]=U}}}function VD(r,o,a){let u=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===u&&(u=[]);const _=r[f];for(let y=0;y<_.length;y+=2)if(_[y]===o){u.push(f,_[y+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function Cu(r,o,a,u){return[r,!0,!1,o,null,0,u,a,null,null]}function BD(r,o){const a=Ci(o,r);if(Hr(a)){const u=a[qe];48&a[wt]?xd(u,a,u.template,a[gn]):a[wo]>0&&d_(a)}}function d_(r){for(let u=Rt(r);null!==u;u=hn(u))for(let d=Ln;d<u.length;d++){const f=u[d];if(Hr(f))if(512&f[wt]){const _=f[qe];xd(_,f,_.template,f[gn])}else f[wo]>0&&d_(f)}const a=r[qe].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Ci(a[u],r);Hr(d)&&d[wo]>0&&d_(d)}}function h_(r,o){const a=Ci(o,r),u=a[qe];(function Hf(r,o){for(let a=o.length;a<r.blueprint.length;a++)o.push(r.blueprint[a])})(u,a),yu(u,a,a[gn])}function Ud(r,o){return r[Sa]?r[Na][xi]=o:r[Sa]=o,r[Na]=o,o}function f_(r){for(;r;){r[wt]|=32;const o=De(r);if(Ph(r)&&!o)return r;r=o}return null}function nl(r,o,a,u=!0){const d=o[Io];d.begin&&d.begin();try{xd(r,o,r.template,a)}catch(_){throw u&&Iu(o,_),_}finally{d.end&&d.end()}}function ic(r,o,a){Ks(0),o(r,a)}function p_(r){return r[Ur]||(r[Ur]=[])}function Gf(r){return r.cleanup||(r.cleanup=[])}function Iu(r,o){const a=r[ci],u=a?a.get(fa,null):null;u&&u.handleError(o)}function g_(r,o,a,u,d){for(let f=0;f<a.length;){const _=a[f++],y=a[f++],D=o[_],T=r.data[_];null!==T.setInput?T.setInput(D,d,u,y):D[y]=d}}function Bd(r,o,a){let u=a?r.styles:null,d=a?r.classes:null,f=0;if(null!==o)for(let _=0;_<o.length;_++){const y=o[_];"number"==typeof y?f=y:1==f?d=ue(d,y):2==f&&(u=ue(u,y+": "+o[++_]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=d:r.classesWithoutHost=d}function jf(r,o,a,u,d=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&u.push(Ht(f)),gr(f))for(let y=Ln;y<f.length;y++){const D=f[y],T=D[qe].firstChild;null!==T&&jf(D[qe],D,T,u)}const _=a.type;if(8&_)jf(r,o,a.child,u);else if(32&_){const y=x(a,o);let D;for(;D=y();)u.push(D)}else if(16&_){const y=Cg(o,a);if(Array.isArray(y))u.push(...y);else{const D=De(o[$n]);jf(D[qe],D,y,u,!0)}}a=d?a.projectionNext:a.next}return u}class il{get rootNodes(){const o=this._lView,a=o[qe];return jf(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(o){this._lView[gn]=o}get destroyed(){return 128==(128&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[pn];if(gr(o)){const a=o[ns],u=a?a.indexOf(this):-1;u>-1&&(Hl(o,u),ys(a,u))}this._attachedToViewContainer=!1}uf(this._lView[qe],this._lView)}onDestroy(o){Eu(this._lView[qe],this._lView,null,o)}markForCheck(){f_(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-65}reattach(){this._lView[wt]|=64}detectChanges(){nl(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lf(r,o){nu(r,o,o[Pt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class Ty extends il{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;nl(o[qe],o,o[gn],!1)}checkNoChanges(){}get context(){return null}}class Vr extends _o{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zt(o);return new Hd(a,this.ngModule)}}function __(r){const o=[];for(let a in r)r.hasOwnProperty(a)&&o.push({propName:r[a],templateName:a});return o}class Sy{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){u=ct(u);const d=this.injector.get(o,Md,u);return d!==Md||a===Md?d:this.parentInjector.get(o,a,u)}}class Hd extends Tf{get inputs(){return __(this.componentDef.inputs)}get outputs(){return __(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Yg(r){return r.map(wD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,u,d){let f=(d=d||this.ngModule)instanceof po?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new Sy(o,f):o,y=_.get(Wv,null);if(null===y)throw new he(407,!1);const D=_.get(zv,null),T=y.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=u?function yy(r,o,a){return r.selectRootElement(o,a===O.ShadowDom)}(T,u,this.componentDef.encapsulation):Bl(T,R,function HD(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Y=this.componentDef.onPush?288:272,te=xf(0,null,null,1,0,null,null,null,null,null),de=tl(null,te,null,Y,null,null,y,T,D,_,null);let Le,He;Ua(de);try{const tt=this.componentDef;let yt,Oe=null;tt.findHostDirectiveDefs?(yt=[],Oe=new Map,tt.findHostDirectiveDefs(tt,yt,Oe),yt.push(tt)):yt=[tt];const Tt=function Ny(r,o){const a=r[qe],u=Yt;return r[u]=o,vu(a,u,2,"#host",null)}(de,U),Bn=function Gd(r,o,a,u,d,f,_,y){const D=d[qe];!function Ay(r,o,a,u){for(const d of r)o.mergedAttrs=Mr(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Bd(o,o.mergedAttrs,!0),null!==a&&Ng(u,a,o))}(u,r,o,_);const T=f.createRenderer(o,a),R=tl(d,tc(a),null,a.onPush?32:16,d[r.index],r,f,T,y||null,null,null);return D.firstCreatePass&&Vd(D,r,u.length-1),Ud(d,R),d[r.index]=R}(Tt,U,tt,yt,de,y,T);He=as(te,Yt),U&&function jD(r,o,a,u){if(u)hs(r,a,["ng-version",Ja.full]);else{const{attrs:d,classes:f}=function ty(r){const o=[],a=[];let u=1,d=2;for(;u<r.length;){let f=r[u];if("string"==typeof f)2===d?""!==f&&o.push(f,r[++u]):8===d&&a.push(f);else{if(!Yo(d))break;d=f}u++}return{attrs:o,classes:a}}(o.selectors[0]);d&&hs(r,a,d),f&&f.length>0&&Sg(r,a,f.join(" "))}}(T,tt,U,u),void 0!==a&&function m_(r,o,a){const u=r.projection=[];for(let d=0;d<o.length;d++){const f=a[d];u.push(null!=f?Array.from(f):null)}}(He,this.ngContentSelectors,a),Le=function Ry(r,o,a,u,d,f){const _=ui(),y=d[qe],D=ii(_,d);Uf(y,d,_,a,null,u);for(let R=0;R<a.length;R++)Bi(ao(d,y,_.directiveStart+R,_),d);Dy(y,d,_),D&&Bi(D,d);const T=ao(d,y,_.directiveStart+_.componentOffset,_);if(r[gn]=d[gn]=T,null!==f)for(const R of f)R(T,o);return Fd(y,_,r),T}(Bn,tt,yt,Oe,de,[$f]),yu(te,de,null)}finally{td()}return new GD(this.componentType,Le,gu(He,de),de,He)}}class GD extends Bg{constructor(o,a,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Ty(d),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[o])){const f=this._rootLView;g_(f[qe],f,d,o,a),by(f,this._tNode.index)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $f(){const r=ui();Sl(we()[qe],r)}function jd(r){let o=function Oy(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;o;){let d;if(_r(r))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);d=o.\u0275dir}if(d){if(a){u.push(d);const _=r;_.inputs=v_(r.inputs),_.declaredInputs=v_(r.declaredInputs),_.outputs=v_(r.outputs);const y=d.hostBindings;y&&zD(r,y);const D=d.viewQuery,T=d.contentQueries;if(D&&WD(r,D),T&&My(r,T),fe(r.inputs,d.inputs),fe(r.declaredInputs,d.declaredInputs),fe(r.outputs,d.outputs),_r(d)&&d.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const y=f[_];y&&y.ngInherit&&y(r),y===jd&&(a=!1)}}o=Object.getPrototypeOf(o)}!function $D(r){let o=0,a=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=o+=d.hostVars,d.hostAttrs=Mr(d.hostAttrs,a=Mr(a,d.hostAttrs))}}(u)}function v_(r){return r===J?{}:r===ae?[]:r}function WD(r,o){const a=r.viewQuery;r.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function My(r,o){const a=r.contentQueries;r.contentQueries=a?(u,d,f)=>{o(u,d,f),a(u,d,f)}:o}function zD(r,o){const a=r.hostBindings;r.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}function zf(r){return!!Yf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Yf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Zo(r,o,a){return r[o]=a}function Hi(r,o,a){return!Object.is(r[o],a)&&(r[o]=a,!0)}function _a(r,o,a,u){const d=Hi(r,o,a);return Hi(r,o+1,u)||d}function $d(r,o,a,u){const d=we();return Hi(d,cr(),o)&&($t(),function Ss(r,o,a,u,d,f){const _=ii(r,o);Du(o[Pt],_,f,r.value,a,u,d)}(yn(),d,r,o,a,u)),$d}function oc(r,o,a,u){return Hi(r,cr(),a)?o+ve(a)+u:Ot}function Ly(r,o,a,u,d,f,_,y){const D=we(),T=$t(),R=r+Yt,U=T.firstCreatePass?function C_(r,o,a,u,d,f,_,y,D){const T=o.consts,R=vu(o,r,4,_||null,mr(T,y));Ld(o,a,R,mr(T,D)),Sl(o,R);const U=R.tView=xf(2,R,u,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,R),U.queries=o.queries.embeddedTView(R)),R}(R,T,D,o,a,u,d,f,_):T.data[R];vr(U,!1);const Y=D[Pt].createComment("");ff(T,D,Y,U),Bi(Y,D),Ud(D,D[R]=Cu(Y,D,Y,U)),Nr(U)&&bu(T,D,U),null!=_&&o_(D,U,y)}function Vy(r){return Or(function La(){return It.lFrame.contextLView}(),Yt+r)}function w_(r,o,a){const u=we();return Hi(u,cr(),o)&&Ji($t(),yn(),u,r,o,u[Pt],a,!1),w_}function cc(r,o,a,u,d){const _=d?"class":"style";g_(r,a,o.inputs[_],_,u)}function cl(r,o,a,u){const d=we(),f=$t(),_=Yt+r,y=d[Pt],D=f.firstCreatePass?function qf(r,o,a,u,d,f){const _=o.consts,D=vu(o,r,2,u,mr(_,d));return Ld(o,a,D,mr(_,f)),null!==D.attrs&&Bd(D,D.attrs,!1),null!==D.mergedAttrs&&Bd(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,f,d,o,a,u):f.data[_],T=d[_]=Bl(y,o,function hi(){return It.lFrame.currentNamespace}()),R=Nr(D);return vr(D,!0),Ng(y,T,D),32!=(32&D.flags)&&ff(f,d,T,D),0===function $s(){return It.lFrame.elementDepthCount}()&&Bi(T,d),function Nc(){It.lFrame.elementDepthCount++}(),R&&(bu(f,d,D),Fd(f,D,d)),null!==u&&o_(d,D),cl}function Au(){let r=ui();xa()?Fa():(r=r.parent,vr(r,!1));const o=r;!function Ws(){It.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(Sl(a,r),yl(r)&&a.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Nl(r){return 0!=(8&r.flags)}(o)&&cc(a,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function sd(r){return 0!=(16&r.flags)}(o)&&cc(a,o,we(),o.stylesWithoutHost,!1),Au}function Kf(r,o,a,u){return cl(r,o,a,u),Au(),Kf}function zd(r,o,a){const u=we(),d=$t(),f=r+Yt,_=d.firstCreatePass?function Uy(r,o,a,u,d){const f=o.consts,_=mr(f,u),y=vu(o,r,8,"ng-container",_);return null!==_&&Bd(y,_,!0),Ld(o,a,y,mr(f,d)),null!==o.queries&&o.queries.elementStart(o,y),y}(f,d,u,o,a):d.data[f];vr(_,!0);const y=u[f]=u[Pt].createComment("");return ff(d,u,y,_),Bi(y,u),Nr(_)&&(bu(d,u,_),Fd(d,_,u)),null!=a&&o_(u,_),zd}function Yd(){let r=ui();const o=$t();return xa()?Fa():(r=r.parent,vr(r,!1)),o.firstCreatePass&&(Sl(o,r),yl(r)&&o.queries.elementEnd(r)),Yd}function vo(){return we()}function Jf(r){return!!r&&"function"==typeof r.then}function By(r){return!!r&&"function"==typeof r.subscribe}const Hy=By;function T_(r,o,a,u){const d=we(),f=$t(),_=ui();return function Gy(r,o,a,u,d,f,_){const y=Nr(u),T=r.firstCreatePass&&Gf(r),R=o[gn],U=p_(o);let Y=!0;if(3&u.type||_){const Le=ii(u,o),He=_?_(Le):Le,tt=U.length,yt=_?Tt=>_(Ht(Tt[u.index])):u.index;let Oe=null;if(!_&&y&&(Oe=function XD(r,o,a,u){const d=r.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===u){const y=o[Ur],D=d[f+2];return y.length>D?y[D]:null}"string"==typeof _&&(f+=2)}return null}(r,o,d,u.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=f,Oe.__ngLastListenerFn__=f,Y=!1;else{f=$y(u,o,R,f,!1);const Tt=a.listen(He,d,f);U.push(f,Tt),T&&T.push(d,yt,tt,tt+1)}}else f=$y(u,o,R,f,!1);const te=u.outputs;let de;if(Y&&null!==te&&(de=te[d])){const Le=de.length;if(Le)for(let He=0;He<Le;He+=2){const Bn=o[de[He]][de[He+1]].subscribe(f),Qn=U.length;U.push(f,Bn),T&&T.push(d,u.index,Qn,-(Qn+1))}}}(f,d,d[Pt],_,r,o,u),T_}function jy(r,o,a,u){try{return Li(6,o,a),!1!==a(u)}catch(d){return Iu(r,d),!1}finally{Li(7,o,a)}}function $y(r,o,a,u,d){return function f(_){if(_===Function)return u;f_(r.componentOffset>-1?Ci(r.index,o):o);let D=jy(o,a,u,_),T=f.__ngNextListenerFn__;for(;T;)D=jy(o,a,T,_)&&D,T=T.__ngNextListenerFn__;return d&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function Wy(r=1){return function nd(r){return(It.lFrame.contextLView=function Dv(r,o){for(;r>0;)o=o[To],r--;return o}(r,It.lFrame.contextLView))[gn]}(r)}function eC(r,o){let a=null;const u=function CD(r){const o=r.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(r);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===u?Xv(r,f,!0):ey(u,f))return d}else a=d}return a}function zy(r){const o=we()[$n][Tn];if(!o.projection){const u=o.projection=bs(r?r.length:1,null),d=u.slice();let f=o.child;for(;null!==f;){const _=r?eC(f,r):0;null!==_&&(d[_]?d[_].projectionNext=f:u[_]=f,d[_]=f),f=f.next}}}function Yy(r,o=0,a){const u=we(),d=$t(),f=vu(d,Yt+r,16,null,a||null);null===f.projection&&(f.projection=o),Fa(),32!=(32&f.flags)&&function Rv(r,o,a){Tg(o[Pt],0,o,a,yg(r,a,o),jl(a.parent||o[Tn],a,o))}(d,u,f)}function N_(r,o,a){return Qf(r,"",o,"",a),N_}function Qf(r,o,a,u,d){const f=we(),_=oc(f,o,a,u);return _!==Ot&&Ji($t(),yn(),f,r,_,f[Pt],d,!1),Qf}function Xf(r,o){return r<<17|o<<2}function Ns(r){return r>>17&32767}function ep(r){return 2|r}function uc(r){return(131068&r)>>2}function A_(r,o){return-131069&r|o<<2}function R_(r){return 1|r}function O_(r,o,a,u,d){const f=r[a+1],_=null===o;let y=u?Ns(f):uc(f),D=!1;for(;0!==y&&(!1===D||_);){const R=r[y+1];oC(r[y],o)&&(D=!0,r[y+1]=u?R_(R):ep(R)),y=u?Ns(R):uc(R)}D&&(r[a+1]=u?ep(f):R_(f))}function oC(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Uo(r,o)>=0}const Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n0(r){return r.substring(Ai.key,Ai.keyEnd)}function r0(r,o){const a=Ai.textEnd;return a===o?-1:(o=Ai.keyEnd=function nT(r,o,a){for(;o<a&&r.charCodeAt(o)>32;)o++;return o}(r,Ai.key=o,a),Zd(r,o,a))}function Zd(r,o,a){for(;o<a&&r.charCodeAt(o)<=32;)o++;return o}function P_(r,o,a){return Cr(r,o,a,!1),P_}function k_(r,o){return Cr(r,o,null,!0),k_}function Gi(r){qo(Er,Jn,r,!0)}function Jn(r,o){for(let a=function aC(r){return function s0(r){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=r.length}(r),r0(r,Zd(r,0,Ai.textEnd))}(o);a>=0;a=r0(o,a))Er(r,n0(o),!0)}function Cr(r,o,a,u){const d=we(),f=$t(),_=Yi(2);f.firstUpdatePass&&c0(f,r,_,u),o!==Ot&&Hi(d,_,o)&&Ko(f,f.data[Zi()],d,d[Pt],r,d[_+1]=function u0(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=le(da(r)))),r}(o,a),u,_)}function qo(r,o,a,u){const d=$t(),f=Yi(2);d.firstUpdatePass&&c0(d,null,f,u);const _=we();if(a!==Ot&&Hi(_,f,a)){const y=d.data[Zi()];if(d0(y,u)&&!l0(d,f)){let D=u?y.classesWithoutHost:y.stylesWithoutHost;null!==D&&(a=ue(D,a||"")),cc(d,y,_,a,u)}else!function Ri(r,o,a,u,d,f,_,y){d===Ot&&(d=ae);let D=0,T=0,R=0<d.length?d[0]:null,U=0<f.length?f[0]:null;for(;null!==R||null!==U;){const Y=D<d.length?d[D+1]:void 0,te=T<f.length?f[T+1]:void 0;let Le,de=null;R===U?(D+=2,T+=2,Y!==te&&(de=U,Le=te)):null===U||null!==R&&R<U?(D+=2,de=R):(T+=2,de=U,Le=te),null!==de&&Ko(r,o,a,u,de,Le,_,y),R=D<d.length?d[D]:null,U=T<f.length?f[T]:null}}(d,y,_,_[Pt],_[f+1],_[f+1]=function fC(r,o,a){if(null==a||""===a)return ae;const u=[],d=da(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)r(u,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&r(u,f,d[f]);else"string"==typeof d&&o(u,d);return u}(r,o,a),u,f)}}function l0(r,o){return o>=r.expandoStartIndex}function c0(r,o,a,u){const d=r.data;if(null===d[a+1]){const f=d[Zi()],_=l0(r,a);d0(f,u)&&null===o&&!_&&(o=!1),o=function dC(r,o,a,u){const d=function wl(r){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let f=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=Ru(a=x_(null,r,o,a,u),o.attrs,u),f=null);else{const _=o.directiveStylingLast;if(-1===_||r[_]!==d)if(a=x_(d,r,o,a,u),null===f){let D=function Rn(r,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==uc(u))return r[Ns(u)]}(r,o,u);void 0!==D&&Array.isArray(D)&&(D=x_(null,r,o,D[1],u),D=Ru(D,o.attrs,u),function tp(r,o,a,u){r[Ns(a?o.classBindings:o.styleBindings)]=u}(r,o,u,D))}else f=function hC(r,o,a){let u;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)u=Ru(u,r[f].hostAttrs,a);return Ru(u,o.attrs,a)}(r,o,u)}return void 0!==f&&(u?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,u),function rC(r,o,a,u,d,f){let _=f?o.classBindings:o.styleBindings,y=Ns(_),D=uc(_);r[u]=a;let R,T=!1;if(Array.isArray(a)?(R=a[1],(null===R||Uo(a,R)>0)&&(T=!0)):R=a,d)if(0!==D){const Y=Ns(r[y+1]);r[u+1]=Xf(Y,y),0!==Y&&(r[Y+1]=A_(r[Y+1],u)),r[y+1]=function tC(r,o){return 131071&r|o<<17}(r[y+1],u)}else r[u+1]=Xf(y,0),0!==y&&(r[y+1]=A_(r[y+1],u)),y=u;else r[u+1]=Xf(D,0),0===y?y=u:r[D+1]=A_(r[D+1],u),D=u;T&&(r[u+1]=ep(r[u+1])),O_(r,R,u,!0),O_(r,R,u,!1),function tT(r,o,a,u,d){const f=d?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof o&&Uo(f,o)>=0&&(a[u+1]=R_(a[u+1]))}(o,R,r,u,f),_=Xf(y,D),f?o.classBindings=_:o.styleBindings=_}(d,f,o,a,_,u)}}function x_(r,o,a,u,d){let f=null;const _=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<_&&(f=o[y],u=Ru(u,f.hostAttrs,d),f!==r);)y++;return null!==r&&(a.directiveStylingLast=y),u}function Ru(r,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const _=o[f];"number"==typeof _?d=_:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Er(r,_,!!a||o[++f]))}return void 0===r?null:r}function Ko(r,o,a,u,d,f,_,y){if(!(3&o.type))return;const D=r.data,T=D[y+1],R=function nC(r){return 1==(1&r)}(T)?mi(D,o,a,d,uc(T),_):void 0;dc(R)||(dc(f)||function t0(r){return 2==(2&r)}(T)&&(f=mi(D,null,a,d,y,_)),function tD(r,o,a,u,d){if(o)d?r.addClass(a,u):r.removeClass(a,u);else{let f=-1===u.indexOf("-")?void 0:gi.DashCase;null==d?r.removeStyle(a,u,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=gi.Important),r.setStyle(a,u,d,f))}}(u,_,io(Zi(),a),d,f))}function mi(r,o,a,u,d,f){const _=null===o;let y;for(;d>0;){const D=r[d],T=Array.isArray(D),R=T?D[1]:D,U=null===R;let Y=a[d+1];Y===Ot&&(Y=U?ae:void 0);let te=U?Wa(Y,u):R===u?Y:void 0;if(T&&!dc(te)&&(te=Wa(D,u)),dc(te)&&(y=te,_))return y;const de=r[d+1];d=_?Ns(de):uc(de)}if(null!==o){let D=f?o.residualClasses:o.residualStyles;null!=D&&(y=Wa(D,u))}return y}function dc(r){return void 0!==r}function d0(r,o){return 0!=(r.flags&(o?8:16))}function Rs(r,o=""){const a=we(),u=$t(),d=r+Yt,f=u.firstCreatePass?vu(u,d,1,o,null):u.data[d],_=a[d]=Cs(a[Pt],o);ff(u,a,_,f),vr(f,!1)}function bo(r){return Kd("",r,""),bo}function Kd(r,o,a){const u=we(),d=oc(u,r,o,a);return d!==Ot&&function _i(r,o,a){const u=io(o,r);vd(r[Pt],u,a)}(u,Zi(),d),Kd}function p0(r,o,a,u,d){qo(Er,Jn,function Nu(r,o,a,u,d,f){const y=_a(r,zi(),a,d);return Yi(2),y?o+ve(a)+u+ve(d)+f:Ot}(we(),r,o,a,u,d),!0)}function Ou(r,o,a){const u=we();return Hi(u,cr(),o)&&Ji($t(),yn(),u,r,o,u[Pt],a,!0),Ou}const ya=void 0;var H_=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function op(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let dl={};function G_(r){const o=function ap(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=w0(o);if(a)return a;const u=o.split("-")[0];if(a=w0(u),a)return a;if("en"===u)return H_;throw new he(701,!1)}function C0(r){return G_(r)[vt.PluralCase]}function w0(r){return r in dl||(dl[r]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[r]),dl[r]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const I0=["zero","one","two","few","many"],Mu="en-US",lp={marker:"element"},Qd={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let cp=Mu;function j_(r){(function ze(r,o){null==r&&je(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(cp=r.toLowerCase().replace(/_/g,"-"))}function T0(r,o,a){const u=o.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?Eg(r,0,a):Ht(a[d])}function up(r,o,a,u,d){const f=o.insertBeforeIndex;if(Array.isArray(f)){let _=u,y=null;if(3&o.type||(y=_,_=d),null!==_&&-1===o.componentOffset)for(let D=1;D<f.length;D++)Gl(r,_,a[f[D]],y,!1)}}function dp(r,o){if(r.push(o),r.length>1)for(let a=r.length-2;a>=0;a--){const u=r[a];S0(u)||$_(u,o)&&null===N0(u)&&A0(u,o.index)}}function S0(r){return!(64&r.type)}function $_(r,o){return S0(o)||r.index>o.index}function N0(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function A0(r,o){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=o:(Av(T0,up),r.insertBeforeIndex=o)}function hc(r,o){const a=r.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function wC(r,o,a){const u=r_(r,a,64,null,null);return dp(o,u),u}function fc(r,o){const a=o[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function hp(r){return r>>>17}function fp(r){return(131070&r)>>>1}let eh=0,Pu=0;function M0(r,o,a,u){const d=a[Pt];let _,f=null;for(let y=0;y<o.length;y++){const D=o[y];if("string"==typeof D){const T=o[++y];null===a[T]&&(a[T]=Cs(d,D))}else if("number"==typeof D)switch(1&D){case 0:const T=hp(D);let R,U;if(null===f&&(f=T,_=df(d,u)),T===f?(R=u,U=_):(R=null,U=Ht(a[T])),null!==U){const Le=fp(D);Gl(d,U,a[Le],R,!1);const tt=hc(r,Le);if(null!==tt&&"object"==typeof tt){const yt=fc(tt,a);null!==yt&&M0(r,tt.create[yt],a,a[tt.anchorIdx])}}break;case 1:const te=o[++y],de=o[++y];Du(d,io(D>>>1,a),null,null,te,de,null)}else switch(D){case Qd:const T=o[++y],R=o[++y];null===a[R]&&Bi(a[R]=yd(d,T),a);break;case lp:const U=o[++y],Y=o[++y];null===a[Y]&&Bi(a[Y]=Bl(d,U,null),a)}}}function P0(r,o,a,u,d){for(let f=0;f<a.length;f++){const _=a[f],y=a[++f];if(_&d){let D="";for(let T=f+1;T<=f+y;T++){const R=a[T];if("string"==typeof R)D+=R;else if("number"==typeof R)if(R<0)D+=ve(o[u-R]);else{const U=R>>>2;switch(3&R){case 1:const Y=a[++T],te=a[++T],de=r.data[U];"string"==typeof de?Du(o[Pt],o[U],null,de,Y,D,te):Ji(r,de,o,Y,D,o[Pt],te,!1);break;case 0:const Le=o[U];null!==Le&&vd(o[Pt],Le,D);break;case 2:TC(r,hc(r,U),o,D);break;case 3:k0(r,hc(r,U),u,o)}}}}else{const D=a[f+1];if(D>0&&3==(3&D)){const R=hc(r,D>>>2);o[R.currentCaseLViewIndex]<0&&k0(r,R,u,o)}}f+=y}}function k0(r,o,a,u){let d=u[o.currentCaseLViewIndex];if(null!==d){let f=eh;d<0&&(d=u[o.currentCaseLViewIndex]=~d,f=-1),P0(r,u,o.update[d],a,f)}}function TC(r,o,a,u){const d=function SC(r,o){let a=r.cases.indexOf(o);if(-1===a)switch(r.type){case 1:{const u=function yC(r,o){const a=C0(o)(parseInt(r,10)),u=I0[a];return void 0!==u?u:"other"}(o,function Xd(){return cp}());a=r.cases.indexOf(u),-1===a&&"other"!==u&&(a=r.cases.indexOf("other"));break}case 0:a=r.cases.indexOf("other")}return-1===a?null:a}(o,u);if(fc(o,a)!==d&&(x0(r,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=a[o.anchorIdx];_&&M0(r,o.create[d],a,_)}}function x0(r,o,a){let u=fc(o,a);if(null!==u){const d=o.remove[u];for(let f=0;f<d.length;f++){const _=d[f];if(_>0){const y=io(_,a);null!==y&&pf(a[Pt],y)}else x0(r,hc(r,~_),a)}}}function NC(){const r=[];let a,u,o=-1;function f(y,D){o=0;const T=fc(y,D);u=null!==T?y.remove[T]:ae}function _(){if(o<u.length){const y=u[o++];return y>0?a[y]:(r.push(o,u),f(a[qe].data[~y],a),_())}return 0===r.length?null:(u=r.pop(),o=r.pop(),_())}return function d(y,D){for(a=D;r.length;)r.pop();return f(y.value,D),_}}const _p=/\ufffd(\d+):?\d*\ufffd/gi,MC=/\ufffd(\d+)\ufffd/,z_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xu="\ufffd",F0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,L0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,V0=/\uE500/g;function PC(r,o,a,u,d,f,_){const y=kd(r,u,1,null);let D=y<<Un.SHIFT,T=us();o===T&&(T=null),null===T&&(D|=Un.APPEND_EAGERLY),_&&(D|=Un.COMMENT,function X(r){void 0===N&&(N=r())}(NC)),d.push(D,null===f?"":f);const R=r_(r,y,_?32:1,null===f?"":f,null);dp(a,R);const U=R.index;return vr(R,!1),null!==T&&o!==T&&function CC(r,o){let a=r.insertBeforeIndex;null===a?(Av(T0,up),a=r.insertBeforeIndex=[null,o]):(function Me(r,o,a){r!=o&&je(a,r,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(T,U),R}function Y_(r,o,a,u,d,f,_){const y=_.match(_p),D=PC(r,o,a,f,u,y?null:_,!1);y&&th(d,_,D.index,null,0,null)}function th(r,o,a,u,d,f){const _=r.length,y=_+1;r.push(null,null);const D=_+2,T=o.split(_p);let R=0;for(let U=0;U<T.length;U++){const Y=T[U];if(1&U){const te=d+parseInt(Y,10);r.push(-1-te),R|=B0(te)}else""!==Y&&r.push(Y)}return r.push(a<<2|(u?1:0)),u&&r.push(u,f),r[_]=R,r[y]=r.length-D,R}function B0(r){return 1<<Math.min(r,31)}function mp(r){let o,f,a="",u=0,d=!1;for(;null!==(o=F0.exec(r));)d?o[0]===`${xu}/*${f}${xu}`&&(u=o.index,d=!1):(a+=r.substring(u,o.index+o[0].length),f=o[1],d=!0);return a+=r.slice(u),a}function kC(r,o,a,u,d,f){let _=0;const y={type:d.type,currentCaseLViewIndex:kd(r,o,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function bT(r,o,a){r.push(B0(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,f),function DC(r,o,a){const u=r.data[o];null===u?r.data[o]=a:u.value=a}(r,f,y);const D=d.values;for(let T=0;T<D.length;T++){const R=D[T],U=[];for(let Y=0;Y<R.length;Y++){const te=R[Y];if("string"!=typeof te){const de=U.push(te)-1;R[Y]=`\x3c!--\ufffd${de}\ufffd--\x3e`}}_=xC(r,y,o,a,u,d.cases[T],R.join(""),U)|_}_&&function ET(r,o,a){r.push(o,1,a<<2|3)}(a,_,f)}function q_(r){const o=[],a=[];let u=1,d=0;const f=G0(r=r.replace(z_,function(_,y,D){return u="select"===D?0:1,d=parseInt(y.slice(1),10),""}));for(let _=0;_<f.length;){let y=f[_++].trim();1===u&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&o.push(y);const D=G0(f[_++]);o.length>a.length&&a.push(D)}return{type:u,mainBinding:d,cases:o,values:a}}function G0(r){if(!r)return[];let o=0;const a=[],u=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(r);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const D=r.substring(o,y);z_.test(D)?u.push(q_(D)):u.push(D),o=y+1}}else{if(0==a.length){const D=r.substring(o,y);u.push(D),o=y+1}a.push("{")}}const _=r.substring(o);return u.push(_),u}function xC(r,o,a,u,d,f,_,y){const D=[],T=[],R=[];o.cases.push(f),o.create.push(D),o.remove.push(T),o.update.push(R);const Y=function xv(r){const o=new zl(r);return function zt(){try{return!!(new window.DOMParser).parseFromString(Wl(""),"text/html")}catch{return!1}}()?new Fv(o):o}(function Pv(){return void 0!==dn?dn:typeof document<"u"?document:void 0}()).getInertBodyElement(_),te=function kg(r){return"content"in r&&function cD(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(Y)||Y;return te?FC(r,o,a,u,D,T,R,te,d,y,0):0}function FC(r,o,a,u,d,f,_,y,D,T,R){let U=0,Y=y.firstChild;for(;Y;){const te=kd(r,a,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const de=Y,Le=de.tagName.toLowerCase();if(wd.hasOwnProperty(Le)){K_(d,lp,Le,D,te),r.data[te]=Le;const Oe=de.attributes;for(let Tt=0;Tt<Oe.length;Tt++){const Bn=Oe.item(Tt),Qn=Bn.name.toLowerCase();Bn.value.match(_p)?Pg.hasOwnProperty(Qn)&&th(_,Bn.value,te,Bn.name,0,Mg[Qn]?iu:null):DT(d,te,Bn)}U=FC(r,o,a,u,d,f,_,Y,te,T,R+1)|U,j0(f,te,R)}break;case Node.TEXT_NODE:const He=Y.textContent||"",tt=He.match(_p);K_(d,null,tt?"":He,D,te),j0(f,te,R),tt&&(U=th(_,He,te,null,0,null)|U);break;case Node.COMMENT_NODE:const yt=MC.exec(Y.textContent||"");if(yt){const Tt=T[parseInt(yt[1],10)];K_(d,Qd,"",D,te),kC(r,a,u,D,Tt,te),LC(f,te,R)}}Y=Y.nextSibling}return U}function j0(r,o,a){0===a&&r.push(o)}function LC(r,o,a){0===a&&(r.push(~o),r.push(o))}function K_(r,o,a,u,d){null!==o&&r.push(o),r.push(a,d,function R0(r,o,a){return r|o<<17|a<<1}(0,u,d))}function DT(r,o,a){r.push(o<<1|1,a.name,a.value)}function J_(r,o,a=-1){const u=$t(),d=we(),f=Yt+r,_=mr(u.consts,o),y=us();u.firstCreatePass&&function vT(r,o,a,u,d,f){const _=us(),y=[],D=[],T=[[]];d=function Z_(r,o){if(function H0(r){return-1===r}(o))return mp(r);{const a=r.indexOf(`:${o}${xu}`)+2+o.toString().length,u=r.search(new RegExp(`${xu}\\/\\*\\d+:${o}${xu}`));return mp(r.substring(a,u))}}(d,f);const R=function _T(r){return r.replace(V0," ")}(d).split(L0);for(let U=0;U<R.length;U++){let Y=R[U];if(1&U){const te=47===Y.charCodeAt(0),Le=(Y.charCodeAt(te?1:0),Yt+Number.parseInt(Y.substring(te?2:1)));if(te)T.shift(),vr(us(),!1);else{const He=wC(r,T[0],Le);T.unshift([]),vr(He,!0)}}else{const te=G0(Y);for(let de=0;de<te.length;de++){let Le=te[de];if(1&de){const He=Le;if("object"!=typeof He)throw new Error(`Unable to parse ICU expression in "${d}" message.`);kC(r,a,D,o,He,PC(r,_,T[0],a,y,"",!0).index)}else""!==Le&&Y_(r,_,T[0],y,D,a,Le)}}}r.data[u]={create:y,update:D}}(u,null===y?0:y.index,d,f,_,a);const D=u.data[f],R=Tv(u,y===d[Tn]?null:y,d);(function IC(r,o,a,u){const d=r[Pt];for(let f=0;f<o.length;f++){const _=o[f++],y=o[f],T=(_&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,R=_>>>Un.SHIFT;let U=r[R];null===U&&(U=r[R]=(_&Un.COMMENT)===Un.COMMENT?d.createComment(y):Cs(d,y)),T&&null!==a&&Gl(d,a,U,u,!1)}})(d,D.create,R,y&&8&y.type?d[y.index]:null),Xu(!0)}function X_(r,o,a){J_(r,o,a),function Q_(){Xu(!1)}()}function Fu(r){return function ku(r){r&&(eh|=1<<Math.min(Pu,31)),Pu++}(Hi(we(),cr(),r)),Fu}function q0(r){!function O0(r,o,a){if(Pu>0){const u=r.data[a];P0(r,o,Array.isArray(u)?u:u.update,zi()-Pu-1,eh)}eh=0,Pu=0}($t(),we(),r+Yt)}function vp(r,o,a,u,d){if(r=Z(r),Array.isArray(r))for(let f=0;f<r.length;f++)vp(r[f],o,a,u,d);else{const f=$t(),_=we();let y=ql(r)?r:Z(r.provide),D=Ug(r);const T=ui(),R=1048575&T.providerIndexes,U=T.directiveStart,Y=T.providerIndexes>>20;if(ql(r)||!r.multi){const te=new Gr(D,d,mu),de=bp(y,o,d?R:R+Y,U);-1===de?(ta(Pr(T,_),f,y),yp(f,r,o.length),o.push(y),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(te),_.push(te)):(a[de]=te,_[de]=te)}else{const te=bp(y,o,R+Y,U),de=bp(y,o,R,R+Y),He=de>=0&&a[de];if(d&&!He||!d&&!(te>=0&&a[te])){ta(Pr(T,_),f,y);const tt=function jC(r,o,a,u,d){const f=new Gr(r,a,mu);return f.multi=[],f.index=o,f.componentProviders=0,em(f,d,u&&!a),f}(d?GC:nh,a.length,d,u,D);!d&&He&&(a[de].providerFactory=tt),yp(f,r,o.length,0),o.push(y),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(tt),_.push(tt)}else yp(f,r,te>-1?te:de,em(a[d?de:te],D,!d&&u));!d&&u&&He&&a[de].componentProviders++}}}function yp(r,o,a,u){const d=ql(o),f=function Df(r){return!!r.useClass}(o);if(d||f){const D=(f?Z(o.useClass):o).prototype.ngOnDestroy;if(D){const T=r.destroyHooks||(r.destroyHooks=[]);if(!d&&o.multi){const R=T.indexOf(a);-1===R?T.push(a,[u,D]):T[R+1].push(u,D)}else T.push(a,D)}}}function em(r,o,a){return a&&r.componentProviders++,r.multi.push(o)-1}function bp(r,o,a,u){for(let d=a;d<u;d++)if(o[d]===r)return d;return-1}function nh(r,o,a,u){return Ep(this.multi,[])}function GC(r,o,a,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=ao(a,a[qe],this.providerFactory.index,u);f=y.slice(0,_),Ep(d,f);for(let D=_;D<y.length;D++)f.push(y[D])}else f=[],Ep(d,f);return f}function Ep(r,o){for(let a=0;a<r.length;a++)o.push((0,r[a])());return o}function K0(r,o=[]){return a=>{a.providersResolver=(u,d)=>function HC(r,o,a){const u=$t();if(u.firstCreatePass){const d=_r(r);vp(a,u.data,u.blueprint,d,!0),vp(o,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,o)}}class pc{}class tm{}function J0(r,o){return new Q0(r,o??null)}class Q0 extends pc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vr(this);const u=ki(o);this._bootstrapComponents=Ts(u.bootstrap),this._r3Injector=ly(o,a,[{provide:pc,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],le(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class nm extends tm{constructor(o){super(),this.moduleType=o}create(o){return new Q0(this.moduleType,o)}}class X0 extends pc{constructor(o,a,u){super(),this.componentFactoryResolver=new Vr(this),this.instance=null;const d=new If([...o,{provide:pc,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],a||Kl(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function im(r,o,a=null){return new X0(r,o,a).injector}let $C=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=cu(0,a.type),d=u.length>0?im([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Je({token:r,providedIn:"environment",factory:()=>new r(Fe(po))}),r})();function rm(r){r.getStandaloneInjector=o=>o.get($C).getOrCreateStandaloneInjector(r)}function ob(r,o,a,u){return cb(we(),di(),r,o,a,u)}function sb(r,o,a,u,d){return function ub(r,o,a,u,d,f,_){const y=o+a;return _a(r,y,d,f)?Zo(r,y+2,_?u.call(_,d,f):u(d,f)):ih(r,y+2)}(we(),di(),r,o,a,u,d)}function Cp(r,o,a,u,d,f){return function sm(r,o,a,u,d,f,_,y){const D=o+a;return function Zf(r,o,a,u,d){const f=_a(r,o,a,u);return Hi(r,o+2,d)||f}(r,D,d,f,_)?Zo(r,D+3,y?u.call(y,d,f,_):u(d,f,_)):ih(r,D+3)}(we(),di(),r,o,a,u,d,f)}function ih(r,o){const a=r[o];return a===Ot?void 0:a}function cb(r,o,a,u,d,f){const _=o+a;return Hi(r,_,d)?Zo(r,_+1,f?u.call(f,d):u(d)):ih(r,_+1)}function hb(r,o){const a=$t();let u;const d=r+Yt;a.firstCreatePass?(u=function wp(r,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(r===u.name)return u}}(o,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const f=u.factory||(u.factory=Rr(u.type)),_=Gn(mu);try{const y=Po(!1),D=f();return Po(y),function QD(r,o,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),o[a]=u}(a,we(),d,D),D}finally{Gn(_)}}function lm(r,o,a){const u=r+Yt,d=we(),f=Or(d,u);return function oh(r,o){return r[qe].data[o].pure}(d,u)?cb(d,di(),o,f.transform,a,f):f.transform(a)}function cm(r){return o=>{setTimeout(r,void 0,o)}}const rn=class sh extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let d=o,f=a||(()=>null),_=u;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),f=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(f=cm(f),d&&(d=cm(d)),_&&(_=cm(_)));const y=super.subscribe({next:d,error:f,complete:_});return o instanceof G.w0&&o.add(y),y}};function Tp(){return this._results[Symbol.iterator]()}class vi{get changes(){return this._changes||(this._changes=new rn)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vi.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Tp)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=function br(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function zh(r,o,a){if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],f=o[u];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ah=(()=>{class r{}return r.__NG_ELEMENT_ID__=nw,r})();const pb=ah,gb=class extends pb{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tView,d=tl(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);d[Qr]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Br];return null!==_&&(d[Br]=_.createEmbeddedView(u)),yu(u,d,o),new il(d)}};function nw(){return Sp(ui(),we())}function Sp(r,o){return 4&r.type?new gb(o,r,gu(r,o)):null}let Np=(()=>{class r{}return r.__NG_ELEMENT_ID__=_b,r})();function _b(){return vb(ui(),we())}const gc=Np,wr=class extends gc{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fo(this._hostTNode,this._hostLView);if(so(o)){const a=ps(o,this._hostLView),u=fs(o);return new lo(a[qe].data[u+8],a)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=mb(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(o,a,u){let d,f;"number"==typeof u?d=u:null!=u&&(d=u.index,f=u.injector);const _=o.createEmbeddedView(a||{},f);return this.insert(_,d),_}createComponent(o,a,u,d,f){const _=o&&!function vs(r){return"function"==typeof r}(o);let y;if(_)y=a;else{const U=a||{};y=U.index,u=U.injector,d=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const D=_?o:new Hd(Zt(o)),T=u||this.parentInjector;if(!f&&null==D.ngModule){const Y=(_?T:this.parentInjector).get(po,null);Y&&(f=Y)}const R=D.create(T,d,void 0,f);return this.insert(R.hostView,y),R}insert(o,a){const u=o._lView,d=u[qe];if(function ka(r){return gr(r[pn])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const U=u[pn],Y=new wr(U,U[Tn],U[pn]);Y.detach(Y.indexOf(o))}}const f=this._adjustIndex(a),_=this._lContainer;!function eu(r,o,a,u){const d=Ln+u,f=a.length;u>0&&(a[d-1][xi]=o),u<f-Ln?(o[xi]=a[d],aa(a,Ln+u,o)):(a.push(o),o[xi]=null),o[pn]=a;const _=o[Qr];null!==_&&a!==_&&function Dd(r,o){const a=r[is];o[$n]!==o[pn][pn][$n]&&(r[Sn]=!0),null===a?r[is]=[o]:a.push(o)}(_,o);const y=o[Br];null!==y&&y.insertView(r),o[wt]|=64}(d,u,_,f);const y=wg(f,_),D=u[Pt],T=df(D,_[Aa]);return null!==T&&function bd(r,o,a,u,d,f){u[fn]=d,u[Tn]=o,nu(r,u,a,1,d,f)}(d,_[Tn],D,u,T,y),o.attachToViewContainerRef(),aa(Ap(_),f,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=mb(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Hl(this._lContainer,a);u&&(ys(Ap(this._lContainer),a),uf(u[qe],u))}detach(o){const a=this._adjustIndex(o,-1),u=Hl(this._lContainer,a);return u&&null!=ys(Ap(this._lContainer),a)?new il(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function mb(r){return r[ns]}function Ap(r){return r[ns]||(r[ns]=[])}function vb(r,o){let a;const u=o[r.index];if(gr(u))a=u;else{let d;if(8&r.type)d=Ht(u);else{const f=o[Pt];d=f.createComment("");const _=ii(r,o);Gl(f,df(f,_),d,function hf(r,o){return r.nextSibling(o)}(f,_),!1)}o[r.index]=a=Cu(u,o,d,r),Ud(o,a)}return new wr(a,r,o)}class um{constructor(o){this.queryList=o,this.matches=null}clone(){return new um(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<u;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new dm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ym(o,a).matches&&this.queries[a].setDirty()}}class Rp{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class hm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(o,d);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new hm(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Os{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Os(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(o,a,yb(a,f)),this.matchTNodeWithReadOption(o,a,Vi(a,o,f,!1,!1))}else u===ah?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vi(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===ha||d===Np||d===ah&&4&a.type)this.addMatch(a.index,-2);else{const f=Vi(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function yb(r,o){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function hl(r,o,a,u){return-1===a?function tr(r,o){return 11&r.type?gu(r,o):4&r.type?Sp(r,o):null}(o,r):-2===a?function iw(r,o,a){return a===ha?gu(o,r):a===ah?Sp(o,r):a===Np?vb(o,r):void 0}(r,o,u):ao(r,r[qe],a,o)}function rw(r,o,a,u){const d=o[Br].queries[u];if(null===d.matches){const f=r.data,_=a.matches,y=[];for(let D=0;D<_.length;D+=2){const T=_[D];y.push(T<0?null:hl(o,f[T],_[D+1],a.metadata.read))}d.matches=y}return d.matches}function Op(r,o,a,u){const d=r.queries.getByIndex(a),f=d.matches;if(null!==f){const _=rw(r,o,d,a);for(let y=0;y<f.length;y+=2){const D=f[y];if(D>0)u.push(_[y/2]);else{const T=f[y+1],R=o[-D];for(let U=Ln;U<R.length;U++){const Y=R[U];Y[Qr]===Y[pn]&&Op(Y[qe],Y,T,u)}if(null!==R[is]){const U=R[is];for(let Y=0;Y<U.length;Y++){const te=U[Y];Op(te[qe],te,T,u)}}}}}return u}function fm(r){const o=we(),a=$t(),u=Oo();Ks(u+1);const d=ym(a,u);if(r.dirty&&function Pa(r){return 4==(4&r[wt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const f=d.crossesNgTemplate?Op(a,o,u,[]):rw(a,o,d,u);r.reset(f,vD),r.notifyOnChanges()}return!0}return!1}function pm(r,o,a){const u=$t();u.firstCreatePass&&(vm(u,new Rp(r,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),mm(u,we(),o)}function gm(r,o,a,u){const d=$t();if(d.firstCreatePass){const f=ui();vm(d,new Rp(o,a,u),f.index),function Mp(r,o){const a=r.contentQueries||(r.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,o)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}mm(d,we(),a)}function _m(){return function bb(r,o){return r[Br].queries[o].queryList}(we(),Oo())}function mm(r,o,a){const u=new vi(4==(4&a));Eu(r,o,u,u.destroy),null===o[Br]&&(o[Br]=new dm),o[Br].queries.push(new um(u))}function vm(r,o,a){null===r.queries&&(r.queries=new hm),r.queries.track(new Os(o,a))}function ym(r,o){return r.queries.getByIndex(o)}function bm(r,o){return Sp(r,o)}function lh(r){return!!ki(r)}function mc(...r){}const fh=new Xt("Application Initializer");let vc=(()=>{class r{constructor(a){this.appInits=a,this.resolve=mc,this.reject=mc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Jf(f))a.push(f);else if(Hy(f)){const _=new Promise((y,D)=>{f.subscribe({complete:y,error:D})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Fe(fh,8))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Lb=new Xt("AppId",{providedIn:"root",factory:function Up(){return`${Om()}${Om()}${Om()}`}});function Om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vb=new Xt("Platform Initializer"),Ub=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let hw=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Bp=new Xt("LocaleId",{providedIn:"root",factory:()=>Ye(Bp,Qe.Optional|Qe.SkipSelf)||function LT(){return typeof $localize<"u"&&$localize.locale||Mu}()}),Mm=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Hb=(()=>{class r{compileModuleSync(a){return new nm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=Ts(ki(a).declarations).reduce((_,y)=>{const D=Zt(y);return D&&_.push(new Hd(D)),_},[]);return new fw(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $b=(()=>Promise.resolve(0))();function Hp(r){typeof Zone>"u"?$b.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Zr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function BT(){let r=Ct.requestAnimationFrame,o=Ct.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function $T(r){const o=()=>{!function jT(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ct,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,km(r),r.isCheckStableRunning=!0,Wb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),km(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,f,_,y)=>{try{return xm(r),a.invokeTask(d,f,_,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&o(),zb(r)}},onInvoke:(a,u,d,f,_,y,D)=>{try{return xm(r),a.invoke(d,f,_,y,D)}finally{r.shouldCoalesceRunChangeDetection&&o(),zb(r)}},onHasTask:(a,u,d,f)=>{a.hasTask(d,f),u===d&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,km(r),Wb(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,d,f)=>(a.handleError(d,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new he(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,o,GT,mc,mc);try{return f.runTask(_,a,u)}finally{f.cancelTask(_)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const GT={};function Wb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function km(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function xm(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function zb(r){r._nesting--,Wb(r)}class Yb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rn,this.onMicrotaskEmpty=new rn,this.onStable=new rn,this.onError=new rn}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}const Fm=new Xt(""),Zb=new Xt("");let qb,pw=(()=>{class r{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qb||(function gw(r){qb=r}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zr.assertNotInAngularZone(),Hp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(Fe(Zr),Fe(Lm),Fe(Zb))},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})(),Lm=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return qb?.findTestabilityInTree(this,a,u)??null}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ea=!1;let fl=null;const Vm=new Xt("AllowMultipleToken"),Um=new Xt("PlatformDestroyListeners"),Bm=new Xt("appBootstrapListener");class _w{constructor(o,a){this.name=o,this.token=a}}function jp(r,o,a=[]){const u=`Platform: ${o}`,d=new Xt(u);return(f=[])=>{let _=Gm();if(!_||_.injector.get(Vm,!1)){const y=[...a,...f,{provide:d,useValue:!0}];r?r(y):function Hm(r){if(fl&&!fl.get(Vm,!1))throw new he(400,!1);fl=r;const o=r.get(jm);(function Gp(r){const o=r.get(Vb,null);o&&o.forEach(a=>a())})(r)}(function Xb(r=[],o){return Xa.create({name:o,providers:[{provide:Cf,useValue:"platform"},{provide:Um,useValue:new Set([()=>fl=null])},...r]})}(y,u))}return function Qb(r){const o=Gm();if(!o)throw new he(401,!1);return o}()}}function Gm(){return fl?.get(jm)??null}let jm=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function $p(r,o){let a;return a="noop"===r?new Yb:("zone.js"===r?void 0:r)||new Zr(o),a}(u?.ngZone,function eE(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Zr,useValue:d}];return d.run(()=>{const _=Xa.create({providers:f,parent:this.injector,name:a.moduleType.name}),y=a.create(_),D=y.injector.get(fa,null);if(!D)throw new he(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:R=>{D.handleError(R)}});y.onDestroy(()=>{Wp(this._modules,y),T.unsubscribe()})}),function tE(r,o,a){try{const u=a();return Jf(u)?u.catch(d=>{throw o.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>r.handleError(u)),u}}(D,d,()=>{const T=y.injector.get(vc);return T.runInitializers(),T.donePromise.then(()=>(j_(y.injector.get(Bp,Mu)||Mu),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,u=[]){const d=nE({},u);return function Kb(r,o,a){const u=new nm(a);return Promise.resolve(u)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const u=a.injector.get(ph);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Um,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Fe(Xa))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function nE(r,o){return Array.isArray(o)?o.reduce(nE,r):{...r,...o}}let ph=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new M.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),_=new M.y(y=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),Hp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ee.T)(f,_.pipe((0,re.B)()))}bootstrap(a,u){const d=a instanceof Tf;if(!this._injector.get(vc).done){!d&&Wi(a);throw new he(405,Ea)}let _;_=d?a:this._injector.get(_o).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const y=function Jb(r){return r.isBoundToModule}(_)?void 0:this._injector.get(pc),T=_.create(Xa.NULL,[],u||_.selector,y),R=T.location.nativeElement,U=T.injector.get(Fm,null);return U?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),Wp(this.components,T),U?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Wp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Bm,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Wp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(a){return new(a||r)(Fe(Zr),Fe(po),Fe(fa))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Wp(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}function bw(){return!1}let rE=(()=>{class r{}return r.__NG_ELEMENT_ID__=Cw,r})();function Cw(r){return function oE(r,o,a){if(No(r)&&!a){const u=Ci(r.index,o);return new il(u,u)}return 47&r.type?new il(o[$n],o):null}(ui(),we(),16==(16&r))}class Tw{constructor(){}supports(o){return zf(o)}create(o){return new QT(o)}}const JT=(r,o)=>o;class QT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||JT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,f=null;for(;a||u;){const _=!u||a&&a.currentIndex<Jo(u,d,f)?a:u,y=Jo(_,d,f),D=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const T=y-d,R=D-d;if(T!=R){for(let Y=0;Y<T;Y++){const te=Y<f.length?f[Y]:f[Y]=0,de=te+Y;R<=de&&de<T&&(f[Y]=te+1)}f[_.previousIndex]=R-T}}y!==D&&o(_,y,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!zf(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,_,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)f=o[y],_=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,f,_,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,y),u=!0),a=a._next}else d=0,function qD(r,o){if(Array.isArray(r))for(let a=0;a<r.length;a++)o(r[a]);else{const a=r[Symbol.iterator]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,y=>{_=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,y,_,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,_,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new XT(a,u),f,d),o}_verifyReinsertion(o,a,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new gh),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class XT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class gh{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Sw,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jo(r,o,a){const u=r.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class hE{constructor(){}supports(o){return o instanceof Map||Yf(o)}create(){return new fE}}class fE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Yf(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new qr(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class qr{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Do(){return new Kr([new Tw])}let Kr=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||Do()),deps:[[r,new sn,new bn]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new he(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:Do}),r})();function Yp(){return new bc([new hE])}let bc=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||Yp()),deps:[[r,new sn,new bn]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new he(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:Yp}),r})();const mh=jp(null,"core",[]);let Aw=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Fe(ph))},r.\u0275mod=Ta({type:r}),r.\u0275inj=wn({}),r})();function pE(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Mw(r,o){const a=Zt(r),u=o.elementInjector||Kl();return new Hd(a).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(it,ye,F)=>{F.d(ye,{Z:()=>Ge});var l=F(2090),G=F(4859),M=F(9681),ee=F(1877);class re{constructor(he,be){this._delegate=he,this.firebase=be,(0,M._addComponent)(he,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(he,be=M._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(he);return!Re.isInitialized()&&"EXPLICIT"===(null===(ve=Re.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:be})}_removeServiceInstance(he,be=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(be)}_addComponent(he){(0,M._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,M._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ue(){const et=function le(et){const he={},be={__esModule:!0,initializeApp:function Ie(Q,se={}){const pe=M.initializeApp(Q,se);if((0,l.r3)(he,pe.name))return he[pe.name];const Be=new et(pe,be);return he[pe.name]=Be,Be},app:Re,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Q){const se=Q.name,pe=se.replace("-compat","");if(M._registerComponent(Q)&&"PUBLIC"===Q.type){const Be=(Me=Re())=>{if("function"!=typeof Me[pe])throw fe.create("invalid-app-argument",{appName:se});return Me[pe]()};void 0!==Q.serviceProps&&(0,l.ZB)(Be,Q.serviceProps),be[pe]=Be,et.prototype[pe]=function(...Me){return this._getService.bind(this,se).apply(this,Q.multipleInstances?Me:[])}}return"PUBLIC"===Q.type?be[pe]:null},removeApp:function ve(Q){delete he[Q]},useAsService:function Ve(Q,se){return"serverAuth"===se?null:se},modularAPIs:M}};function Re(Q){if(!(0,l.r3)(he,Q=Q||M._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Q});return he[Q]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ne(){return Object.keys(he).map(Q=>he[Q])}}),Re.App=et,be}(re);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function he(be){(0,l.ZB)(et,be)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),et}(),z=new ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=W;!function Ce(et){(0,M.registerVersion)("@firebase/app-compat","0.2.4",et)}()},9681:(it,ye,F)=>{F.r(ye),F.d(ye,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>lt,_apps:()=>ze,_clearComponents:()=>wn,_components:()=>je,_getProvider:()=>Je,_registerComponent:()=>st,_removeServiceInstance:()=>jt,deleteApp:()=>sr,getApp:()=>On,getApps:()=>$i,initializeApp:()=>pr,onLog:()=>Qe,registerVersion:()=>ei,setLogLevel:()=>si});var l=F(5861),G=F(4859),M=F(1877),ee=F(2090),re=F(8766);class ie{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function fe(Fe){return"VERSION"===Fe.getComponent()?.type}(Ye)){const ct=Ye.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(Ye=>Ye).join(" ")}}const le="@firebase/app",W=new M.Yd("@firebase/app"),Pe="[DEFAULT]",ke={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,je=new Map;function Kt(Fe,me){try{Fe.container.addComponent(me)}catch(Ye){W.debug(`Component ${me.name} failed to register with FirebaseApp ${Fe.name}`,Ye)}}function lt(Fe,me){Fe.container.addOrOverwriteComponent(me)}function st(Fe){const me=Fe.name;if(je.has(me))return W.debug(`There were multiple attempts to register component ${me}.`),!1;je.set(me,Fe);for(const Ye of ze.values())Kt(Ye,Fe);return!0}function Je(Fe,me){const Ye=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Fe.container.getProvider(me)}function jt(Fe,me,Ye=Pe){Je(Fe,me).clearInstance(Ye)}function wn(){je.clear()}const Jt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(me,Ye,ct){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const bi="9.17.2";function pr(Fe,me={}){let Ye=Fe;"object"!=typeof me&&(me={name:me});const ct=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},me),bt=ct.name;if("string"!=typeof bt||!bt)throw Jt.create("bad-app-name",{appName:String(bt)});if(Ye||(Ye=(0,ee.aH)()),!Ye)throw Jt.create("no-options");const Vt=ze.get(bt);if(Vt){if((0,ee.vZ)(Ye,Vt.options)&&(0,ee.vZ)(ct,Vt.config))return Vt;throw Jt.create("duplicate-app",{appName:bt})}const xn=new G.H0(bt);for(const j of je.values())xn.addComponent(j);const $=new zn(Ye,ct,xn);return ze.set(bt,$),$}function On(Fe=Pe){const me=ze.get(Fe);if(!me&&Fe===Pe)return pr();if(!me)throw Jt.create("no-app",{appName:Fe});return me}function $i(){return Array.from(ze.values())}function sr(Fe){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(Fe){const me=Fe.name;ze.has(me)&&(ze.delete(me),yield Promise.all(Fe.container.getProviders().map(Ye=>Ye.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function ei(Fe,me,Ye){var ct;let bt=null!==(ct=ke[Fe])&&void 0!==ct?ct:Fe;Ye&&(bt+=`-${Ye}`);const Vt=bt.match(/\s|\//),xn=me.match(/\s|\//);if(Vt||xn){const $=[`Unable to register library "${bt}" with version "${me}":`];return Vt&&$.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),Vt&&xn&&$.push("and"),xn&&$.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void W.warn($.join(" "))}st(new G.wA(`${bt}-version`,()=>({library:bt,version:me}),"VERSION"))}function Qe(Fe,me){if(null!==Fe&&"function"!=typeof Fe)throw Jt.create("invalid-log-argument");(0,M.Am)(Fe,me)}function si(Fe){(0,M.Ub)(Fe)}const ai="firebase-heartbeat-database",Gn=1,Mn="firebase-heartbeat-store";let Mi=null;function Ct(){return Mi||(Mi=(0,re.X3)(ai,Gn,{upgrade:(Fe,me)=>{0===me&&Fe.createObjectStore(Mn)}}).catch(Fe=>{throw Jt.create("idb-open",{originalErrorMessage:Fe.message})})),Mi}function Dt(){return(Dt=(0,l.Z)(function*(Fe){try{return(yield Ct()).transaction(Mn).objectStore(Mn).get(Pn(Fe))}catch(me){if(me instanceof ee.ZR)W.warn(me.message);else{const Ye=Jt.create("idb-get",{originalErrorMessage:me?.message});W.warn(Ye.message)}}})).apply(this,arguments)}function ln(Fe,me){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(Fe,me){try{const ct=(yield Ct()).transaction(Mn,"readwrite");return yield ct.objectStore(Mn).put(me,Pn(Fe)),ct.done}catch(Ye){if(Ye instanceof ee.ZR)W.warn(Ye.message);else{const ct=Jt.create("idb-set",{originalErrorMessage:Ye?.message});W.warn(ct.message)}}})).apply(this,arguments)}function Pn(Fe){return`${Fe.name}!${Fe.options.appId}`}class ar{constructor(me){this.container=me,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Mt(Ye),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var me=this;return(0,l.Z)(function*(){const ct=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=St();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==bt&&!me._heartbeatsCache.heartbeats.some(Vt=>Vt.date===bt))return me._heartbeatsCache.heartbeats.push({date:bt,agent:ct}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(Vt=>{const xn=new Date(Vt.date).valueOf();return Date.now()-xn<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,l.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const Ye=St(),{heartbeatsToSend:ct,unsentEntries:bt}=function lr(Fe,me=1024){const Ye=[];let ct=Fe.slice();for(const bt of Fe){const Vt=Ye.find(xn=>xn.agent===bt.agent);if(Vt){if(Vt.dates.push(bt.date),Pi(Ye)>me){Vt.dates.pop();break}}else if(Ye.push({agent:bt.agent,dates:[bt.date]}),Pi(Ye)>me){Ye.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:ct}}(me._heartbeatsCache.heartbeats),Vt=(0,ee.L)(JSON.stringify({version:2,heartbeats:ct}));return me._heartbeatsCache.lastSentHeartbeatDate=Ye,bt.length>0?(me._heartbeatsCache.heartbeats=bt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Vt})()}}function St(){return(new Date).toISOString().substring(0,10)}class Mt{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,l.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function rt(Fe){return Dt.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var Ye=this;return(0,l.Z)(function*(){var ct;if(yield Ye._canUseIndexedDBPromise){const Vt=yield Ye.read();return ln(Ye.app,{lastSentHeartbeatDate:null!==(ct=me.lastSentHeartbeatDate)&&void 0!==ct?ct:Vt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Ye=this;return(0,l.Z)(function*(){var ct;if(yield Ye._canUseIndexedDBPromise){const Vt=yield Ye.read();return ln(Ye.app,{lastSentHeartbeatDate:null!==(ct=me.lastSentHeartbeatDate)&&void 0!==ct?ct:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...me.heartbeats]})}})()}}function Pi(Fe){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function kn(Fe){st(new G.wA("platform-logger",me=>new ie(me),"PRIVATE")),st(new G.wA("heartbeat",me=>new ar(me),"PRIVATE")),ei(le,"0.9.4",Fe),ei(le,"0.9.4","esm2017"),ei("fire-js","")}("")},4859:(it,ye,F)=>{F.d(ye,{H0:()=>le,wA:()=>M,zt:()=>re});var l=F(5861),G=F(2090);class M{constructor(W,z,Z){this.name=W,this.instanceFactory=z,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ee="[DEFAULT]";class re{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const Z=new G.BH;if(this.instancesDeferred.set(z,Z),this.isInitialized(z)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:z});xe&&Z.resolve(xe)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const Z=this.normalizeInstanceIdentifier(W?.identifier),xe=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Ce){if(xe)return null;throw Ce}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function fe(ue){return"EAGER"===ue.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[z,Z]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(z);try{const Ce=this.getOrInitializeService({instanceIdentifier:xe});Z.resolve(Ce)}catch{}}}}clearInstance(W=ee){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...z.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ee){return this.instances.has(W)}getOptions(W=ee){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,Z=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Z,options:z});for(const[Ce,Ge]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Ce)&&Ge.resolve(xe);return xe}onInit(W,z){var Z;const xe=this.normalizeInstanceIdentifier(z),Ce=null!==(Z=this.onInitCallbacks.get(xe))&&void 0!==Z?Z:new Set;Ce.add(W),this.onInitCallbacks.set(xe,Ce);const Ge=this.instances.get(xe);return Ge&&W(Ge,xe),()=>{Ce.delete(W)}}invokeOnInitCallbacks(W,z){const Z=this.onInitCallbacks.get(z);if(Z)for(const xe of Z)try{xe(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let Z=this.instances.get(W);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=W,ue===ee?void 0:ue),options:z}),this.instances.set(W,Z),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(Z,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Z)}catch{}var ue;return Z||null}normalizeInstanceIdentifier(W=ee){return this.component?this.component.multipleInstances?W:ee:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new re(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(it,ye,F)=>{F.d(ye,{Am:()=>ue,Ub:()=>le,Yd:()=>fe,in:()=>G});const l=[];var G=(()=>{return(W=G||(G={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",G;var W})();const M={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},ee=G.INFO,re={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ie=(W,z,...Z)=>{if(z<W.logLevel)return;const xe=(new Date).toISOString(),Ce=re[z];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ce](`[${xe}]  ${W.name}:`,...Z)};class fe{constructor(z){this.name=z,this._logLevel=ee,this._logHandler=ie,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in G))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?M[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...z),this._logHandler(this,G.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...z),this._logHandler(this,G.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,G.INFO,...z),this._logHandler(this,G.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,G.WARN,...z),this._logHandler(this,G.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...z),this._logHandler(this,G.ERROR,...z)}}function le(W){l.forEach(z=>{z.setLogLevel(W)})}function ue(W,z){for(const Z of l){let xe=null;z&&z.level&&(xe=M[z.level]),Z.userLogHandler=null===W?null:(Ce,Ge,...et)=>{const he=et.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Ge>=(xe??Ce.logLevel)&&W({level:G[Ge].toLowerCase(),message:he,args:et,type:Ce.name})}}}},259:(it,ye,F)=>{F.d(ye,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.17.2","app")},9260:(it,ye,F)=>{F.d(ye,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.17.2","app-compat")},9568:(it,ye,F)=>{F.r(ye);var l=F(5861),G=F(3942),M=F(8401),ee=F(2090),fe=(F(9681),F(1877),F(4859));function le(){return window}const ue=2e3;function z(){return z=(0,l.Z)(function*(P,k,O){var J;const{BuildInfo:ae}=le();(0,M.ap)(k.sessionId,"AuthEvent did not contain a session ID");const Xe=yield function be(P){return ve.apply(this,arguments)}(k.sessionId),gt={};return(0,M.aq)()?gt.ibi=ae.packageName:(0,M.ar)()?gt.apn=ae.packageName:(0,M.as)(P,"operation-not-supported-in-this-environment"),ae.displayName&&(gt.appDisplayName=ae.displayName),gt.sessionId=Xe,(0,M.at)(P,O,k.type,void 0,null!==(J=k.eventId)&&void 0!==J?J:void 0,gt)}),z.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(P){const{BuildInfo:k}=le(),O={};(0,M.aq)()?O.iosBundleId=k.packageName:(0,M.ar)()?O.androidPackageName=k.packageName:(0,M.as)(P,"operation-not-supported-in-this-environment"),yield(0,M.au)(P,O)})).apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(P,k,O){const{cordova:J}=le();let ae=()=>{};try{yield new Promise((Xe,gt)=>{let Et=null;function xt(){var At;Xe();const Ei=null===(At=J.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof Ei&&Ei(),"function"==typeof O?.close&&O.close()}function _t(){Et||(Et=window.setTimeout(()=>{gt((0,M.aw)(P,"redirect-cancelled-by-user"))},ue))}function cn(){"visible"===document?.visibilityState&&_t()}k.addPassiveListener(xt),document.addEventListener("resume",_t,!1),(0,M.ar)()&&document.addEventListener("visibilitychange",cn,!1),ae=()=>{k.removePassiveListener(xt),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",cn,!1),Et&&window.clearTimeout(Et)}})}finally{ae()}})).apply(this,arguments)}function ve(){return(ve=(0,l.Z)(function*(P){const k=function Re(P){if((0,M.ap)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const k=new ArrayBuffer(P.length),O=new Uint8Array(k);for(let J=0;J<P.length;J++)O[J]=P.charCodeAt(J);return O}(P),O=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(O)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ie=20;class Ne extends M.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(k)),super.onEvent(k)}initialized(){var k=this;return(0,l.Z)(function*(){yield k.initPromise})()}}function Q(P){return se.apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(P){const k=yield Me()._get(mt(P));return k&&(yield Me()._remove(mt(P))),k})).apply(this,arguments)}function Be(){const P=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Ie;O++){const J=Math.floor(Math.random()*k.length);P.push(k.charAt(J))}return P.join("")}function Me(){return(0,M.az)(M.b)}function mt(P){return(0,M.aA)("authEvent",P.config.apiKey,P.name)}function ce(P){if(!P?.includes("?"))return{};const[k,...O]=P.split("?");return(0,ee.zd)(O.join("?"))}const Pe=class Te{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(k){var O=this;return(0,l.Z)(function*(){const J=k._key();let ae=O.eventManagers.get(J);return ae||(ae=new Ne(k),O.eventManagers.set(J,ae),O.attachCallbackListeners(k,ae)),ae})()}_openPopup(k){(0,M.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,O,J,ae){var Xe=this;return(0,l.Z)(function*(){!function he(P){var k,O,J,ae,Xe,gt,Et,xt,_t,cn;const At=le();(0,M.ax)("function"==typeof(null===(k=At?.universalLinks)||void 0===k?void 0:k.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(typeof(null===(O=At?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(Xe=null===(ae=null===(J=At?.cordova)||void 0===J?void 0:J.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Xe?void 0:Xe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(xt=null===(Et=null===(gt=At?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===xt?void 0:xt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(cn=null===(_t=At?.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===cn?void 0:cn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const gt=yield Xe._initialize(k);yield gt.initialized(),gt.resetRedirect(),(0,M.aD)(),yield Xe._originValidation(k);const Et=function Ee(P,k,O=null){return{type:k,eventId:O,urlResponse:null,sessionId:Be(),postBody:null,tenantId:P.tenantId,error:(0,M.aw)(P,"no-auth-event")}}(k,J,ae);yield function Ve(P,k){return Me()._set(mt(P),k)}(k,Et);const xt=yield function W(P,k,O){return z.apply(this,arguments)}(k,Et,O),_t=yield function Ce(P){const{cordova:k}=le();return new Promise(O=>{k.plugins.browsertab.isAvailable(J=>{let ae=null;J?k.plugins.browsertab.openUrl(P):ae=k.InAppBrowser.open(P,(0,M.av)()?"_blank":"_system","location=yes"),O(ae)})})}(xt);return function Ge(P,k,O){return et.apply(this,arguments)}(k,gt,_t)})()}_isIframeWebStorageSupported(k,O){throw new Error("Method not implemented.")}_originValidation(k){const O=k._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Z(P){return xe.apply(this,arguments)}(k)),this.originValidationPromises[O]}attachCallbackListeners(k,O){const{universalLinks:J,handleOpenURL:ae,BuildInfo:Xe}=le(),gt=setTimeout((0,l.Z)(function*(){yield Q(k),O.onEvent(ke())}),500),Et=function(){var cn=(0,l.Z)(function*(At){clearTimeout(gt);const Ei=yield Q(k);let _l=null;Ei&&At?.url&&(_l=function pe(P,k){var O,J;const ae=function oe(P){const k=ce(P),O=k.link?decodeURIComponent(k.link):void 0,J=ce(O).link,ae=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return ce(ae).link||ae||J||O||P}(k);if(ae.includes("/__/auth/callback")){const Xe=ce(ae),gt=Xe.firebaseError?function We(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Xe.firebaseError)):null,Et=null===(J=null===(O=gt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===J?void 0:J[1],xt=Et?(0,M.aw)(Et):null;return xt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ae,postBody:null}}return null}(Ei,At.url)),O.onEvent(_l||ke())});return function(Ei){return cn.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Et);const xt=ae,_t=`${Xe.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var cn=(0,l.Z)(function*(At){if(At.toLowerCase().startsWith(_t)&&Et({url:At}),"function"==typeof xt)try{xt(At)}catch(Ei){console.error(Ei)}});return function(At){return cn.apply(this,arguments)}}()}};function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}const lt=1e3;function st(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function jt(P=(0,ee.z$)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function bi(){try{const P=self.localStorage,k=M.aI();if(P)return P.setItem(k,"1"),P.removeItem(k),!function zn(P=(0,ee.z$)()){return function Qt(){return(0,ee.w1)()&&11===document?.documentMode}()||function Jt(P=(0,ee.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,ee.hl)()}catch{return pr()&&(0,ee.hl)()}return!1}function pr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function Je(){return"http:"===st()||"https:"===st()}()||(0,ee.ru)()||jt())&&!function wn(){return(0,ee.b$)()||(0,ee.UG)()}()&&bi()&&!pr()}function $i(){return jt()&&typeof document<"u"}function on(){return(on=(0,l.Z)(function*(){return!!$i()&&new Promise(P=>{const k=setTimeout(()=>{P(!1)},lt);document.addEventListener("deviceready",()=>{clearTimeout(k),P(!0)})})})).apply(this,arguments)}const Qe={LOCAL:"local",NONE:"none",SESSION:"session"},si=M.ax,ai="persistence";function Mn(P){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(P){yield P._initializationPromise;const k=rt(),O=M.aA(ai,P.config.apiKey,P.name);k&&k.setItem(O,P._getPersistence())})).apply(this,arguments)}function rt(){var P;try{return(null===(P=function ei(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Dt=M.ax;class ln{constructor(){this.browserResolver=M.az(M.k),this.cordovaResolver=M.az(Pe),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(k){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,O,J,ae){var Xe=this;return(0,l.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openPopup(k,O,J,ae)})()}_openRedirect(k,O,J,ae){var Xe=this;return(0,l.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openRedirect(k,O,J,ae)})()}_isIframeWebStorageSupported(k,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,O)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return $i()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,l.Z)(function*(){if(k.underlyingResolver)return;const O=yield function sr(){return on.apply(this,arguments)}();k.underlyingResolver=O?k.cordovaResolver:k.browserResolver})()}}function In(P){return P.unwrap()}function ti(P){return ar(P)}function ar(P){const{_tokenResponse:k}=P instanceof ee.ZR?P.customData:P;if(!k)return null;if(!(P instanceof ee.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return M.P.credentialFromResult(P);const O=k.providerId;if(!O||O===M.o.PASSWORD)return null;let J;switch(O){case M.o.GOOGLE:J=M.Q;break;case M.o.FACEBOOK:J=M.N;break;case M.o.GITHUB:J=M.T;break;case M.o.TWITTER:J=M.W;break;default:const{oauthIdToken:ae,oauthAccessToken:Xe,oauthTokenSecret:gt,pendingToken:Et,nonce:xt}=k;return Xe||gt||ae||Et?Et?O.startsWith("saml.")?M.aL._create(O,Et):M.J._fromParams({providerId:O,signInMethod:O,pendingToken:Et,idToken:ae,accessToken:Xe}):new M.U(O).credential({idToken:ae,accessToken:Xe,rawNonce:xt}):null}return P instanceof ee.ZR?J.credentialFromError(P):J.credentialFromResult(P)}function St(P,k){return k.catch(O=>{throw O instanceof ee.ZR&&function Yn(P,k){var O;const J=null===(O=k.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new Pi(P,M.an(P,k));else if(J){const ae=ar(k),Xe=k;ae&&(Xe.credential=ae,Xe.tenantId=J.tenantId||void 0,Xe.email=J.email||void 0,Xe.phoneNumber=J.phoneNumber||void 0)}}(P,O),O}).then(O=>{const ae=O.user;return{operationType:O.operationType,credential:ti(O),additionalUserInfo:M.al(O),user:kn.getOrCreate(ae)}})}function lr(P,k){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(P,k){const O=yield k;return{verificationId:O.verificationId,confirm:J=>St(P,O.confirm(J))}})).apply(this,arguments)}class Pi{constructor(k,O){this.resolver=O,this.auth=function Pn(P){return P.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return St(In(this.auth),this.resolver.resolveSignIn(k))}}class kn{constructor(k){this._delegate=k,this.multiFactor=M.ao(k)}static getOrCreate(k){return kn.USER_MAP.has(k)||kn.USER_MAP.set(k,new kn(k)),kn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var O=this;return(0,l.Z)(function*(){return St(O.auth,M.Z(O._delegate,k))})()}linkWithPhoneNumber(k,O){var J=this;return(0,l.Z)(function*(){return lr(J.auth,M.l(J._delegate,k,O))})()}linkWithPopup(k){var O=this;return(0,l.Z)(function*(){return St(O.auth,M.d(O._delegate,k,ln))})()}linkWithRedirect(k){var O=this;return(0,l.Z)(function*(){return yield Mn(M.aE(O.auth)),M.g(O._delegate,k,ln)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var O=this;return(0,l.Z)(function*(){return St(O.auth,M._(O._delegate,k))})()}reauthenticateWithPhoneNumber(k,O){return lr(this.auth,M.r(this._delegate,k,O))}reauthenticateWithPopup(k){return St(this.auth,M.e(this._delegate,k,ln))}reauthenticateWithRedirect(k){var O=this;return(0,l.Z)(function*(){return yield Mn(M.aE(O.auth)),M.h(O._delegate,k,ln)})()}sendEmailVerification(k){return M.ab(this._delegate,k)}unlink(k){var O=this;return(0,l.Z)(function*(){return yield M.ak(O._delegate,k),O})()}updateEmail(k){return M.ag(this._delegate,k)}updatePassword(k){return M.ah(this._delegate,k)}updatePhoneNumber(k){return M.u(this._delegate,k)}updateProfile(k){return M.af(this._delegate,k)}verifyBeforeUpdateEmail(k,O){return M.ac(this._delegate,k,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kn.USER_MAP=new WeakMap;const Fe=M.ax;let me=(()=>{class P{constructor(O,J){if(this.app=O,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=O.options;Fe(ae,"invalid-api-key",{appName:O.name}),Fe(ae,"invalid-api-key",{appName:O.name});const Xe=typeof window<"u"?ln:void 0;this._delegate=J.initialize({options:{persistence:ct(ae,O.name),popupRedirectResolver:Xe}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,J){M.G(this._delegate,O,J)}applyActionCode(O){return M.a2(this._delegate,O)}checkActionCode(O){return M.a3(this._delegate,O)}confirmPasswordReset(O,J){return M.a1(this._delegate,O,J)}createUserWithEmailAndPassword(O,J){var ae=this;return(0,l.Z)(function*(){return St(ae._delegate,M.a5(ae._delegate,O,J))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return M.aa(this._delegate,O)}isSignInWithEmailLink(O){return M.a8(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){Fe(On(),O._delegate,"operation-not-supported-in-this-environment");const J=yield M.j(O._delegate,ln);return J?St(O._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ze(P,k){(0,M.aE)(P)._logFramework(k)}(this._delegate,O)}onAuthStateChanged(O,J,ae){const{next:Xe,error:gt,complete:Et}=Ye(O,J,ae);return this._delegate.onAuthStateChanged(Xe,gt,Et)}onIdTokenChanged(O,J,ae){const{next:Xe,error:gt,complete:Et}=Ye(O,J,ae);return this._delegate.onIdTokenChanged(Xe,gt,Et)}sendSignInLinkToEmail(O,J){return M.a7(this._delegate,O,J)}sendPasswordResetEmail(O,J){return M.a0(this._delegate,O,J||void 0)}setPersistence(O){var J=this;return(0,l.Z)(function*(){let ae;switch(function Gn(P,k){si(Object.values(Qe).includes(k),P,"invalid-persistence-type"),(0,ee.b$)()?si(k!==Qe.SESSION,P,"unsupported-persistence-type"):(0,ee.UG)()?si(k===Qe.NONE,P,"unsupported-persistence-type"):pr()?si(k===Qe.NONE||k===Qe.LOCAL&&(0,ee.hl)(),P,"unsupported-persistence-type"):si(k===Qe.NONE||bi(),P,"unsupported-persistence-type")}(J._delegate,O),O){case Qe.SESSION:ae=M.a;break;case Qe.LOCAL:ae=(yield M.az(M.i)._isAvailable())?M.i:M.b;break;case Qe.NONE:ae=M.L;break;default:return M.as("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return St(this._delegate,M.X(this._delegate))}signInWithCredential(O){return St(this._delegate,M.Y(this._delegate,O))}signInWithCustomToken(O){return St(this._delegate,M.$(this._delegate,O))}signInWithEmailAndPassword(O,J){return St(this._delegate,M.a6(this._delegate,O,J))}signInWithEmailLink(O,J){return St(this._delegate,M.a9(this._delegate,O,J))}signInWithPhoneNumber(O,J){return lr(this._delegate,M.s(this._delegate,O,J))}signInWithPopup(O){var J=this;return(0,l.Z)(function*(){return Fe(On(),J._delegate,"operation-not-supported-in-this-environment"),St(J._delegate,M.c(J._delegate,O,ln))})()}signInWithRedirect(O){var J=this;return(0,l.Z)(function*(){return Fe(On(),J._delegate,"operation-not-supported-in-this-environment"),yield Mn(J._delegate),M.f(J._delegate,O,ln)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return M.a4(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Qe,P})();function Ye(P,k,O){let J=P;"function"!=typeof P&&({next:J,error:k,complete:O}=P);const ae=J;return{next:gt=>ae(gt&&kn.getOrCreate(gt)),error:k,complete:O}}function ct(P,k){const O=function Ct(P,k){const O=rt();if(!O)return[];const J=M.aA(ai,P,k);switch(O.getItem(J)){case Qe.NONE:return[M.L];case Qe.LOCAL:return[M.i,M.a];case Qe.SESSION:return[M.a];default:return[]}}(P,k);if(typeof self<"u"&&!O.includes(M.i)&&O.push(M.i),typeof window<"u")for(const J of[M.b,M.a])O.includes(J)||O.push(J);return O.includes(M.L)||O.push(M.L),O}class bt{constructor(){this.providerId="phone",this._delegate=new M.P(In(G.Z.auth()))}static credential(k,O){return M.P.credential(k,O)}verifyPhoneNumber(k,O){return this._delegate.verifyPhoneNumber(k,O)}unwrap(){return this._delegate}}bt.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,bt.PROVIDER_ID=M.P.PROVIDER_ID;const Vt=M.ax;class xn{constructor(k,O,J=G.Z.app()){var ae;Vt(null===(ae=J.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new M.R(k,O,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(P){P.INTERNAL.registerComponent(new fe.wA("auth-compat",k=>{const O=k.getProvider("app-compat").getImmediate(),J=k.getProvider("auth");return new me(O,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:bt,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:xn,TwitterAuthProvider:M.W,Auth:me,AuthCredential:M.H,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.3.4")}(G.Z)},8766:(it,ye,F)=>{F.d(ye,{Lj:()=>Ie,X3:()=>Re});var l=F(5861);const G=(se,pe)=>pe.some(Be=>se instanceof Be);let M,ee;const fe=new WeakMap,le=new WeakMap,ue=new WeakMap,W=new WeakMap,z=new WeakMap;let Ce={get(se,pe,Be){if(se instanceof IDBTransaction){if("done"===pe)return le.get(se);if("objectStoreNames"===pe)return se.objectStoreNames||ue.get(se);if("store"===pe)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return be(se[pe])},set:(se,pe,Be)=>(se[pe]=Be,!0),has:(se,pe)=>se instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in se};function he(se){return"function"==typeof se?function et(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...pe){return se.apply(ve(this),pe),be(fe.get(this))}:function(...pe){return be(se.apply(ve(this),pe))}:function(pe,...Be){const Me=se.call(ve(this),pe,...Be);return ue.set(Me,pe.sort?pe.sort():[pe]),be(Me)}}(se):(se instanceof IDBTransaction&&function xe(se){if(le.has(se))return;const pe=new Promise((Be,Me)=>{const mt=()=>{se.removeEventListener("complete",We),se.removeEventListener("error",oe),se.removeEventListener("abort",oe)},We=()=>{Be(),mt()},oe=()=>{Me(se.error||new DOMException("AbortError","AbortError")),mt()};se.addEventListener("complete",We),se.addEventListener("error",oe),se.addEventListener("abort",oe)});le.set(se,pe)}(se),G(se,function re(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Ce):se)}function be(se){if(se instanceof IDBRequest)return function Z(se){const pe=new Promise((Be,Me)=>{const mt=()=>{se.removeEventListener("success",We),se.removeEventListener("error",oe)},We=()=>{Be(be(se.result)),mt()},oe=()=>{Me(se.error),mt()};se.addEventListener("success",We),se.addEventListener("error",oe)});return pe.then(Be=>{Be instanceof IDBCursor&&fe.set(Be,se)}).catch(()=>{}),z.set(pe,se),pe}(se);if(W.has(se))return W.get(se);const pe=he(se);return pe!==se&&(W.set(se,pe),z.set(pe,se)),pe}const ve=se=>z.get(se);function Re(se,pe,{blocked:Be,upgrade:Me,blocking:mt,terminated:We}={}){const oe=indexedDB.open(se,pe),ce=be(oe);return Me&&oe.addEventListener("upgradeneeded",ge=>{Me(be(oe.result),ge.oldVersion,ge.newVersion,be(oe.transaction))}),Be&&oe.addEventListener("blocked",()=>Be()),ce.then(ge=>{We&&ge.addEventListener("close",()=>We()),mt&&ge.addEventListener("versionchange",()=>mt())}).catch(()=>{}),ce}function Ie(se,{blocked:pe}={}){const Be=indexedDB.deleteDatabase(se);return pe&&Be.addEventListener("blocked",()=>pe()),be(Be).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ve=new Map;function Q(se,pe){if(!(se instanceof IDBDatabase)||pe in se||"string"!=typeof pe)return;if(Ve.get(pe))return Ve.get(pe);const Be=pe.replace(/FromIndex$/,""),Me=pe!==Be,mt=Ee.includes(Be);if(!(Be in(Me?IDBIndex:IDBObjectStore).prototype)||!mt&&!Ne.includes(Be))return;const We=function(){var oe=(0,l.Z)(function*(ce,...ge){const Te=this.transaction(ce,mt?"readwrite":"readonly");let Pe=Te.store;return Me&&(Pe=Pe.index(ge.shift())),(yield Promise.all([Pe[Be](...ge),mt&&Te.done]))[0]});return function(ge){return oe.apply(this,arguments)}}();return Ve.set(pe,We),We}!function Ge(se){Ce=se(Ce)}(se=>({...se,get:(pe,Be,Me)=>Q(pe,Be)||se.get(pe,Be,Me),has:(pe,Be)=>!!Q(pe,Be)||se.has(pe,Be)}))},5861:(it,ye,F)=>{function l(M,ee,re,ie,fe,le,ue){try{var W=M[le](ue),z=W.value}catch(Z){return void re(Z)}W.done?ee(z):Promise.resolve(z).then(ie,fe)}function G(M){return function(){var ee=this,re=arguments;return new Promise(function(ie,fe){var le=M.apply(ee,re);function ue(z){l(le,ie,fe,ue,W,"next",z)}function W(z){l(le,ie,fe,ue,W,"throw",z)}ue(void 0)})}}F.d(ye,{Z:()=>G})}},it=>{it(it.s=8299)}]);